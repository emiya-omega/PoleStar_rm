ARM GAS  /tmp/ccLzcuV9.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ff.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
  18              		.section	.text.mem_cpy,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	mem_cpy:
  25              	.LVL0:
  26              	.LFB65:
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - FAT file system module  R0.11                 (C)ChaN, 2015
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is a free software that opened under license policy of
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / following conditions.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2015, ChaN, all right reserved.
   8:Middlewares/Third_Party/FatFs/src/ff.c **** /
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  11:Middlewares/Third_Party/FatFs/src/ff.c **** /
  12:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  13:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 26,'06 R0.00  Prototype.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /
  19:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 29,'06 R0.01  First stable version.
  20:Middlewares/Third_Party/FatFs/src/ff.c **** /
  21:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 01,'06 R0.02  Added FAT12 support.
  22:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Removed unbuffered mode.
  23:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a problem on small (<32M) partition.
  24:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 10,'06 R0.02a Added a configuration option (_FS_MINIMUM).
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /
  26:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 22,'06 R0.03  Added f_rename().
  27:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option _FS_MINIMUM to _FS_MINIMIZE.
  28:Middlewares/Third_Party/FatFs/src/ff.c **** / Dec 11,'06 R0.03a Improved cluster scan algorithm to write files fast.
  29:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() creates incorrect directory on FAT32.
  30:Middlewares/Third_Party/FatFs/src/ff.c **** /
  31:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 04,'07 R0.04  Supported multiple drive system.
  32:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some interfaces for multiple drive system.
ARM GAS  /tmp/ccLzcuV9.s 			page 2


  33:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_mountdrv() to f_mount().
  34:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_mkfs().
  35:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'07 R0.04a Supported multiple partitions on a physical drive.
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a capability of extending file size to f_lseek().
  37:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added minimization level 3.
  38:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed an endian sensitive code in f_mkfs().
  39:Middlewares/Third_Party/FatFs/src/ff.c **** / May 05,'07 R0.04b Added a configuration option _USE_NTFLAG.
  40:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added FSINFO support.
  41:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed DBCS name can result FR_INVALID_NAME.
  42:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed short seek (<= csize) collapses the file object.
  43:Middlewares/Third_Party/FatFs/src/ff.c **** /
  44:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 25,'07 R0.05  Changed arguments of f_read(), f_write() and f_mkfs().
  45:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() on FAT32 creates incorrect FSINFO.
  46:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() on FAT32 creates incorrect directory.
  47:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 03,'08 R0.05a Added f_truncate() and f_utime().
  48:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed off by one error at FAT sub-type determination.
  49:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed btr in f_read() can be mistruncated.
  50:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed cached sector is not flushed when create and close without write.
  51:Middlewares/Third_Party/FatFs/src/ff.c **** /
  52:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'08 R0.06  Added fputc(), fputs(), fprintf() and fgets().
  53:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved performance of f_lseek() on moving to the same or following cluster.
  54:Middlewares/Third_Party/FatFs/src/ff.c **** /
  55:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'09 R0.07  Merged Tiny-FatFs as a configuration option. (_FS_TINY)
  56:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added long file name feature.
  57:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple code page feature.
  58:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added re-entrancy for multitask operation.
  59:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added auto cluster size selection to f_mkfs().
  60:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added rewind option to f_readdir().
  61:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed result code of critical errors.
  62:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Renamed string functions to avoid name collision.
  63:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 14,'09 R0.07a Separated out OS dependent code on reentrant cfg.
  64:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple sector size feature.
  65:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 21,'09 R0.07c Fixed f_unlink() can return FR_OK on error.
  66:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed wrong cache control in f_lseek().
  67:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added relative path feature.
  68:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_chdir() and f_chdrive().
  69:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added proper case conversion to extended character.
  70:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov 03,'09 R0.07e Separated out configuration options from ff.h to ffconf.h.
  71:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() fails to remove a sub-directory on _FS_RPATH.
  72:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed name matching error on the 13 character boundary.
  73:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option, _LFN_UNICODE.
  74:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_readdir() to return the SFN with always upper case on non-LFN cfg.
  75:Middlewares/Third_Party/FatFs/src/ff.c **** /
  76:Middlewares/Third_Party/FatFs/src/ff.c **** / May 15,'10 R0.08  Added a memory configuration option. (_USE_LFN = 3)
  77:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added file lock feature. (_FS_SHARE)
  78:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added fast seek feature. (_USE_FASTSEEK)
  79:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some types on the API, XCHAR->TCHAR.
  80:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed .fname in the FILINFO structure on Unicode cfg.
  81:Middlewares/Third_Party/FatFs/src/ff.c **** /                   String functions support UTF-8 encoding files on Unicode cfg.
  82:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 16,'10 R0.08a Added f_getcwd().
  83:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added sector erase feature. (_USE_ERASE)
  84:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Moved file lock semaphore table from fs object to the bss.
  85:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a wrong directory entry is created on non-LFN cfg when the given name con
  86:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() creates wrong FAT32 volume.
  87:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'11 R0.08b Fast seek feature is also applied to f_read() and f_write().
  88:Middlewares/Third_Party/FatFs/src/ff.c **** /                   f_lseek() reports required table size on creating CLMP.
  89:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Extended format syntax of f_printf().
ARM GAS  /tmp/ccLzcuV9.s 			page 3


  90:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Ignores duplicated directory separators in given path name.
  91:Middlewares/Third_Party/FatFs/src/ff.c **** /
  92:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 06,'11 R0.09  f_mkfs() supports multiple partition to complete the multiple partition feature
  93:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_fdisk().
  94:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 27,'12 R0.09a Changed f_open() and f_opendir() reject null object pointer to avoid crash.
  95:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option name _FS_SHARE to _FS_LOCK.
  96:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed assertion failure due to OS/2 EA on FAT12/16 volume.
  97:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 24,'13 R0.09b Added f_setlabel() and f_getlabel().
  98:Middlewares/Third_Party/FatFs/src/ff.c **** /
  99:Middlewares/Third_Party/FatFs/src/ff.c **** / Oct 02,'13 R0.10  Added selection of character encoding on the file. (_STRF_ENCODE)
 100:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_closedir().
 101:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced full FAT scan for f_getfree(). (_FS_NOFSINFO)
 102:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced mount feature with changes of f_mount().
 103:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved behavior of volume auto detection.
 104:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved write throughput of f_puts() and f_printf().
 105:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed argument of f_chdrive(), f_mkfs(), disk_read() and disk_write().
 106:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_write() can be truncated when the file size is close to 4GB.
 107:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_open(), f_mkdir() and f_setlabel() can return incorrect error code.
 108:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'14 R0.10a Added arbitrary strings as drive number in the path name. (_STR_VOLUME_ID)
 109:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option of minimum sector size. (_MIN_SS)
 110:Middlewares/Third_Party/FatFs/src/ff.c **** /                   2nd argument of f_rename() can have a drive number and it will be ignored.
 111:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mount() with forced mount fails when drive number is >= 1.
 112:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_close() invalidates the file object without volume lock.
 113:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_closedir() returns but the volume lock is left acquired.
 114:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed creation of an entry with LFN fails on too many SFN collisions.
 115:Middlewares/Third_Party/FatFs/src/ff.c **** / May 19,'14 R0.10b Fixed a hard error in the disk I/O layer can collapse the directory entry.
 116:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed LFN entry is not deleted on delete/rename an object with lossy converted 
 117:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov  9,'14 R0.10c Added a configuration option for the platforms without RTC. (_FS_NORTC)
 118:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed volume label created by Mac OS X cannot be retrieved with f_getlabel(). (
 119:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a potential problem of FAT access that can appear on disk error.
 120:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed null pointer dereference on attempting to delete the root direcotry. (app
 121:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 02,'15 R0.11  Added f_findfirst() and f_findnext(). (_USE_FIND)
 122:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() does not remove cluster chain of the file. (appeared at R0.10c
 123:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed _FS_NORTC option does not work properly. (appeared at R0.10c)
 124:Middlewares/Third_Party/FatFs/src/ff.c **** /---------------------------------------------------------------------------*/
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 
 126:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
 127:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of disk I/O functions */
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 130:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 132:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 134:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 
 136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 32020	/* Revision ID */
 137:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
 138:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** 
 141:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 143:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 144:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 146:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
ARM GAS  /tmp/ccLzcuV9.s 			page 4


 147:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 148:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 149:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 150:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 152:Middlewares/Third_Party/FatFs/src/ff.c **** 
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 
 156:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 157:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 158:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 159:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 160:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 161:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 
 167:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp feature */
 168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 169:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 170:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 171:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 172:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 178:Middlewares/Third_Party/FatFs/src/ff.c **** /* File access control feature */
 179:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 180:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 181:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 182:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 183:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 184:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, directory (0:root) */
 186:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD idx;		/* Object ID 3, directory index */
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 188:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 189:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 
 193:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS extend character conversion table */
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
 198:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
 199:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
 200:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
 201:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
 202:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
 203:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
ARM GAS  /tmp/ccLzcuV9.s 			page 5


 204:Middlewares/Third_Party/FatFs/src/ff.c **** 
 205:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 209:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 210:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
 211:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 
 213:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
 214:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 215:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 216:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
 220:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
 221:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 
 223:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
 224:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 225:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 226:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 227:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 230:Middlewares/Third_Party/FatFs/src/ff.c **** 
 231:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. (OEM) */
 232:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 233:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x9
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 238:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic (OEM) */
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x9
 241:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 
 245:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek (OEM) */
 246:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 247:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96,0xB0,0xB1,0xB2,
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 250:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic (OEM) */
 253:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 254:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x9
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xB5,0xB6,0xB7,
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 259:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Multilingual Latin 1 (OEM) */
 260:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
ARM GAS  /tmp/ccLzcuV9.s 			page 6


 261:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 262:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 263:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 264:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 265:Middlewares/Third_Party/FatFs/src/ff.c **** 
 266:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 (OEM) */
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x9
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF,0xB0,0xB1,0xB2,
 270:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic (OEM) */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x9
 276:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD3,
 278:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish (OEM) */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x9
 283:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 284:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,
 286:Middlewares/Third_Party/FatFs/src/ff.c **** 
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 858	/* Multilingual Latin 1 + Euro (OEM) */
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 290:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 292:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew (OEM) */
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 297:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian (OEM) */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0xB0,0xB1,0xB2,
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 306:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,
 307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 874	/* Thai (OEM, Windows) */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 310:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 312:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 313:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 314:Middlewares/Third_Party/FatFs/src/ff.c **** 
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1250 /* Central Europe (Windows) */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
ARM GAS  /tmp/ccLzcuV9.s 			page 7


 318:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 319:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 320:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 321:Middlewares/Third_Party/FatFs/src/ff.c **** 
 322:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1251 /* Cyrillic (Windows) */
 323:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 324:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x8
 325:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA2,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 326:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 327:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1252 /* Latin 1 (Windows) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 331:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 333:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 334:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1253 /* Greek (Windows) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 339:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 340:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 341:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1254 /* Turkish (Windows) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 346:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 347:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 348:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 349:Middlewares/Third_Party/FatFs/src/ff.c **** 
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1255 /* Hebrew (Windows) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 353:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 354:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 355:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1256 /* Arabic (Windows) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 360:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 361:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 362:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,
 363:Middlewares/Third_Party/FatFs/src/ff.c **** 
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1257 /* Baltic (Windows) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 367:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 368:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 369:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1258 /* Vietnam (OEM, Windows) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 374:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
ARM GAS  /tmp/ccLzcuV9.s 			page 8


 375:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 376:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 377:Middlewares/Third_Party/FatFs/src/ff.c **** 
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot use LFN feature without valid code page.
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 383:Middlewares/Third_Party/FatFs/src/ff.c **** 
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 388:Middlewares/Third_Party/FatFs/src/ff.c **** 
 389:Middlewares/Third_Party/FatFs/src/ff.c **** 
 390:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 392:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 394:Middlewares/Third_Party/FatFs/src/ff.c **** 
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S		/* Code page is DBCS */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** 
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 402:Middlewares/Third_Party/FatFs/src/ff.c **** 
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 408:Middlewares/Third_Party/FatFs/src/ff.c **** 
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** 
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 413:Middlewares/Third_Party/FatFs/src/ff.c **** 
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** 
 416:Middlewares/Third_Party/FatFs/src/ff.c **** 
 417:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of name status byte in fn[] */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** 
 426:Middlewares/Third_Party/FatFs/src/ff.c **** 
 427:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT sub-type boundaries (Differ from specs but correct for real DOS/Windows) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define MIN_FAT16	4086U	/* Minimum number of clusters as FAT16 */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MIN_FAT32	65526U	/* Minimum number of clusters as FAT32 */
 430:Middlewares/Third_Party/FatFs/src/ff.c **** 
 431:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 9


 432:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the members in the FAT structures as byte array instead of
 433:Middlewares/Third_Party/FatFs/src/ff.c **** / structure member because the structure is not binary compatible between
 434:Middlewares/Third_Party/FatFs/src/ff.c **** / different platforms */
 435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_jmpBoot			0		/* x86 jump instruction (3) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (2) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (1) */
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (2) */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FAT copies (1) */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Number of root directory entries for FAT12/16 (2) */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size [sector] (2) */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor (1) */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size [sector] (2) */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size [sector] (2) */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads (2) */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Number of special hidden sectors (4) */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size [sector] (4) */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number (2) */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (1) */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (4) */
 453:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label (8) */
 454:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type (1) */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT size [sector] (4) */
 456:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags		40		/* Extended flags (2) */
 457:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer			42		/* File system version (2) */
 458:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus		44		/* Root directory first cluster (4) */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo			48		/* Offset of FSINFO sector (2) */
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec		50		/* Offset of backup boot sector (2) */
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* Physical drive number (2) */
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* Extended boot signature (1) */
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* Volume serial number (4) */
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* Volume label (8) */
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* File system type (1) */
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FSI: Leading signature (4) */
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FSI: Structure signature (4) */
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FSI: Number of free clusters (4) */
 469:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FSI: Last allocated cluster (4) */
 470:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Partition table offset (2) */
 471:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (2) */
 473:Middlewares/Third_Party/FatFs/src/ff.c **** 
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11) */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (1) */
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (1) */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTimeTenth	13		/* Created time sub-second (1) */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (2) */
 479:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtDate			16		/* Created date (2) */
 480:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (2) */
 481:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (2) */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtTime			22		/* Modified time (2) */
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtDate			24		/* Modified date (2) */
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (2) */
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (4) */
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN entry order and LLE flag (1) */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN attribute (1) */
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN type (1) */
ARM GAS  /tmp/ccLzcuV9.s 			page 10


 489:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* Sum of corresponding SFN entry */
 490:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* Must be zero (0) */
 491:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_DIRE				32		/* Size of a directory entry */
 492:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark at DIR_Name[0] */
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 495:Middlewares/Third_Party/FatFs/src/ff.c **** 
 496:Middlewares/Third_Party/FatFs/src/ff.c **** 
 497:Middlewares/Third_Party/FatFs/src/ff.c **** 
 498:Middlewares/Third_Party/FatFs/src/ff.c **** 
 499:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 500:Middlewares/Third_Party/FatFs/src/ff.c **** /* Module private work area                                   */
 501:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 502:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Uninitialized variables with static duration are
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /  guaranteed zero/null at start-up. If not, either the linker
 504:Middlewares/Third_Party/FatFs/src/ff.c **** /  or start-up routine being used is out of ANSI-C standard.
 505:Middlewares/Third_Party/FatFs/src/ff.c **** */
 506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 9
 508:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 509:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 510:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 
 513:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
 514:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 515:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 518:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 519:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 520:Middlewares/Third_Party/FatFs/src/ff.c **** 
 521:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0			/* Non LFN feature */
 522:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 523:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		(dobj).fn = sfn
 524:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 525:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 526:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 527:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN setting
 528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 529:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1			/* LFN feature with static working buffer */
 530:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = LfnBuf; }
 533:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 534:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 		/* LFN feature with dynamic working buffer on the stack */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR lbuf[_MAX_LFN + 1]
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = lbuf; }
 537:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 		/* LFN feature with dynamic working buffer on the heap */
 539:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR *lfn
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ lfn = ff_memalloc((_MAX_LFN + 1) * 2); if (!lfn) LEAVE_FF((dobj).fs, FR_N
 541:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()			ff_memfree(lfn)
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 543:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccLzcuV9.s 			page 11


 546:Middlewares/Third_Party/FatFs/src/ff.c **** 
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 548:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for extended characters */
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 550:Middlewares/Third_Party/FatFs/src/ff.c **** 
 551:Middlewares/Third_Party/FatFs/src/ff.c **** 
 552:Middlewares/Third_Party/FatFs/src/ff.c **** 
 553:Middlewares/Third_Party/FatFs/src/ff.c **** 
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** 
 556:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 557:Middlewares/Third_Party/FatFs/src/ff.c **** 
 558:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 559:Middlewares/Third_Party/FatFs/src/ff.c **** 
 560:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 561:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (FATFS* fs, DWORD clst);
 562:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (FATFS* fs,	DWORD clst);
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 565:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (FATFS* fs,	DWORD clst,	DWORD val);
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 567:Middlewares/Third_Party/FatFs/src/ff.c **** 
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 569:Middlewares/Third_Party/FatFs/src/ff.c **** static void gen_numname (BYTE* dst, const BYTE* src, const WCHAR* lfn, UINT seq);
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_USE_LFN */
 571:Middlewares/Third_Party/FatFs/src/ff.c **** 
 572:Middlewares/Third_Party/FatFs/src/ff.c **** 
 573:Middlewares/Third_Party/FatFs/src/ff.c **** 
 574:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 575:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 577:Middlewares/Third_Party/FatFs/src/ff.c **** 
 578:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 579:Middlewares/Third_Party/FatFs/src/ff.c **** static
 580:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
  27              		.loc 1 580 53 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 581:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  32              		.loc 1 581 2 view .LVU1
 582:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
  33              		.loc 1 582 2 view .LVU2
 583:Middlewares/Third_Party/FatFs/src/ff.c **** 
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #if _WORD_ACCESS == 1
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt >= sizeof (int)) {
 586:Middlewares/Third_Party/FatFs/src/ff.c **** 		*(int*)d = *(int*)s;
 587:Middlewares/Third_Party/FatFs/src/ff.c **** 		d += sizeof (int); s += sizeof (int);
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 		cnt -= sizeof (int);
 589:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  34              		.loc 1 591 2 view .LVU3
  35              		.loc 1 591 8 is_stmt 0 view .LVU4
  36 0000 04E0     		b	.L2
  37              	.LVL1:
ARM GAS  /tmp/ccLzcuV9.s 			page 12


  38              	.L3:
 592:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  39              		.loc 1 592 3 is_stmt 1 view .LVU5
  40              		.loc 1 592 10 is_stmt 0 view .LVU6
  41 0002 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
  42              	.LVL2:
  43              		.loc 1 592 8 view .LVU7
  44 0006 00F8012B 		strb	r2, [r0], #1
  45              	.LVL3:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  46              		.loc 1 591 12 view .LVU8
  47 000a 1A46     		mov	r2, r3
  48              	.LVL4:
  49              	.L2:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  50              		.loc 1 591 9 is_stmt 1 view .LVU9
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  51              		.loc 1 591 12 is_stmt 0 view .LVU10
  52 000c 531E     		subs	r3, r2, #1
  53              	.LVL5:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  54              		.loc 1 591 9 view .LVU11
  55 000e 002A     		cmp	r2, #0
  56 0010 F7D1     		bne	.L3
 593:Middlewares/Third_Party/FatFs/src/ff.c **** }
  57              		.loc 1 593 1 view .LVU12
  58 0012 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE65:
  62              		.section	.text.mem_set,"ax",%progbits
  63              		.align	1
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  68              	mem_set:
  69              	.LVL6:
  70              	.LFB66:
 594:Middlewares/Third_Party/FatFs/src/ff.c **** 
 595:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory */
 596:Middlewares/Third_Party/FatFs/src/ff.c **** static
 597:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
  71              		.loc 1 597 45 is_stmt 1 view -0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              		@ link register save eliminated.
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  76              		.loc 1 598 2 view .LVU14
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  77              		.loc 1 600 2 view .LVU15
  78              		.loc 1 600 8 is_stmt 0 view .LVU16
  79 0000 02E0     		b	.L5
  80              	.LVL7:
  81              	.L6:
 601:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  82              		.loc 1 601 3 is_stmt 1 view .LVU17
ARM GAS  /tmp/ccLzcuV9.s 			page 13


  83              		.loc 1 601 8 is_stmt 0 view .LVU18
  84 0002 00F8011B 		strb	r1, [r0], #1
  85              	.LVL8:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  86              		.loc 1 600 12 view .LVU19
  87 0006 1A46     		mov	r2, r3
  88              	.LVL9:
  89              	.L5:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  90              		.loc 1 600 9 is_stmt 1 view .LVU20
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  91              		.loc 1 600 12 is_stmt 0 view .LVU21
  92 0008 531E     		subs	r3, r2, #1
  93              	.LVL10:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  94              		.loc 1 600 9 view .LVU22
  95 000a 002A     		cmp	r2, #0
  96 000c F9D1     		bne	.L6
 602:Middlewares/Third_Party/FatFs/src/ff.c **** }
  97              		.loc 1 602 1 view .LVU23
  98 000e 7047     		bx	lr
  99              		.cfi_endproc
 100              	.LFE66:
 102              		.section	.text.mem_cmp,"ax",%progbits
 103              		.align	1
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 108              	mem_cmp:
 109              	.LVL11:
 110              	.LFB67:
 603:Middlewares/Third_Party/FatFs/src/ff.c **** 
 604:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory to memory */
 605:Middlewares/Third_Party/FatFs/src/ff.c **** static
 606:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {
 111              		.loc 1 606 58 is_stmt 1 view -0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		@ link register save eliminated.
 116              		.loc 1 606 58 is_stmt 0 view .LVU25
 117 0000 10B4     		push	{r4}
 118              	.LCFI0:
 119              		.cfi_def_cfa_offset 4
 120              		.cfi_offset 4, -4
 121 0002 0346     		mov	r3, r0
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 122              		.loc 1 607 2 is_stmt 1 view .LVU26
 123              	.LVL12:
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 124              		.loc 1 608 2 view .LVU27
 609:Middlewares/Third_Party/FatFs/src/ff.c **** 
 610:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt-- && (r = *d++ - *s++) == 0) ;
 125              		.loc 1 610 2 view .LVU28
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 126              		.loc 1 608 6 is_stmt 0 view .LVU29
 127 0004 0020     		movs	r0, #0
ARM GAS  /tmp/ccLzcuV9.s 			page 14


 128              	.LVL13:
 129              	.L9:
 130              		.loc 1 610 15 is_stmt 1 discriminator 2 view .LVU30
 131 0006 1446     		mov	r4, r2
 132              		.loc 1 610 12 is_stmt 0 discriminator 2 view .LVU31
 133 0008 013A     		subs	r2, r2, #1
 134              	.LVL14:
 135              		.loc 1 610 15 discriminator 2 view .LVU32
 136 000a 34B1     		cbz	r4, .L7
 137              	.LVL15:
 138              		.loc 1 610 23 discriminator 1 view .LVU33
 139 000c 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 140              	.LVL16:
 141              		.loc 1 610 30 discriminator 1 view .LVU34
 142 0010 11F801CB 		ldrb	ip, [r1], #1	@ zero_extendqisi2
 143              	.LVL17:
 144              		.loc 1 610 15 discriminator 1 view .LVU35
 145 0014 B0EB0C00 		subs	r0, r0, ip
 146              	.LVL18:
 147              		.loc 1 610 15 discriminator 1 view .LVU36
 148 0018 F5D0     		beq	.L9
 149              	.LVL19:
 150              	.L7:
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 612:Middlewares/Third_Party/FatFs/src/ff.c **** }
 151              		.loc 1 612 1 view .LVU37
 152 001a 10BC     		pop	{r4}
 153              	.LCFI1:
 154              		.cfi_restore 4
 155              		.cfi_def_cfa_offset 0
 156 001c 7047     		bx	lr
 157              		.cfi_endproc
 158              	.LFE67:
 160              		.section	.text.chk_chr,"ax",%progbits
 161              		.align	1
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 166              	chk_chr:
 167              	.LVL20:
 168              	.LFB68:
 613:Middlewares/Third_Party/FatFs/src/ff.c **** 
 614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 615:Middlewares/Third_Party/FatFs/src/ff.c **** static
 616:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {
 169              		.loc 1 616 40 is_stmt 1 view -0
 170              		.cfi_startproc
 171              		@ args = 0, pretend = 0, frame = 0
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173              		@ link register save eliminated.
 174              		.loc 1 616 40 is_stmt 0 view .LVU39
 175 0000 0346     		mov	r3, r0
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 176              		.loc 1 617 2 is_stmt 1 view .LVU40
 177              		.loc 1 617 8 is_stmt 0 view .LVU41
 178 0002 00E0     		b	.L13
 179              	.LVL21:
ARM GAS  /tmp/ccLzcuV9.s 			page 15


 180              	.L15:
 181              		.loc 1 617 30 is_stmt 1 discriminator 3 view .LVU42
 182              		.loc 1 617 33 is_stmt 0 discriminator 3 view .LVU43
 183 0004 0133     		adds	r3, r3, #1
 184              	.LVL22:
 185              	.L13:
 186              		.loc 1 617 14 is_stmt 1 discriminator 1 view .LVU44
 187              		.loc 1 617 9 is_stmt 0 discriminator 1 view .LVU45
 188 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 189              		.loc 1 617 14 discriminator 1 view .LVU46
 190 0008 08B1     		cbz	r0, .L14
 191              		.loc 1 617 14 discriminator 2 view .LVU47
 192 000a 8842     		cmp	r0, r1
 193 000c FAD1     		bne	.L15
 194              	.L14:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 195              		.loc 1 618 2 is_stmt 1 view .LVU48
 619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 196              		.loc 1 619 1 is_stmt 0 view .LVU49
 197 000e 7047     		bx	lr
 198              		.cfi_endproc
 199              	.LFE68:
 201              		.section	.text.chk_lock,"ax",%progbits
 202              		.align	1
 203              		.syntax unified
 204              		.thumb
 205              		.thumb_func
 207              	chk_lock:
 208              	.LVL23:
 209              	.LFB69:
 620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 623:Middlewares/Third_Party/FatFs/src/ff.c **** 
 624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 625:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 626:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 627:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 628:Middlewares/Third_Party/FatFs/src/ff.c **** static
 629:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 631:Middlewares/Third_Party/FatFs/src/ff.c **** )
 632:Middlewares/Third_Party/FatFs/src/ff.c **** {
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_req_grant(fs->sobj);
 634:Middlewares/Third_Party/FatFs/src/ff.c **** }
 635:Middlewares/Third_Party/FatFs/src/ff.c **** 
 636:Middlewares/Third_Party/FatFs/src/ff.c **** 
 637:Middlewares/Third_Party/FatFs/src/ff.c **** static
 638:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 641:Middlewares/Third_Party/FatFs/src/ff.c **** )
 642:Middlewares/Third_Party/FatFs/src/ff.c **** {
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs &&
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_NOT_ENABLED &&
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_DRIVE &&
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_OBJECT &&
ARM GAS  /tmp/ccLzcuV9.s 			page 16


 647:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_TIMEOUT) {
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 649:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 650:Middlewares/Third_Party/FatFs/src/ff.c **** }
 651:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 652:Middlewares/Third_Party/FatFs/src/ff.c **** 
 653:Middlewares/Third_Party/FatFs/src/ff.c **** 
 654:Middlewares/Third_Party/FatFs/src/ff.c **** 
 655:Middlewares/Third_Party/FatFs/src/ff.c **** 
 656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 657:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 658:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 659:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 661:Middlewares/Third_Party/FatFs/src/ff.c **** static
 662:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 665:Middlewares/Third_Party/FatFs/src/ff.c **** )
 666:Middlewares/Third_Party/FatFs/src/ff.c **** {
 210              		.loc 1 666 1 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214              		@ link register save eliminated.
 215              		.loc 1 666 1 is_stmt 0 view .LVU51
 216 0000 30B4     		push	{r4, r5}
 217              	.LCFI2:
 218              		.cfi_def_cfa_offset 8
 219              		.cfi_offset 4, -8
 220              		.cfi_offset 5, -4
 667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 221              		.loc 1 667 2 is_stmt 1 view .LVU52
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 222              		.loc 1 670 2 view .LVU53
 223              	.LVL24:
 224              		.loc 1 670 14 is_stmt 0 view .LVU54
 225 0002 0025     		movs	r5, #0
 226              		.loc 1 670 9 view .LVU55
 227 0004 2B46     		mov	r3, r5
 228              		.loc 1 670 2 view .LVU56
 229 0006 01E0     		b	.L17
 230              	.LVL25:
 231              	.L24:
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->fs &&	 	/* Check if the object matched with an open object */
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 232              		.loc 1 676 7 view .LVU57
 233 0008 0125     		movs	r5, #1
 234              	.LVL26:
 235              	.L18:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
ARM GAS  /tmp/ccLzcuV9.s 			page 17


 236              		.loc 1 670 34 is_stmt 1 discriminator 2 view .LVU58
 237 000a 0133     		adds	r3, r3, #1
 238              	.LVL27:
 239              	.L17:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 240              		.loc 1 670 21 discriminator 1 view .LVU59
 241 000c 012B     		cmp	r3, #1
 242 000e 1ED8     		bhi	.L19
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 243              		.loc 1 671 3 view .LVU60
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 244              		.loc 1 671 15 is_stmt 0 view .LVU61
 245 0010 03EB4302 		add	r2, r3, r3, lsl #1
 246 0014 1C4C     		ldr	r4, .L33
 247 0016 54F82220 		ldr	r2, [r4, r2, lsl #2]
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 248              		.loc 1 671 6 view .LVU62
 249 001a 002A     		cmp	r2, #0
 250 001c F4D0     		beq	.L24
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 251              		.loc 1 672 4 is_stmt 1 view .LVU63
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 252              		.loc 1 672 25 is_stmt 0 view .LVU64
 253 001e D0F80042 		ldr	r4, [r0, #512]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 254              		.loc 1 672 7 view .LVU65
 255 0022 A242     		cmp	r2, r4
 256 0024 F1D1     		bne	.L18
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 257              		.loc 1 673 13 view .LVU66
 258 0026 03EB4304 		add	r4, r3, r3, lsl #1
 259 002a 174A     		ldr	r2, .L33
 260 002c 02EB8402 		add	r2, r2, r4, lsl #2
 261 0030 5468     		ldr	r4, [r2, #4]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 262              		.loc 1 673 23 view .LVU67
 263 0032 D0F80822 		ldr	r2, [r0, #520]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 264              		.loc 1 672 30 discriminator 1 view .LVU68
 265 0036 9442     		cmp	r4, r2
 266 0038 E7D1     		bne	.L18
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 267              		.loc 1 674 13 view .LVU69
 268 003a 03EB4304 		add	r4, r3, r3, lsl #1
 269 003e 124A     		ldr	r2, .L33
 270 0040 02EB8402 		add	r2, r2, r4, lsl #2
 271 0044 1489     		ldrh	r4, [r2, #8]
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 272              		.loc 1 674 23 view .LVU70
 273 0046 B0F80622 		ldrh	r2, [r0, #518]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 274              		.loc 1 673 32 view .LVU71
 275 004a 9442     		cmp	r4, r2
 276 004c DDD1     		bne	.L18
 277              	.L19:
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccLzcuV9.s 			page 18


 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK)	/* The object is not opened */
 278              		.loc 1 679 2 is_stmt 1 view .LVU72
 279              		.loc 1 679 5 is_stmt 0 view .LVU73
 280 004e 022B     		cmp	r3, #2
 281 0050 0CD0     		beq	.L30
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 681:Middlewares/Third_Party/FatFs/src/ff.c **** 
 682:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 683:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 282              		.loc 1 683 2 is_stmt 1 view .LVU74
 283              		.loc 1 683 52 is_stmt 0 view .LVU75
 284 0052 B1B9     		cbnz	r1, .L27
 285              		.loc 1 683 25 discriminator 2 view .LVU76
 286 0054 03EB4303 		add	r3, r3, r3, lsl #1
 287              	.LVL28:
 288              		.loc 1 683 25 discriminator 2 view .LVU77
 289 0058 0B4A     		ldr	r2, .L33
 290 005a 02EB8303 		add	r3, r2, r3, lsl #2
 291 005e 5B89     		ldrh	r3, [r3, #10]
 292              		.loc 1 683 14 discriminator 2 view .LVU78
 293 0060 B3F5807F 		cmp	r3, #256
 294 0064 0BD0     		beq	.L31
 295              		.loc 1 683 52 discriminator 4 view .LVU79
 296 0066 0020     		movs	r0, #0
 297              	.LVL29:
 298              	.L23:
 684:Middlewares/Third_Party/FatFs/src/ff.c **** }
 299              		.loc 1 684 1 view .LVU80
 300 0068 30BC     		pop	{r4, r5}
 301              	.LCFI3:
 302              		.cfi_remember_state
 303              		.cfi_restore 5
 304              		.cfi_restore 4
 305              		.cfi_def_cfa_offset 0
 306              	.LVL30:
 307              		.loc 1 684 1 view .LVU81
 308 006a 7047     		bx	lr
 309              	.LVL31:
 310              	.L30:
 311              	.LCFI4:
 312              		.cfi_restore_state
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 313              		.loc 1 680 3 is_stmt 1 view .LVU82
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 314              		.loc 1 680 35 is_stmt 0 view .LVU83
 315 006c 2DB9     		cbnz	r5, .L25
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 316              		.loc 1 680 14 discriminator 2 view .LVU84
 317 006e 0229     		cmp	r1, #2
 318 0070 01D0     		beq	.L32
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 319              		.loc 1 680 35 discriminator 4 view .LVU85
 320 0072 1220     		movs	r0, #18
 321              	.LVL32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 322              		.loc 1 680 35 view .LVU86
 323 0074 F8E7     		b	.L23
ARM GAS  /tmp/ccLzcuV9.s 			page 19


 324              	.LVL33:
 325              	.L32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 326              		.loc 1 680 35 discriminator 3 view .LVU87
 327 0076 0020     		movs	r0, #0
 328              	.LVL34:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 329              		.loc 1 680 35 discriminator 3 view .LVU88
 330 0078 F6E7     		b	.L23
 331              	.LVL35:
 332              	.L25:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 333              		.loc 1 680 35 discriminator 3 view .LVU89
 334 007a 0020     		movs	r0, #0
 335              	.LVL36:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 336              		.loc 1 680 35 discriminator 3 view .LVU90
 337 007c F4E7     		b	.L23
 338              	.LVL37:
 339              	.L31:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 340              		.loc 1 683 52 discriminator 3 view .LVU91
 341 007e 1020     		movs	r0, #16
 342              	.LVL38:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 343              		.loc 1 683 52 discriminator 3 view .LVU92
 344 0080 F2E7     		b	.L23
 345              	.LVL39:
 346              	.L27:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 347              		.loc 1 683 52 discriminator 3 view .LVU93
 348 0082 1020     		movs	r0, #16
 349              	.LVL40:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 350              		.loc 1 683 52 discriminator 3 view .LVU94
 351 0084 F0E7     		b	.L23
 352              	.L34:
 353 0086 00BF     		.align	2
 354              	.L33:
 355 0088 00000000 		.word	Files
 356              		.cfi_endproc
 357              	.LFE69:
 359              		.section	.text.enq_lock,"ax",%progbits
 360              		.align	1
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 365              	enq_lock:
 366              	.LFB70:
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** static
 688:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** {
 367              		.loc 1 689 1 is_stmt 1 view -0
 368              		.cfi_startproc
 369              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccLzcuV9.s 			page 20


 370              		@ frame_needed = 0, uses_anonymous_args = 0
 371              		@ link register save eliminated.
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 372              		.loc 1 690 2 view .LVU96
 691:Middlewares/Third_Party/FatFs/src/ff.c **** 
 692:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 373              		.loc 1 692 2 view .LVU97
 374              	.LVL41:
 375              		.loc 1 692 9 is_stmt 0 view .LVU98
 376 0000 0020     		movs	r0, #0
 377              		.loc 1 692 2 view .LVU99
 378 0002 00E0     		b	.L36
 379              	.LVL42:
 380              	.L38:
 381              		.loc 1 692 44 is_stmt 1 discriminator 4 view .LVU100
 382 0004 0130     		adds	r0, r0, #1
 383              	.LVL43:
 384              	.L36:
 385              		.loc 1 692 27 discriminator 1 view .LVU101
 386 0006 0128     		cmp	r0, #1
 387 0008 06D8     		bhi	.L37
 388              		.loc 1 692 38 is_stmt 0 discriminator 3 view .LVU102
 389 000a 00EB4002 		add	r2, r0, r0, lsl #1
 390 000e 9300     		lsls	r3, r2, #2
 391 0010 034A     		ldr	r2, .L39
 392 0012 D358     		ldr	r3, [r2, r3]
 393              		.loc 1 692 27 discriminator 3 view .LVU103
 394 0014 002B     		cmp	r3, #0
 395 0016 F5D1     		bne	.L38
 396              	.L37:
 693:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 397              		.loc 1 693 2 is_stmt 1 view .LVU104
 694:Middlewares/Third_Party/FatFs/src/ff.c **** }
 398              		.loc 1 694 1 is_stmt 0 view .LVU105
 399 0018 0238     		subs	r0, r0, #2
 400              	.LVL44:
 401              		.loc 1 694 1 view .LVU106
 402 001a 18BF     		it	ne
 403 001c 0120     		movne	r0, #1
 404              	.LVL45:
 405              		.loc 1 694 1 view .LVU107
 406 001e 7047     		bx	lr
 407              	.L40:
 408              		.align	2
 409              	.L39:
 410 0020 00000000 		.word	Files
 411              		.cfi_endproc
 412              	.LFE70:
 414              		.section	.text.inc_lock,"ax",%progbits
 415              		.align	1
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 420              	inc_lock:
 421              	.LVL46:
 422              	.LFB71:
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 21


 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** static
 698:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 701:Middlewares/Third_Party/FatFs/src/ff.c **** )
 702:Middlewares/Third_Party/FatFs/src/ff.c **** {
 423              		.loc 1 702 1 is_stmt 1 view -0
 424              		.cfi_startproc
 425              		@ args = 0, pretend = 0, frame = 0
 426              		@ frame_needed = 0, uses_anonymous_args = 0
 427              		.loc 1 702 1 is_stmt 0 view .LVU109
 428 0000 10B5     		push	{r4, lr}
 429              	.LCFI5:
 430              		.cfi_def_cfa_offset 8
 431              		.cfi_offset 4, -8
 432              		.cfi_offset 14, -4
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 433              		.loc 1 703 2 is_stmt 1 view .LVU110
 704:Middlewares/Third_Party/FatFs/src/ff.c **** 
 705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 434              		.loc 1 706 2 view .LVU111
 435              	.LVL47:
 436              		.loc 1 706 9 is_stmt 0 view .LVU112
 437 0002 0023     		movs	r3, #0
 438              		.loc 1 706 2 view .LVU113
 439 0004 00E0     		b	.L42
 440              	.LVL48:
 441              	.L43:
 442              		.loc 1 706 29 is_stmt 1 discriminator 2 view .LVU114
 443 0006 0133     		adds	r3, r3, #1
 444              	.LVL49:
 445              	.L42:
 446              		.loc 1 706 16 discriminator 1 view .LVU115
 447 0008 012B     		cmp	r3, #1
 448 000a 1CD8     		bhi	.L44
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
 449              		.loc 1 707 3 view .LVU116
 450              		.loc 1 707 15 is_stmt 0 view .LVU117
 451 000c 03EB4302 		add	r2, r3, r3, lsl #1
 452 0010 2D4C     		ldr	r4, .L58
 453 0012 54F82240 		ldr	r4, [r4, r2, lsl #2]
 454              		.loc 1 707 24 view .LVU118
 455 0016 D0F80022 		ldr	r2, [r0, #512]
 456              		.loc 1 707 6 view .LVU119
 457 001a 9442     		cmp	r4, r2
 458 001c F3D1     		bne	.L43
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 459              		.loc 1 708 12 view .LVU120
 460 001e 03EB4304 		add	r4, r3, r3, lsl #1
 461 0022 294A     		ldr	r2, .L58
 462 0024 02EB8402 		add	r2, r2, r4, lsl #2
 463 0028 5468     		ldr	r4, [r2, #4]
 464              		.loc 1 708 22 view .LVU121
 465 002a D0F80822 		ldr	r2, [r0, #520]
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
ARM GAS  /tmp/ccLzcuV9.s 			page 22


 466              		.loc 1 707 29 discriminator 1 view .LVU122
 467 002e 9442     		cmp	r4, r2
 468 0030 E9D1     		bne	.L43
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].idx == dp->index) break;
 469              		.loc 1 709 12 view .LVU123
 470 0032 03EB4304 		add	r4, r3, r3, lsl #1
 471 0036 244A     		ldr	r2, .L58
 472 0038 02EB8402 		add	r2, r2, r4, lsl #2
 473 003c 1489     		ldrh	r4, [r2, #8]
 474              		.loc 1 709 22 view .LVU124
 475 003e B0F80622 		ldrh	r2, [r0, #518]
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 476              		.loc 1 708 31 view .LVU125
 477 0042 9442     		cmp	r4, r2
 478 0044 DFD1     		bne	.L43
 479              	.L44:
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 
 712:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 480              		.loc 1 712 2 is_stmt 1 view .LVU126
 481              		.loc 1 712 5 is_stmt 0 view .LVU127
 482 0046 022B     		cmp	r3, #2
 483 0048 0AD0     		beq	.L57
 484              	.LVL50:
 485              	.L47:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 486              		.loc 1 721 2 is_stmt 1 view .LVU128
 487              		.loc 1 721 5 is_stmt 0 view .LVU129
 488 004a 41B3     		cbz	r1, .L51
 489              		.loc 1 721 21 discriminator 1 view .LVU130
 490 004c 03EB4301 		add	r1, r3, r3, lsl #1
 491              	.LVL51:
 492              		.loc 1 721 21 discriminator 1 view .LVU131
 493 0050 1D4A     		ldr	r2, .L58
 494 0052 02EB8102 		add	r2, r2, r1, lsl #2
 495 0056 5289     		ldrh	r2, [r2, #10]
 496              		.loc 1 721 10 discriminator 1 view .LVU132
 497 0058 9ABB     		cbnz	r2, .L55
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 498              		.loc 1 723 15 discriminator 2 view .LVU133
 499 005a 4FF48072 		mov	r2, #256
 500 005e 26E0     		b	.L52
 501              	.LVL52:
 502              	.L57:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 503              		.loc 1 713 10 view .LVU134
 504 0060 0023     		movs	r3, #0
 505              	.LVL53:
ARM GAS  /tmp/ccLzcuV9.s 			page 23


 506              	.L46:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 507              		.loc 1 713 28 is_stmt 1 discriminator 1 view .LVU135
 508 0062 012B     		cmp	r3, #1
 509 0064 07D8     		bhi	.L48
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 510              		.loc 1 713 39 is_stmt 0 discriminator 3 view .LVU136
 511 0066 03EB4302 		add	r2, r3, r3, lsl #1
 512 006a 174C     		ldr	r4, .L58
 513 006c 54F82220 		ldr	r2, [r4, r2, lsl #2]
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 514              		.loc 1 713 28 discriminator 3 view .LVU137
 515 0070 0AB1     		cbz	r2, .L48
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 516              		.loc 1 713 45 is_stmt 1 discriminator 4 view .LVU138
 517 0072 0133     		adds	r3, r3, #1
 518              	.LVL54:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 519              		.loc 1 713 45 is_stmt 0 discriminator 4 view .LVU139
 520 0074 F5E7     		b	.L46
 521              	.L48:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 522              		.loc 1 714 3 is_stmt 1 view .LVU140
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 523              		.loc 1 714 6 is_stmt 0 view .LVU141
 524 0076 022B     		cmp	r3, #2
 525 0078 21D0     		beq	.L54
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 526              		.loc 1 715 3 is_stmt 1 view .LVU142
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 527              		.loc 1 715 15 is_stmt 0 view .LVU143
 528 007a 134C     		ldr	r4, .L58
 529 007c 03EB430C 		add	ip, r3, r3, lsl #1
 530 0080 04EB8C02 		add	r2, r4, ip, lsl #2
 531 0084 D0F800E2 		ldr	lr, [r0, #512]
 532 0088 44F82CE0 		str	lr, [r4, ip, lsl #2]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 533              		.loc 1 716 3 is_stmt 1 view .LVU144
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 534              		.loc 1 716 20 is_stmt 0 view .LVU145
 535 008c D0F80842 		ldr	r4, [r0, #520]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 536              		.loc 1 716 16 view .LVU146
 537 0090 5460     		str	r4, [r2, #4]
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 538              		.loc 1 717 3 is_stmt 1 view .LVU147
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 539              		.loc 1 717 20 is_stmt 0 view .LVU148
 540 0092 B0F80602 		ldrh	r0, [r0, #518]
 541              	.LVL55:
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 542              		.loc 1 717 16 view .LVU149
 543 0096 1081     		strh	r0, [r2, #8]	@ movhi
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 544              		.loc 1 718 3 is_stmt 1 view .LVU150
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 545              		.loc 1 718 16 is_stmt 0 view .LVU151
ARM GAS  /tmp/ccLzcuV9.s 			page 24


 546 0098 0020     		movs	r0, #0
 547 009a 5081     		strh	r0, [r2, #10]	@ movhi
 548 009c D5E7     		b	.L47
 549              	.L51:
 550              		.loc 1 723 39 discriminator 1 view .LVU152
 551 009e 03EB4301 		add	r1, r3, r3, lsl #1
 552              	.LVL56:
 553              		.loc 1 723 39 discriminator 1 view .LVU153
 554 00a2 094A     		ldr	r2, .L58
 555 00a4 02EB8102 		add	r2, r2, r1, lsl #2
 556 00a8 5289     		ldrh	r2, [r2, #10]
 557              		.loc 1 723 15 discriminator 1 view .LVU154
 558 00aa 0132     		adds	r2, r2, #1
 559 00ac 92B2     		uxth	r2, r2
 560              	.L52:
 561              		.loc 1 723 15 discriminator 4 view .LVU155
 562 00ae 03EB4300 		add	r0, r3, r3, lsl #1
 563 00b2 0549     		ldr	r1, .L58
 564 00b4 01EB8001 		add	r1, r1, r0, lsl #2
 565 00b8 4A81     		strh	r2, [r1, #10]	@ movhi
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 
 725:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 566              		.loc 1 725 2 is_stmt 1 view .LVU156
 567              		.loc 1 725 11 is_stmt 0 view .LVU157
 568 00ba 581C     		adds	r0, r3, #1
 569              	.L41:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** }
 570              		.loc 1 726 1 view .LVU158
 571 00bc 10BD     		pop	{r4, pc}
 572              	.LVL57:
 573              	.L54:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 574              		.loc 1 714 29 discriminator 1 view .LVU159
 575 00be 0020     		movs	r0, #0
 576              	.LVL58:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 577              		.loc 1 714 29 discriminator 1 view .LVU160
 578 00c0 FCE7     		b	.L41
 579              	.LVL59:
 580              	.L55:
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 
 581              		.loc 1 721 34 discriminator 2 view .LVU161
 582 00c2 0020     		movs	r0, #0
 583 00c4 FAE7     		b	.L41
 584              	.L59:
 585 00c6 00BF     		.align	2
 586              	.L58:
 587 00c8 00000000 		.word	Files
 588              		.cfi_endproc
 589              	.LFE71:
 591              		.section	.text.dec_lock,"ax",%progbits
 592              		.align	1
 593              		.syntax unified
 594              		.thumb
 595              		.thumb_func
 597              	dec_lock:
 598              	.LVL60:
ARM GAS  /tmp/ccLzcuV9.s 			page 25


 599              	.LFB72:
 727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 728:Middlewares/Third_Party/FatFs/src/ff.c **** 
 729:Middlewares/Third_Party/FatFs/src/ff.c **** static
 730:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 732:Middlewares/Third_Party/FatFs/src/ff.c **** )
 733:Middlewares/Third_Party/FatFs/src/ff.c **** {
 600              		.loc 1 733 1 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 0
 603              		@ frame_needed = 0, uses_anonymous_args = 0
 604              		@ link register save eliminated.
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 605              		.loc 1 734 2 view .LVU163
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 606              		.loc 1 735 2 view .LVU164
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** 
 738:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 607              		.loc 1 738 2 view .LVU165
 608              		.loc 1 738 5 is_stmt 0 view .LVU166
 609 0000 0138     		subs	r0, r0, #1
 610              	.LVL61:
 611              		.loc 1 738 5 view .LVU167
 612 0002 0128     		cmp	r0, #1
 613 0004 1BD8     		bhi	.L64
 739:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 614              		.loc 1 739 3 is_stmt 1 view .LVU168
 615              		.loc 1 739 5 is_stmt 0 view .LVU169
 616 0006 00EB4002 		add	r2, r0, r0, lsl #1
 617 000a 0F4B     		ldr	r3, .L67
 618 000c 03EB8203 		add	r3, r3, r2, lsl #2
 619 0010 5B89     		ldrh	r3, [r3, #10]
 620              	.LVL62:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 621              		.loc 1 740 3 is_stmt 1 view .LVU170
 622              		.loc 1 740 6 is_stmt 0 view .LVU171
 623 0012 B3F5807F 		cmp	r3, #256
 624 0016 03D0     		beq	.L65
 741:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n) n--;					/* Decrement read mode open count */
 625              		.loc 1 741 3 is_stmt 1 view .LVU172
 626              		.loc 1 741 6 is_stmt 0 view .LVU173
 627 0018 53B1     		cbz	r3, .L63
 628              		.loc 1 741 10 is_stmt 1 discriminator 1 view .LVU174
 629              		.loc 1 741 11 is_stmt 0 discriminator 1 view .LVU175
 630 001a 013B     		subs	r3, r3, #1
 631              	.LVL63:
 632              		.loc 1 741 11 discriminator 1 view .LVU176
 633 001c 9BB2     		uxth	r3, r3
 634              	.LVL64:
 635              		.loc 1 741 11 discriminator 1 view .LVU177
 636 001e 00E0     		b	.L62
 637              	.L65:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 638              		.loc 1 740 21 discriminator 1 view .LVU178
 639 0020 0023     		movs	r3, #0
ARM GAS  /tmp/ccLzcuV9.s 			page 26


 640              	.LVL65:
 641              	.L62:
 742:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 642              		.loc 1 742 3 is_stmt 1 view .LVU179
 643              		.loc 1 742 16 is_stmt 0 view .LVU180
 644 0022 00EB4001 		add	r1, r0, r0, lsl #1
 645 0026 084A     		ldr	r2, .L67
 646 0028 02EB8102 		add	r2, r2, r1, lsl #2
 647 002c 5381     		strh	r3, [r2, #10]	@ movhi
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!n) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 648              		.loc 1 743 3 is_stmt 1 view .LVU181
 649              		.loc 1 743 6 is_stmt 0 view .LVU182
 650 002e 43B9     		cbnz	r3, .L66
 651              	.L63:
 652              	.LVL66:
 653              		.loc 1 743 11 is_stmt 1 discriminator 1 view .LVU183
 654              		.loc 1 743 23 is_stmt 0 discriminator 1 view .LVU184
 655 0030 00EB4000 		add	r0, r0, r0, lsl #1
 656              	.LVL67:
 657              		.loc 1 743 23 discriminator 1 view .LVU185
 658 0034 8300     		lsls	r3, r0, #2
 659 0036 0020     		movs	r0, #0
 660 0038 034A     		ldr	r2, .L67
 661 003a D050     		str	r0, [r2, r3]
 662 003c 7047     		bx	lr
 663              	.LVL68:
 664              	.L64:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 745:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 665              		.loc 1 746 7 view .LVU186
 666 003e 0220     		movs	r0, #2
 667              	.LVL69:
 668              		.loc 1 746 7 view .LVU187
 669 0040 7047     		bx	lr
 670              	.LVL70:
 671              	.L66:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 672              		.loc 1 744 7 view .LVU188
 673 0042 0020     		movs	r0, #0
 674              	.LVL71:
 747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 675              		.loc 1 748 2 is_stmt 1 view .LVU189
 749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 676              		.loc 1 749 1 is_stmt 0 view .LVU190
 677 0044 7047     		bx	lr
 678              	.L68:
 679 0046 00BF     		.align	2
 680              	.L67:
 681 0048 00000000 		.word	Files
 682              		.cfi_endproc
 683              	.LFE72:
 685              		.section	.text.clear_lock,"ax",%progbits
 686              		.align	1
 687              		.syntax unified
 688              		.thumb
ARM GAS  /tmp/ccLzcuV9.s 			page 27


 689              		.thumb_func
 691              	clear_lock:
 692              	.LVL72:
 693              	.LFB73:
 750:Middlewares/Third_Party/FatFs/src/ff.c **** 
 751:Middlewares/Third_Party/FatFs/src/ff.c **** 
 752:Middlewares/Third_Party/FatFs/src/ff.c **** static
 753:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 755:Middlewares/Third_Party/FatFs/src/ff.c **** )
 756:Middlewares/Third_Party/FatFs/src/ff.c **** {
 694              		.loc 1 756 1 is_stmt 1 view -0
 695              		.cfi_startproc
 696              		@ args = 0, pretend = 0, frame = 0
 697              		@ frame_needed = 0, uses_anonymous_args = 0
 698              		@ link register save eliminated.
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 699              		.loc 1 757 2 view .LVU192
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 700              		.loc 1 759 2 view .LVU193
 701              		.loc 1 759 9 is_stmt 0 view .LVU194
 702 0000 0023     		movs	r3, #0
 703              		.loc 1 759 2 view .LVU195
 704 0002 02E0     		b	.L74
 705              	.LVL73:
 706              	.L81:
 707              	.LCFI6:
 708              		.cfi_def_cfa_offset 4
 709              		.cfi_offset 4, -4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 762:Middlewares/Third_Party/FatFs/src/ff.c **** }
 710              		.loc 1 762 1 view .LVU196
 711 0004 10BC     		pop	{r4}
 712              	.LCFI7:
 713              		.cfi_restore 4
 714              		.cfi_def_cfa_offset 0
 715 0006 7047     		bx	lr
 716              	.L80:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 717              		.loc 1 759 29 is_stmt 1 discriminator 2 view .LVU197
 718 0008 0133     		adds	r3, r3, #1
 719              	.LVL74:
 720              	.L74:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 721              		.loc 1 759 16 discriminator 1 view .LVU198
 722 000a 012B     		cmp	r3, #1
 723 000c 17D8     		bhi	.L79
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 724              		.loc 1 760 3 view .LVU199
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 725              		.loc 1 760 15 is_stmt 0 view .LVU200
 726 000e 03EB4302 		add	r2, r3, r3, lsl #1
 727 0012 0B49     		ldr	r1, .L82
 728 0014 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
ARM GAS  /tmp/ccLzcuV9.s 			page 28


 729              		.loc 1 760 6 view .LVU201
 730 0018 8242     		cmp	r2, r0
 731 001a F5D1     		bne	.L80
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 732              		.loc 1 756 1 view .LVU202
 733 001c 10B4     		push	{r4}
 734              	.LCFI8:
 735              		.cfi_def_cfa_offset 4
 736              		.cfi_offset 4, -4
 737              	.L75:
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 738              		.loc 1 760 26 is_stmt 1 discriminator 1 view .LVU203
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 739              		.loc 1 760 38 is_stmt 0 discriminator 1 view .LVU204
 740 001e 03EB4302 		add	r2, r3, r3, lsl #1
 741 0022 9200     		lsls	r2, r2, #2
 742 0024 0024     		movs	r4, #0
 743 0026 8C50     		str	r4, [r1, r2]
 744              	.L71:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 745              		.loc 1 759 29 is_stmt 1 discriminator 2 view .LVU205
 746 0028 0133     		adds	r3, r3, #1
 747              	.LVL75:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 748              		.loc 1 759 16 discriminator 1 view .LVU206
 749 002a 012B     		cmp	r3, #1
 750 002c EAD8     		bhi	.L81
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 751              		.loc 1 760 3 view .LVU207
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 752              		.loc 1 760 15 is_stmt 0 view .LVU208
 753 002e 03EB4302 		add	r2, r3, r3, lsl #1
 754 0032 0349     		ldr	r1, .L82
 755 0034 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 756              		.loc 1 760 6 view .LVU209
 757 0038 8242     		cmp	r2, r0
 758 003a F5D1     		bne	.L71
 759 003c EFE7     		b	.L75
 760              	.L79:
 761              	.LCFI9:
 762              		.cfi_def_cfa_offset 0
 763              		.cfi_restore 4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 764              		.loc 1 760 6 view .LVU210
 765 003e 7047     		bx	lr
 766              	.L83:
 767              		.align	2
 768              	.L82:
 769 0040 00000000 		.word	Files
 770              		.cfi_endproc
 771              	.LFE73:
 773              		.section	.text.clmt_clust,"ax",%progbits
 774              		.align	1
 775              		.syntax unified
 776              		.thumb
 777              		.thumb_func
ARM GAS  /tmp/ccLzcuV9.s 			page 29


 779              	clmt_clust:
 780              	.LVL76:
 781              	.LFB82:
 763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** 
 766:Middlewares/Third_Party/FatFs/src/ff.c **** 
 767:Middlewares/Third_Party/FatFs/src/ff.c **** 
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 771:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 772:Middlewares/Third_Party/FatFs/src/ff.c **** static
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 774:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 775:Middlewares/Third_Party/FatFs/src/ff.c **** )
 776:Middlewares/Third_Party/FatFs/src/ff.c **** {
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 794:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 798:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 
 801:Middlewares/Third_Party/FatFs/src/ff.c **** static
 802:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 804:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector	/* Sector number to make appearance in the fs->win[].d8 */
 805:Middlewares/Third_Party/FatFs/src/ff.c **** )
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 808:Middlewares/Third_Party/FatFs/src/ff.c **** 
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 812:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
ARM GAS  /tmp/ccLzcuV9.s 			page 30


 817:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 823:Middlewares/Third_Party/FatFs/src/ff.c **** }
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 
 828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 829:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 830:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 831:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 832:Middlewares/Third_Party/FatFs/src/ff.c **** static
 833:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK: successful, FR_DISK_ERR: failed */
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 835:Middlewares/Third_Party/FatFs/src/ff.c **** )
 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 842:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK)
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 859:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 862:Middlewares/Third_Party/FatFs/src/ff.c **** }
 863:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 
 865:Middlewares/Third_Party/FatFs/src/ff.c **** 
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 
 868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 871:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 873:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
ARM GAS  /tmp/ccLzcuV9.s 			page 31


 874:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 876:Middlewares/Third_Party/FatFs/src/ff.c **** )
 877:Middlewares/Third_Party/FatFs/src/ff.c **** {
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 881:Middlewares/Third_Party/FatFs/src/ff.c **** }
 882:Middlewares/Third_Party/FatFs/src/ff.c **** 
 883:Middlewares/Third_Party/FatFs/src/ff.c **** 
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 
 885:Middlewares/Third_Party/FatFs/src/ff.c **** 
 886:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 887:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 888:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 889:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x0FFFFFFF:Cluster status */
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* FAT index number (cluster number) to get the value */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** )
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 908:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 915:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 
 923:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
ARM GAS  /tmp/ccLzcuV9.s 			page 32


 931:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 935:Middlewares/Third_Party/FatFs/src/ff.c **** }
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** 
 939:Middlewares/Third_Party/FatFs/src/ff.c **** 
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
 942:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 943:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 944:Middlewares/Third_Party/FatFs/src/ff.c **** 
 945:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 946:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* FAT index number (cluster number) to be changed */
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val	/* New value to be set to the entry */
 950:Middlewares/Third_Party/FatFs/src/ff.c **** )
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
ARM GAS  /tmp/ccLzcuV9.s 			page 33


 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 		default :
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INT_ERR;
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 996:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 997:Middlewares/Third_Party/FatFs/src/ff.c **** 
 998:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 999:Middlewares/Third_Party/FatFs/src/ff.c **** }
1000:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1001:Middlewares/Third_Party/FatFs/src/ff.c **** 
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 
1004:Middlewares/Third_Party/FatFs/src/ff.c **** 
1005:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1006:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1007:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1009:Middlewares/Third_Party/FatFs/src/ff.c **** static
1010:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to remove a chain from */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** )
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1017:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst, rt[2];
1019:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1037:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				ecl = nxt;
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* End of contiguous clusters */ 
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[0] = clust2sect(fs, scl);					/* Start sector */
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Erase the block */
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = ecl = nxt;
ARM GAS  /tmp/ccLzcuV9.s 			page 34


1045:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = nxt;	/* Next cluster */
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1052:Middlewares/Third_Party/FatFs/src/ff.c **** }
1053:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 
1058:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1059:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch or Create a cluster chain                      */
1060:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1061:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1062:Middlewares/Third_Party/FatFs/src/ff.c **** static
1063:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch. 0 means create a new chain. */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** )
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {		/* Create a new chain */
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
1075:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1076:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {					/* Stretch the current chain */
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, clst);			/* Check the cluster status */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	ncl = scl;				/* Start cluster */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, ncl);			/* Get the cluster status */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == scl) return 0;		/* No free cluster */
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = put_fat(fs, ncl, 0x0FFFFFFF);	/* Mark the new cluster "last link" */
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/ccLzcuV9.s 			page 35


1102:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error code */
1113:Middlewares/Third_Party/FatFs/src/ff.c **** }
1114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** 
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 
1117:Middlewares/Third_Party/FatFs/src/ff.c **** 
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 
1119:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1120:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1121:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 
1123:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1124:Middlewares/Third_Party/FatFs/src/ff.c **** static
1125:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File offset to be converted to cluster# */
1128:Middlewares/Third_Party/FatFs/src/ff.c **** )
1129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 782              		.loc 1 1129 1 is_stmt 1 view -0
 783              		.cfi_startproc
 784              		@ args = 0, pretend = 0, frame = 0
 785              		@ frame_needed = 0, uses_anonymous_args = 0
 786              		@ link register save eliminated.
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 787              		.loc 1 1130 2 view .LVU212
1131:Middlewares/Third_Party/FatFs/src/ff.c **** 
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 788              		.loc 1 1133 2 view .LVU213
 789              		.loc 1 1133 10 is_stmt 0 view .LVU214
 790 0000 D0F82432 		ldr	r3, [r0, #548]
 791              		.loc 1 1133 6 view .LVU215
 792 0004 0433     		adds	r3, r3, #4
 793              	.LVL77:
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ofs / SS(fp->fs) / fp->fs->csize;	/* Cluster order from top of the file */
 794              		.loc 1 1134 2 is_stmt 1 view .LVU216
 795              		.loc 1 1134 11 is_stmt 0 view .LVU217
 796 0006 490A     		lsrs	r1, r1, #9
 797              	.LVL78:
 798              		.loc 1 1134 28 view .LVU218
 799 0008 D0F80022 		ldr	r2, [r0, #512]
 800              		.loc 1 1134 32 view .LVU219
 801 000c 92F80222 		ldrb	r2, [r2, #514]	@ zero_extendqisi2
 802              		.loc 1 1134 5 view .LVU220
 803 0010 B1FBF2F1 		udiv	r1, r1, r2
 804              	.LVL79:
 805              		.loc 1 1134 5 view .LVU221
ARM GAS  /tmp/ccLzcuV9.s 			page 36


 806 0014 01E0     		b	.L87
 807              	.LVL80:
 808              	.L88:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 809              		.loc 1 1139 3 is_stmt 1 view .LVU222
 810              		.loc 1 1139 6 is_stmt 0 view .LVU223
 811 0016 091A     		subs	r1, r1, r0
 812              	.LVL81:
 813              		.loc 1 1139 14 is_stmt 1 view .LVU224
 814              		.loc 1 1139 17 is_stmt 0 view .LVU225
 815 0018 0833     		adds	r3, r3, #8
 816              	.LVL82:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 817              		.loc 1 1135 2 is_stmt 1 view .LVU226
 818              	.L87:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 819              		.loc 1 1135 2 view .LVU227
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 820              		.loc 1 1136 3 view .LVU228
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 821              		.loc 1 1136 7 is_stmt 0 view .LVU229
 822 001a 1868     		ldr	r0, [r3]
 823              	.LVL83:
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 824              		.loc 1 1137 3 is_stmt 1 view .LVU230
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 825              		.loc 1 1137 6 is_stmt 0 view .LVU231
 826 001c 18B1     		cbz	r0, .L84
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 827              		.loc 1 1138 3 is_stmt 1 view .LVU232
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 828              		.loc 1 1138 6 is_stmt 0 view .LVU233
 829 001e 8142     		cmp	r1, r0
 830 0020 F9D2     		bcs	.L88
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1141:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 831              		.loc 1 1141 2 is_stmt 1 view .LVU234
 832              		.loc 1 1141 14 is_stmt 0 view .LVU235
 833 0022 5868     		ldr	r0, [r3, #4]
 834              	.LVL84:
 835              		.loc 1 1141 12 view .LVU236
 836 0024 0844     		add	r0, r0, r1
 837              	.L84:
1142:Middlewares/Third_Party/FatFs/src/ff.c **** }
 838              		.loc 1 1142 1 view .LVU237
 839 0026 7047     		bx	lr
 840              		.cfi_endproc
 841              	.LFE82:
 843              		.section	.text.ld_clust,"ax",%progbits
 844              		.align	1
 845              		.syntax unified
 846              		.thumb
 847              		.thumb_func
ARM GAS  /tmp/ccLzcuV9.s 			page 37


 849              	ld_clust:
 850              	.LVL85:
 851              	.LFB86:
1143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** 
1146:Middlewares/Third_Party/FatFs/src/ff.c **** 
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 
1148:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1149:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1151:Middlewares/Third_Party/FatFs/src/ff.c **** 
1152:Middlewares/Third_Party/FatFs/src/ff.c **** static
1153:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT idx		/* Index of directory table */
1156:Middlewares/Third_Party/FatFs/src/ff.c **** )
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)idx;	/* Current index */
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Dynamic table (root-directory in FAT32 or sub-directory) */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		ic = SS(dp->fs) / SZ_DIRE * dp->fs->csize;	/* Entries per cluster */
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
1182:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(dp->fs, clst);
1184:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;	/* Current cluster# */
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1191:Middlewares/Third_Party/FatFs/src/ff.c **** }
1192:Middlewares/Third_Party/FatFs/src/ff.c **** 
1193:Middlewares/Third_Party/FatFs/src/ff.c **** 
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 
1196:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/ccLzcuV9.s 			page 38


1197:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1198:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** static
1201:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1204:Middlewares/Third_Party/FatFs/src/ff.c **** )
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1208:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT c;
1210:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index + 1;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i % (SS(dp->fs) / SZ_DIRE))) {	/* Sector changed? */
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
1219:Middlewares/Third_Party/FatFs/src/ff.c **** 
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
1223:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (((i / (SS(dp->fs) / SZ_DIRE)) & (dp->fs->csize - 1)) == 0) {	/* Cluster changed? */
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
1230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(dp->fs)) return FR_DISK_ERR;/* Flush disk access window */
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1245:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect -= c;						/* Rewind window offset */
1246:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT (this is to suppress warni
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_NO_FILE;							/* Report EOT */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1250:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;				/* Initialize data for new cluster */
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccLzcuV9.s 			page 39


1254:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)i;	/* Current index */
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 
1260:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1261:Middlewares/Third_Party/FatFs/src/ff.c **** }
1262:Middlewares/Third_Party/FatFs/src/ff.c **** 
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve directory entry                          */
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1269:Middlewares/Third_Party/FatFs/src/ff.c **** 
1270:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1271:Middlewares/Third_Party/FatFs/src/ff.c **** static
1272:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Pointer to the directory object */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent	/* Number of contiguous entries to allocate (1-21) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 
1280:Middlewares/Third_Party/FatFs/src/ff.c **** 
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);		/* Next entry with table stretch enabled */
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1297:Middlewares/Third_Party/FatFs/src/ff.c **** }
1298:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 
1303:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1304:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Load/Store start cluster number                  */
1305:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 
1307:Middlewares/Third_Party/FatFs/src/ff.c **** static
1308:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (
1309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir	/* Pointer to the directory entry */
ARM GAS  /tmp/ccLzcuV9.s 			page 40


1311:Middlewares/Third_Party/FatFs/src/ff.c **** )
1312:Middlewares/Third_Party/FatFs/src/ff.c **** {
 852              		.loc 1 1312 1 is_stmt 1 view -0
 853              		.cfi_startproc
 854              		@ args = 0, pretend = 0, frame = 0
 855              		@ frame_needed = 0, uses_anonymous_args = 0
 856              		@ link register save eliminated.
 857              		.loc 1 1312 1 is_stmt 0 view .LVU239
 858 0000 0246     		mov	r2, r0
1313:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 859              		.loc 1 1313 2 is_stmt 1 view .LVU240
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
 860              		.loc 1 1315 2 view .LVU241
 861              		.loc 1 1315 7 is_stmt 0 view .LVU242
 862 0002 C87E     		ldrb	r0, [r1, #27]	@ zero_extendqisi2
 863              	.LVL86:
 864              		.loc 1 1315 7 view .LVU243
 865 0004 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 866 0006 43EA0020 		orr	r0, r3, r0, lsl #8
 867              	.LVL87:
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
 868              		.loc 1 1316 2 is_stmt 1 view .LVU244
 869              		.loc 1 1316 8 is_stmt 0 view .LVU245
 870 000a 92F80032 		ldrb	r3, [r2, #512]	@ zero_extendqisi2
 871              		.loc 1 1316 5 view .LVU246
 872 000e 032B     		cmp	r3, #3
 873 0010 00D0     		beq	.L91
 874              	.LVL88:
 875              	.L89:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
1318:Middlewares/Third_Party/FatFs/src/ff.c **** 
1319:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1320:Middlewares/Third_Party/FatFs/src/ff.c **** }
 876              		.loc 1 1320 1 view .LVU247
 877 0012 7047     		bx	lr
 878              	.LVL89:
 879              	.L91:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 880              		.loc 1 1317 3 is_stmt 1 view .LVU248
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 881              		.loc 1 1317 16 is_stmt 0 view .LVU249
 882 0014 4A7D     		ldrb	r2, [r1, #21]	@ zero_extendqisi2
 883              	.LVL90:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 884              		.loc 1 1317 16 view .LVU250
 885 0016 0B7D     		ldrb	r3, [r1, #20]	@ zero_extendqisi2
 886 0018 43EA0223 		orr	r3, r3, r2, lsl #8
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 887              		.loc 1 1317 6 view .LVU251
 888 001c 40EA0340 		orr	r0, r0, r3, lsl #16
 889              	.LVL91:
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 890              		.loc 1 1319 2 is_stmt 1 view .LVU252
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 891              		.loc 1 1319 9 is_stmt 0 view .LVU253
 892 0020 F7E7     		b	.L89
ARM GAS  /tmp/ccLzcuV9.s 			page 41


 893              		.cfi_endproc
 894              	.LFE86:
 896              		.section	.text.st_clust,"ax",%progbits
 897              		.align	1
 898              		.syntax unified
 899              		.thumb
 900              		.thumb_func
 902              	st_clust:
 903              	.LVL92:
 904              	.LFB87:
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1324:Middlewares/Third_Party/FatFs/src/ff.c **** static
1325:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1326:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the directory entry */
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** )
1329:Middlewares/Third_Party/FatFs/src/ff.c **** {
 905              		.loc 1 1329 1 is_stmt 1 view -0
 906              		.cfi_startproc
 907              		@ args = 0, pretend = 0, frame = 0
 908              		@ frame_needed = 0, uses_anonymous_args = 0
 909              		@ link register save eliminated.
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 910              		.loc 1 1330 2 view .LVU255
 911 0000 8176     		strb	r1, [r0, #26]
 912              		.loc 1 1330 2 view .LVU256
 913 0002 C1F30723 		ubfx	r3, r1, #8, #8
 914 0006 C376     		strb	r3, [r0, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 915              		.loc 1 1331 2 view .LVU257
 916 0008 C1F30743 		ubfx	r3, r1, #16, #8
 917 000c 0375     		strb	r3, [r0, #20]
 918              		.loc 1 1331 2 view .LVU258
 919 000e 090E     		lsrs	r1, r1, #24
 920              	.LVL93:
 921              		.loc 1 1331 2 is_stmt 0 view .LVU259
 922 0010 4175     		strb	r1, [r0, #21]
1332:Middlewares/Third_Party/FatFs/src/ff.c **** }
 923              		.loc 1 1332 1 view .LVU260
 924 0012 7047     		bx	lr
 925              		.cfi_endproc
 926              	.LFE87:
 928              		.section	.text.get_fileinfo,"ax",%progbits
 929              		.align	1
 930              		.syntax unified
 931              		.thumb
 932              		.thumb_func
 934              	get_fileinfo:
 935              	.LVL94:
 936              	.LFB92:
1333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 42


1338:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1339:Middlewares/Third_Party/FatFs/src/ff.c **** /* LFN handling - Test/Pick/Fit an LFN segment from/to directory entry   */
1340:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1341:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1342:Middlewares/Third_Party/FatFs/src/ff.c **** static
1343:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** static
1347:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (			/* 1:Matched, 0:Not matched */
1348:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN to be compared */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry containing a part of LFN */
1350:Middlewares/Third_Party/FatFs/src/ff.c **** )
1351:Middlewares/Third_Party/FatFs/src/ff.c **** {
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1354:Middlewares/Third_Party/FatFs/src/ff.c **** 
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Get offset in the LFN buffer */
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);	/* Pick an LFN character from the entry */
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = ff_wtoupper(uc);		/* Convert it to upper case */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || wc != ff_wtoupper(lfnbuf[i++]))	/* Compare it */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;				/* Not matched */
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;	/* Check filler */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);				/* Repeat until all characters in the entry are checked */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i])	/* Last segment matched but different length */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;						/* The part of LFN matched */
1373:Middlewares/Third_Party/FatFs/src/ff.c **** }
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 
1377:Middlewares/Third_Party/FatFs/src/ff.c **** static
1378:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:Succeeded, 0:Buffer overflow */
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the Unicode-LFN buffer */
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** )
1382:Middlewares/Third_Party/FatFs/src/ff.c **** {
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);		/* Pick an LFN character from the entry */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
ARM GAS  /tmp/ccLzcuV9.s 			page 43


1395:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1398:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);						/* Read all character in the entry */
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
1406:Middlewares/Third_Party/FatFs/src/ff.c **** }
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 
1409:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1410:Middlewares/Third_Party/FatFs/src/ff.c **** static
1411:Middlewares/Third_Party/FatFs/src/ff.c **** void fit_lfn (
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN buffer */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,				/* Pointer to the directory entry */
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,				/* LFN order (1-20) */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum				/* SFN sum */
1416:Middlewares/Third_Party/FatFs/src/ff.c **** )
1417:Middlewares/Third_Party/FatFs/src/ff.c **** {
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set check sum */
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + LDIR_FstClusLO, 0);
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN buffer */
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1429:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfnbuf[i++];	/* Get an effective character */
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(dir+LfnOfs[s], wc);	/* Put it */
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!wc) wc = 0xFFFF;		/* Padding characters following last character */
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1434:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfnbuf[i]) ord |= LLEF;	/* Bottom LFN part is the start of LFN sequence */
1435:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1436:Middlewares/Third_Party/FatFs/src/ff.c **** }
1437:Middlewares/Third_Party/FatFs/src/ff.c **** 
1438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1439:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1440:Middlewares/Third_Party/FatFs/src/ff.c **** 
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 
1443:Middlewares/Third_Party/FatFs/src/ff.c **** 
1444:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1445:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create numbered name                                                  */
1446:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1447:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1448:Middlewares/Third_Party/FatFs/src/ff.c **** static
1449:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
ARM GAS  /tmp/ccLzcuV9.s 			page 44


1452:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** )
1455:Middlewares/Third_Party/FatFs/src/ff.c **** {
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1458:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1460:Middlewares/Third_Party/FatFs/src/ff.c **** 
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* On many collisions, generate a hash number instead of sequential number */
1465:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1466:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1469:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1470:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1473:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (seq % 16) + '0';
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1497:Middlewares/Third_Party/FatFs/src/ff.c **** }
1498:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 
1503:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1504:Middlewares/Third_Party/FatFs/src/ff.c **** /* Calculate sum of an SFN                                               */
1505:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1506:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1507:Middlewares/Third_Party/FatFs/src/ff.c **** static
1508:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
ARM GAS  /tmp/ccLzcuV9.s 			page 45


1509:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1510:Middlewares/Third_Party/FatFs/src/ff.c **** )
1511:Middlewares/Third_Party/FatFs/src/ff.c **** {
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1514:Middlewares/Third_Party/FatFs/src/ff.c **** 
1515:Middlewares/Third_Party/FatFs/src/ff.c **** 	do sum = (sum >> 1) + (sum << 7) + *dir++; while (--n);
1516:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1517:Middlewares/Third_Party/FatFs/src/ff.c **** }
1518:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1519:Middlewares/Third_Party/FatFs/src/ff.c **** 
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 
1522:Middlewares/Third_Party/FatFs/src/ff.c **** 
1523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1524:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
1525:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1526:Middlewares/Third_Party/FatFs/src/ff.c **** 
1527:Middlewares/Third_Party/FatFs/src/ff.c **** static
1528:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object linked to the file name */
1530:Middlewares/Third_Party/FatFs/src/ff.c **** )
1531:Middlewares/Third_Party/FatFs/src/ff.c **** {
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
1534:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
1536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 
1541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->lfn) {
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dir[LDIR_Chksum];
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= ~LLEF; ord = c;	/* LFN start order */
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lfn_idx = dp->index;	/* Start index of LFN */
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dir[LDIR_Chksum] && cmp_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1564:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
ARM GAS  /tmp/ccLzcuV9.s 			page 46


1566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dir)) break;	/* LFN matched? */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dir, dp->fn, 11)) break;	/* SFN matched? */
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1571:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dp->fn, 11)) /* Is it a valid entry? */
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1574:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1579:Middlewares/Third_Party/FatFs/src/ff.c **** }
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** 
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
1598:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = FR_NO_FILE;
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || (!_FS_RPATH && c == '.') || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF;
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c & LLEF) {			/* Is it start of LFN sequence? */
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 					sum = dir[LDIR_Chksum];
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 					c &= ~LLEF; ord = c;
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = dp->index;
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* Check LFN validity and capture it */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = (c == ord && sum == dir[LDIR_Chksum] && pick_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ord || sum != sum_sfn(dir))	/* Is there a valid LFN? */
1622:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = 0xFFFF;		/* It has no LFN. */
ARM GAS  /tmp/ccLzcuV9.s 			page 47


1623:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1626:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
1628:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1629:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;
1635:Middlewares/Third_Party/FatFs/src/ff.c **** 
1636:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1637:Middlewares/Third_Party/FatFs/src/ff.c **** }
1638:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 
1643:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1644:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
1645:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1646:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1647:Middlewares/Third_Party/FatFs/src/ff.c **** static
1648:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:Successful, FR_DENIED:No free entry or too many SFN collision, FR_D
1649:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
1650:Middlewares/Third_Party/FatFs/src/ff.c **** )
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nent;
1655:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], *fn, sum;
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR *lfn;
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	fn = dp->fn; lfn = dp->lfn;
1660:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, fn, 12);
1661:Middlewares/Third_Party/FatFs/src/ff.c **** 
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_RPATH && (sn[NSFLAG] & NS_DOT))		/* Cannot create dot entry */
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_NAME;
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
1666:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = 0; dp->lfn = 0;			/* Find only SFN */
1667:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
1668:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(fn, sn, lfn, n);	/* Generate a numbered name */
1669:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
1670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
1673:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
1674:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = sn[NSFLAG]; dp->lfn = lfn;
1675:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1676:Middlewares/Third_Party/FatFs/src/ff.c **** 
1677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LFN) {			/* When LFN is to be created, allocate entries for an SFN + LFNs. */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; lfn[n]; n++) ;
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (n + 25) / 13;
ARM GAS  /tmp/ccLzcuV9.s 			page 48


1680:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {						/* Otherwise allocate an entry for an SFN  */
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = 1;
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->index - nent);
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Sum value of the SFN tied to the LFN */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(dp->fs, dp->sect);
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 				fit_lfn(dp->lfn, dp->dir, (BYTE)nent, sum);
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->fs->wflag = 1;
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1698:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
1700:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {				/* Set SFN entry */
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
1707:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1708:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
1709:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1711:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1712:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1713:Middlewares/Third_Party/FatFs/src/ff.c **** 
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1715:Middlewares/Third_Party/FatFs/src/ff.c **** }
1716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1717:Middlewares/Third_Party/FatFs/src/ff.c **** 
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1722:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && !_FS_MINIMIZE
1725:Middlewares/Third_Party/FatFs/src/ff.c **** static
1726:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK: Successful, FR_DISK_ERR: A disk error */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** )
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1731:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index;	/* SFN index */
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, (dp->lfn_idx == 0xFFFF) ? i : dp->lfn_idx);	/* Goto the SFN or top of the LFN en
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/ccLzcuV9.s 			page 49


1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1742:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1743:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->index >= i) break;	/* When reached SFN, all entries of the object has been deleted. */
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);		/* Next entry */
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
1747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1748:Middlewares/Third_Party/FatFs/src/ff.c **** 
1749:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1757:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1759:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1762:Middlewares/Third_Party/FatFs/src/ff.c **** }
1763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 
1768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
1770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1771:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1772:Middlewares/Third_Party/FatFs/src/ff.c **** static
1773:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** )
1777:Middlewares/Third_Party/FatFs/src/ff.c **** {
 937              		.loc 1 1777 1 is_stmt 1 view -0
 938              		.cfi_startproc
 939              		@ args = 0, pretend = 0, frame = 0
 940              		@ frame_needed = 0, uses_anonymous_args = 0
 941              		@ link register save eliminated.
1778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 942              		.loc 1 1778 2 view .LVU262
1779:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *p, c;
 943              		.loc 1 1779 2 view .LVU263
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 944              		.loc 1 1780 2 view .LVU264
1781:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1784:Middlewares/Third_Party/FatFs/src/ff.c **** 
1785:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = fno->fname;
ARM GAS  /tmp/ccLzcuV9.s 			page 50


 945              		.loc 1 1785 2 view .LVU265
 946              		.loc 1 1785 4 is_stmt 0 view .LVU266
 947 0000 01F10902 		add	r2, r1, #9
 948              	.LVL95:
1786:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->sect) {		/* Get SFN */
 949              		.loc 1 1786 2 is_stmt 1 view .LVU267
 950              		.loc 1 1786 8 is_stmt 0 view .LVU268
 951 0004 D0F81032 		ldr	r3, [r0, #528]
 952              		.loc 1 1786 5 view .LVU269
 953 0008 002B     		cmp	r3, #0
 954 000a 33D0     		beq	.L102
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 955              		.loc 1 1777 1 view .LVU270
 956 000c 10B4     		push	{r4}
 957              	.LCFI10:
 958              		.cfi_def_cfa_offset 4
 959              		.cfi_offset 4, -4
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;
 960              		.loc 1 1787 3 is_stmt 1 view .LVU271
 961              		.loc 1 1787 7 is_stmt 0 view .LVU272
 962 000e D0F81442 		ldr	r4, [r0, #532]
 963              	.LVL96:
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 964              		.loc 1 1788 3 is_stmt 1 view .LVU273
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (i < 11) {		/* Copy name body and extension */
 965              		.loc 1 1789 3 view .LVU274
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 966              		.loc 1 1788 5 is_stmt 0 view .LVU275
 967 0012 0023     		movs	r3, #0
 968              		.loc 1 1789 9 view .LVU276
 969 0014 04E0     		b	.L95
 970              	.LVL97:
 971              	.L97:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == ' ') continue;				/* Skip padding spaces */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 972              		.loc 1 1793 4 is_stmt 1 view .LVU277
 973              		.loc 1 1793 7 is_stmt 0 view .LVU278
 974 0016 0928     		cmp	r0, #9
 975 0018 0CD0     		beq	.L105
 976              	.L98:
1794:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1795:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dir[DIR_NTres] & (i >= 9 ? NS_EXT : NS_BODY)))
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
1797:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dir[i]))
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = c << 8 | dir[i++];
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ff_convert(c, 1);	/* OEM -> Unicode */
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!c) c = '?';
1802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1803:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p++ = c;
 977              		.loc 1 1804 4 is_stmt 1 view .LVU279
 978              	.LVL98:
 979              		.loc 1 1804 9 is_stmt 0 view .LVU280
 980 001a 02F8013B 		strb	r3, [r2], #1
ARM GAS  /tmp/ccLzcuV9.s 			page 51


 981              	.LVL99:
 982              	.L96:
 983              		.loc 1 1804 6 view .LVU281
 984 001e 0346     		mov	r3, r0
 985              	.LVL100:
 986              	.L95:
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 987              		.loc 1 1789 12 is_stmt 1 view .LVU282
 988 0020 0A2B     		cmp	r3, #10
 989 0022 0CD8     		bhi	.L106
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 990              		.loc 1 1790 4 view .LVU283
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 991              		.loc 1 1790 20 is_stmt 0 view .LVU284
 992 0024 581C     		adds	r0, r3, #1
 993              	.LVL101:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 994              		.loc 1 1790 6 view .LVU285
 995 0026 E35C     		ldrb	r3, [r4, r3]	@ zero_extendqisi2
 996              	.LVL102:
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 997              		.loc 1 1791 4 is_stmt 1 view .LVU286
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 998              		.loc 1 1791 7 is_stmt 0 view .LVU287
 999 0028 202B     		cmp	r3, #32
 1000 002a F8D0     		beq	.L96
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1001              		.loc 1 1792 4 is_stmt 1 view .LVU288
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1002              		.loc 1 1792 7 is_stmt 0 view .LVU289
 1003 002c 052B     		cmp	r3, #5
 1004 002e F2D1     		bne	.L97
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1005              		.loc 1 1792 22 discriminator 1 view .LVU290
 1006 0030 E523     		movs	r3, #229
 1007              	.LVL103:
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1008              		.loc 1 1792 22 discriminator 1 view .LVU291
 1009 0032 F0E7     		b	.L97
 1010              	.LVL104:
 1011              	.L105:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1012              		.loc 1 1793 16 is_stmt 1 discriminator 1 view .LVU292
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1013              		.loc 1 1793 21 is_stmt 0 discriminator 1 view .LVU293
 1014 0034 4FF02E0C 		mov	ip, #46
 1015 0038 02F801CB 		strb	ip, [r2], #1
 1016              	.LVL105:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1017              		.loc 1 1793 21 discriminator 1 view .LVU294
 1018 003c EDE7     		b	.L98
 1019              	.LVL106:
 1020              	.L106:
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fattrib = dir[DIR_Attr];				/* Attribute */
 1021              		.loc 1 1806 3 is_stmt 1 view .LVU295
 1022              		.loc 1 1806 16 is_stmt 0 view .LVU296
ARM GAS  /tmp/ccLzcuV9.s 			page 52


 1023 003e E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1024              	.LVL107:
 1025              		.loc 1 1806 16 view .LVU297
 1026 0040 0B72     		strb	r3, [r1, #8]
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fsize = LD_DWORD(dir + DIR_FileSize);	/* Size */
 1027              		.loc 1 1807 3 is_stmt 1 view .LVU298
 1028              		.loc 1 1807 16 is_stmt 0 view .LVU299
 1029 0042 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 1030 0044 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1031 0046 1B04     		lsls	r3, r3, #16
 1032 0048 43EA0063 		orr	r3, r3, r0, lsl #24
 1033 004c 607F     		ldrb	r0, [r4, #29]	@ zero_extendqisi2
 1034 004e 43EA0023 		orr	r3, r3, r0, lsl #8
 1035 0052 207F     		ldrb	r0, [r4, #28]	@ zero_extendqisi2
 1036 0054 0343     		orrs	r3, r3, r0
 1037              		.loc 1 1807 14 view .LVU300
 1038 0056 0B60     		str	r3, [r1]
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fdate = LD_WORD(dir + DIR_WrtDate);	/* Date */
 1039              		.loc 1 1808 3 is_stmt 1 view .LVU301
 1040              		.loc 1 1808 16 is_stmt 0 view .LVU302
 1041 0058 607E     		ldrb	r0, [r4, #25]	@ zero_extendqisi2
 1042 005a 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 1043 005c 43EA0023 		orr	r3, r3, r0, lsl #8
 1044              		.loc 1 1808 14 view .LVU303
 1045 0060 8B80     		strh	r3, [r1, #4]	@ movhi
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->ftime = LD_WORD(dir + DIR_WrtTime);	/* Time */
 1046              		.loc 1 1809 3 is_stmt 1 view .LVU304
 1047              		.loc 1 1809 16 is_stmt 0 view .LVU305
 1048 0062 E07D     		ldrb	r0, [r4, #23]	@ zero_extendqisi2
 1049 0064 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1050 0066 43EA0023 		orr	r3, r3, r0, lsl #8
 1051              		.loc 1 1809 14 view .LVU306
 1052 006a CB80     		strh	r3, [r1, #6]	@ movhi
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;		/* Terminate SFN string by a \0 */
 1053              		.loc 1 1811 2 is_stmt 1 view .LVU307
 1054              		.loc 1 1811 5 is_stmt 0 view .LVU308
 1055 006c 0023     		movs	r3, #0
 1056 006e 1370     		strb	r3, [r2]
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 
1813:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fno->lfname) {
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0; p = fno->lfname;
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->sect && fno->lfsize && dp->lfn_idx != 0xFFFF) {	/* Get LFN if available */
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfn = dp->lfn;
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = *lfn++) != 0) {		/* Get an LFN character */
1819:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!w) { i = 0; break; }	/* No LFN if it could not be converted */
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100)	/* Put 1st byte if it is a DBC (always false on SBCS cfg) */
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 					p[i++] = (TCHAR)(w >> 8);
1824:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= fno->lfsize - 1) { i = 0; break; }	/* No LFN if buffer overflow */
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 				p[i++] = (TCHAR)w;
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[i] = 0;	/* Terminate LFN string by a \0 */
ARM GAS  /tmp/ccLzcuV9.s 			page 53


1830:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1831:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1832:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1057              		.loc 1 1832 1 view .LVU309
 1058 0070 10BC     		pop	{r4}
 1059              	.LCFI11:
 1060              		.cfi_restore 4
 1061              		.cfi_def_cfa_offset 0
 1062              	.LVL108:
 1063              		.loc 1 1832 1 view .LVU310
 1064 0072 7047     		bx	lr
 1065              	.LVL109:
 1066              	.L102:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1067              		.loc 1 1811 2 is_stmt 1 view .LVU311
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1068              		.loc 1 1811 5 is_stmt 0 view .LVU312
 1069 0074 0023     		movs	r3, #0
 1070 0076 1370     		strb	r3, [r2]
 1071 0078 7047     		bx	lr
 1072              		.cfi_endproc
 1073              	.LFE92:
 1075              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 1076              		.align	2
 1077              	.LC0:
 1078 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 1078      3A3B3C3D 
 1078      3E3F5B5D 
 1078      7C7F00
 1079              		.section	.text.create_name,"ax",%progbits
 1080              		.align	1
 1081              		.syntax unified
 1082              		.thumb
 1083              		.thumb_func
 1085              	create_name:
 1086              	.LVL110:
 1087              	.LFB93:
1833:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 
1837:Middlewares/Third_Party/FatFs/src/ff.c **** 
1838:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1839:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
1840:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
1842:Middlewares/Third_Party/FatFs/src/ff.c **** static
1843:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
1844:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** )
1846:Middlewares/Third_Party/FatFs/src/ff.c **** {
1847:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1848:Middlewares/Third_Party/FatFs/src/ff.c **** 
1849:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1850:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
1851:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr))		/* Get DBC 2nd byte if needed */
ARM GAS  /tmp/ccLzcuV9.s 			page 54


1853:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
1856:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1857:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
1859:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
1861:Middlewares/Third_Party/FatFs/src/ff.c **** }
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** static
1865:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* Return value: 0:mismatched, 1:matched */
1866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
1867:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
1870:Middlewares/Third_Party/FatFs/src/ff.c **** )
1871:Middlewares/Third_Party/FatFs/src/ff.c **** {
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
1873:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
1874:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
1888:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
1892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1893:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
1896:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!pc) return 1;		/* Branch matched? (matched at end of both strings) */
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
1902:Middlewares/Third_Party/FatFs/src/ff.c **** }
1903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 
1907:Middlewares/Third_Party/FatFs/src/ff.c **** 
1908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a segment and create the object name in directory form           */
ARM GAS  /tmp/ccLzcuV9.s 			page 55


1910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1911:Middlewares/Third_Party/FatFs/src/ff.c **** 
1912:Middlewares/Third_Party/FatFs/src/ff.c **** static
1913:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
1916:Middlewares/Third_Party/FatFs/src/ff.c **** )
1917:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1088              		.loc 1 1917 1 is_stmt 1 view -0
 1089              		.cfi_startproc
 1090              		@ args = 0, pretend = 0, frame = 0
 1091              		@ frame_needed = 0, uses_anonymous_args = 0
 1092              		.loc 1 1917 1 is_stmt 0 view .LVU314
 1093 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1094              	.LCFI12:
 1095              		.cfi_def_cfa_offset 40
 1096              		.cfi_offset 3, -40
 1097              		.cfi_offset 4, -36
 1098              		.cfi_offset 5, -32
 1099              		.cfi_offset 6, -28
 1100              		.cfi_offset 7, -24
 1101              		.cfi_offset 8, -20
 1102              		.cfi_offset 9, -16
 1103              		.cfi_offset 10, -12
 1104              		.cfi_offset 11, -8
 1105              		.cfi_offset 14, -4
 1106 0004 8946     		mov	r9, r1
1918:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1919:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
1920:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
1923:Middlewares/Third_Party/FatFs/src/ff.c **** 
1924:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
1925:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn = dp->lfn;
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = di = 0;
1928:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1929:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ' || w == '/' || w == '\\') break;	/* Break on end of segment */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN)				/* Reject too long name */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1933:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
1938:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b))
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;	/* Reject invalid sequence */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1942:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) /* Reject illegal characters for LFN */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
ARM GAS  /tmp/ccLzcuV9.s 			page 56


1948:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
1949:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') || /* Is this a dot entry? */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
1959:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Strip trailing spaces and dots */
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!di) return FR_INVALID_NAME;	/* Reject nul string */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** 
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
1970:Middlewares/Third_Party/FatFs/src/ff.c **** 
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
1973:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
1974:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
1975:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** 	b = i = 0; ni = 8;
1978:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
1981:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
1999:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2001:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 57


2005:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* DBC (always false at SBCS cfg) */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2020:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2023:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2024:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2025:Middlewares/Third_Party/FatFs/src/ff.c **** 
2026:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with deleted mark, re
2027:Middlewares/Third_Party/FatFs/src/ff.c **** 
2028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03)	/* Create LFN entry when there are composite capital
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 		cf |= NS_LFN;
2031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2032:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 
2041:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, c, d, *sfn;
 1107              		.loc 1 2042 2 is_stmt 1 view .LVU315
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
 1108              		.loc 1 2043 2 view .LVU316
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
 1109              		.loc 1 2044 2 view .LVU317
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
 1110              		.loc 1 2047 2 view .LVU318
 1111              		.loc 1 2047 9 is_stmt 0 view .LVU319
 1112 0006 0C68     		ldr	r4, [r1]
 1113              	.LVL111:
 1114              		.loc 1 2047 2 view .LVU320
 1115 0008 00E0     		b	.L108
 1116              	.L109:
 1117              		.loc 1 2047 44 is_stmt 1 discriminator 5 view .LVU321
 1118 000a 0134     		adds	r4, r4, #1
 1119              	.LVL112:
 1120              	.L108:
ARM GAS  /tmp/ccLzcuV9.s 			page 58


 1121              		.loc 1 2047 28 discriminator 1 view .LVU322
 1122              		.loc 1 2047 18 is_stmt 0 discriminator 1 view .LVU323
 1123 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1124              		.loc 1 2047 28 discriminator 1 view .LVU324
 1125 000e 2F2B     		cmp	r3, #47
 1126 0010 FBD0     		beq	.L109
 1127              		.loc 1 2047 28 discriminator 4 view .LVU325
 1128 0012 5C2B     		cmp	r3, #92
 1129 0014 F9D0     		beq	.L109
2048:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn = dp->fn;
 1130              		.loc 1 2048 2 is_stmt 1 view .LVU326
 1131              		.loc 1 2048 6 is_stmt 0 view .LVU327
 1132 0016 D0F818A2 		ldr	r10, [r0, #536]
 1133              	.LVL113:
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1134              		.loc 1 2049 2 is_stmt 1 view .LVU328
 1135 001a 0B22     		movs	r2, #11
 1136 001c 2021     		movs	r1, #32
 1137              	.LVL114:
 1138              		.loc 1 2049 2 is_stmt 0 view .LVU329
 1139 001e 5046     		mov	r0, r10
 1140              	.LVL115:
 1141              		.loc 1 2049 2 view .LVU330
 1142 0020 FFF7FEFF 		bl	mem_set
 1143              	.LVL116:
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
 1144              		.loc 1 2050 2 is_stmt 1 view .LVU331
 1145              		.loc 1 2050 18 view .LVU332
 1146              		.loc 1 2050 9 is_stmt 0 view .LVU333
 1147 0024 0026     		movs	r6, #0
 1148              		.loc 1 2050 5 view .LVU334
 1149 0026 3346     		mov	r3, r6
 1150              		.loc 1 2050 21 view .LVU335
 1151 0028 0827     		movs	r7, #8
 1152              		.loc 1 2050 13 view .LVU336
 1153 002a B046     		mov	r8, r6
 1154 002c 1AE0     		b	.L110
 1155              	.LVL117:
 1156              	.L130:
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2052:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2054:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2056:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2059:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = &p[si];									/* Return pointer to the next segment */
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of path */
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
ARM GAS  /tmp/ccLzcuV9.s 			page 59


2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1157              		.loc 1 2069 4 is_stmt 1 view .LVU337
 1158              		.loc 1 2069 11 view .LVU338
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1159              		.loc 1 2070 4 view .LVU339
 1160              		.loc 1 2070 6 is_stmt 0 view .LVU340
 1161 002e 4FEA8808 		lsl	r8, r8, #2
 1162              	.LVL118:
 1163              		.loc 1 2070 6 view .LVU341
 1164 0032 5FFA88F8 		uxtb	r8, r8
 1165              	.LVL119:
 1166              		.loc 1 2070 13 is_stmt 1 view .LVU342
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1167              		.loc 1 2069 6 is_stmt 0 view .LVU343
 1168 0036 3E46     		mov	r6, r7
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1169              		.loc 1 2069 14 view .LVU344
 1170 0038 0B27     		movs	r7, #11
 1171              		.loc 1 2070 13 view .LVU345
 1172 003a 12E0     		b	.L115
 1173              	.LVL120:
 1174              	.L113:
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
 1175              		.loc 1 2072 3 is_stmt 1 view .LVU346
 1176              		.loc 1 2072 6 is_stmt 0 view .LVU347
 1177 003c 15F0800F 		tst	r5, #128
 1178 0040 5BD1     		bne	.L125
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 			b |= 3;						/* Eliminate NT flag */
2074:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2076:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2077:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII cfg) */
2079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2080:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 1179              		.loc 1 2082 3 is_stmt 1 view .LVU348
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2084:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1)	/* Reject invalid DBC */
2085:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2086:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2088:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c))	/* Reject illegal chrs for SFN */
 1180              		.loc 1 2089 4 view .LVU349
 1181              		.loc 1 2089 8 is_stmt 0 view .LVU350
 1182 0042 2946     		mov	r1, r5
 1183 0044 3048     		ldr	r0, .L135
 1184 0046 FFF7FEFF 		bl	chk_chr
 1185              	.LVL121:
 1186              		.loc 1 2089 7 discriminator 1 view .LVU351
 1187 004a 0028     		cmp	r0, #0
 1188 004c 57D1     		bne	.L126
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
ARM GAS  /tmp/ccLzcuV9.s 			page 60


 1189              		.loc 1 2091 4 is_stmt 1 view .LVU352
 1190              		.loc 1 2091 8 is_stmt 0 view .LVU353
 1191 004e A5F14103 		sub	r3, r5, #65
 1192 0052 DBB2     		uxtb	r3, r3
 1193              		.loc 1 2091 7 view .LVU354
 1194 0054 192B     		cmp	r3, #25
 1195 0056 19D8     		bhi	.L116
2092:Middlewares/Third_Party/FatFs/src/ff.c **** 				b |= 2;
 1196              		.loc 1 2092 5 is_stmt 1 view .LVU355
 1197              		.loc 1 2092 7 is_stmt 0 view .LVU356
 1198 0058 48F00208 		orr	r8, r8, #2
 1199              	.LVL122:
 1200              	.L117:
2093:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(c)) {		/* ASCII small capital? */
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1201              		.loc 1 2098 4 is_stmt 1 view .LVU357
 1202              		.loc 1 2098 13 is_stmt 0 view .LVU358
 1203 005c 0AF80650 		strb	r5, [r10, r6]
 1204              		.loc 1 2098 9 view .LVU359
 1205 0060 0136     		adds	r6, r6, #1
 1206              	.LVL123:
 1207              	.L115:
 1208              		.loc 1 2098 9 view .LVU360
 1209 0062 5B46     		mov	r3, fp
 1210              	.LVL124:
 1211              	.L110:
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 1212              		.loc 1 2064 2 is_stmt 1 view .LVU361
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1213              		.loc 1 2065 3 view .LVU362
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1214              		.loc 1 2065 17 is_stmt 0 view .LVU363
 1215 0064 03F1010B 		add	fp, r3, #1
 1216              	.LVL125:
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1217              		.loc 1 2065 5 view .LVU364
 1218 0068 E55C     		ldrb	r5, [r4, r3]	@ zero_extendqisi2
 1219              	.LVL126:
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1220              		.loc 1 2066 3 is_stmt 1 view .LVU365
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1221              		.loc 1 2066 6 is_stmt 0 view .LVU366
 1222 006a 202D     		cmp	r5, #32
 1223 006c 18D9     		bls	.L111
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1224              		.loc 1 2066 16 discriminator 1 view .LVU367
 1225 006e 2F2D     		cmp	r5, #47
 1226 0070 16D0     		beq	.L111
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1227              		.loc 1 2066 28 discriminator 2 view .LVU368
 1228 0072 5C2D     		cmp	r5, #92
 1229 0074 14D0     		beq	.L111
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
ARM GAS  /tmp/ccLzcuV9.s 			page 61


 1230              		.loc 1 2067 3 is_stmt 1 view .LVU369
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1231              		.loc 1 2067 6 is_stmt 0 view .LVU370
 1232 0076 2E2D     		cmp	r5, #46
 1233 0078 01D0     		beq	.L112
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1234              		.loc 1 2067 16 discriminator 1 view .LVU371
 1235 007a B742     		cmp	r7, r6
 1236 007c DED8     		bhi	.L113
 1237              	.L112:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1238              		.loc 1 2068 4 is_stmt 1 view .LVU372
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1239              		.loc 1 2068 7 is_stmt 0 view .LVU373
 1240 007e 082F     		cmp	r7, #8
 1241 0080 39D1     		bne	.L123
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1242              		.loc 1 2068 16 discriminator 2 view .LVU374
 1243 0082 2E2D     		cmp	r5, #46
 1244 0084 D3D0     		beq	.L130
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1245              		.loc 1 2068 36 discriminator 3 view .LVU375
 1246 0086 0620     		movs	r0, #6
 1247              	.LVL127:
 1248              	.L114:
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!i) return FR_INVALID_NAME;		/* Reject nul string */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = c;		/* Store NT flag, File name is created */
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2115:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1249              		.loc 1 2115 1 view .LVU376
 1250 0088 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1251              	.LVL128:
 1252              	.L116:
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1253              		.loc 1 2094 5 is_stmt 1 view .LVU377
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1254              		.loc 1 2094 9 is_stmt 0 view .LVU378
 1255 008c A5F16103 		sub	r3, r5, #97
 1256 0090 DBB2     		uxtb	r3, r3
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1257              		.loc 1 2094 8 view .LVU379
 1258 0092 192B     		cmp	r3, #25
 1259 0094 E2D8     		bhi	.L117
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/ccLzcuV9.s 			page 62


 1260              		.loc 1 2095 6 is_stmt 1 view .LVU380
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1261              		.loc 1 2095 8 is_stmt 0 view .LVU381
 1262 0096 48F00108 		orr	r8, r8, #1
 1263              	.LVL129:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1264              		.loc 1 2095 14 is_stmt 1 view .LVU382
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1265              		.loc 1 2095 16 is_stmt 0 view .LVU383
 1266 009a 203D     		subs	r5, r5, #32
 1267              	.LVL130:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1268              		.loc 1 2095 16 view .LVU384
 1269 009c EDB2     		uxtb	r5, r5
 1270              	.LVL131:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1271              		.loc 1 2095 16 view .LVU385
 1272 009e DDE7     		b	.L117
 1273              	.L111:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1274              		.loc 1 2101 2 is_stmt 1 view .LVU386
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1275              		.loc 1 2101 10 is_stmt 0 view .LVU387
 1276 00a0 5C44     		add	r4, r4, fp
 1277              	.LVL132:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1278              		.loc 1 2101 8 view .LVU388
 1279 00a2 C9F80040 		str	r4, [r9]
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1280              		.loc 1 2102 2 is_stmt 1 view .LVU389
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1281              		.loc 1 2102 4 is_stmt 0 view .LVU390
 1282 00a6 202D     		cmp	r5, #32
 1283 00a8 14D8     		bhi	.L127
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1284              		.loc 1 2102 4 discriminator 1 view .LVU391
 1285 00aa 0423     		movs	r3, #4
 1286              	.L118:
 1287              	.LVL133:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1288              		.loc 1 2104 2 is_stmt 1 view .LVU392
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1289              		.loc 1 2104 5 is_stmt 0 view .LVU393
 1290 00ac 4EB3     		cbz	r6, .L128
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1291              		.loc 1 2105 2 is_stmt 1 view .LVU394
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1292              		.loc 1 2105 9 is_stmt 0 view .LVU395
 1293 00ae 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1294              		.loc 1 2105 5 view .LVU396
 1295 00b2 E52A     		cmp	r2, #229
 1296 00b4 10D0     		beq	.L131
 1297              	.L119:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1298              		.loc 1 2107 2 is_stmt 1 view .LVU397
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
ARM GAS  /tmp/ccLzcuV9.s 			page 63


 1299              		.loc 1 2107 5 is_stmt 0 view .LVU398
 1300 00b6 082F     		cmp	r7, #8
 1301 00b8 12D0     		beq	.L132
 1302              	.L120:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1303              		.loc 1 2108 2 is_stmt 1 view .LVU399
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1304              		.loc 1 2108 5 is_stmt 0 view .LVU400
 1305 00ba 08F00302 		and	r2, r8, #3
 1306 00be 012A     		cmp	r2, #1
 1307 00c0 13D0     		beq	.L133
 1308              	.L121:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1309              		.loc 1 2109 2 is_stmt 1 view .LVU401
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1310              		.loc 1 2109 5 is_stmt 0 view .LVU402
 1311 00c2 08F00C08 		and	r8, r8, #12
 1312              	.LVL134:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1313              		.loc 1 2109 5 view .LVU403
 1314 00c6 B8F1040F 		cmp	r8, #4
 1315 00ca 11D0     		beq	.L134
 1316              	.L122:
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1317              		.loc 1 2111 2 is_stmt 1 view .LVU404
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1318              		.loc 1 2111 14 is_stmt 0 view .LVU405
 1319 00cc 8AF80B30 		strb	r3, [r10, #11]
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1320              		.loc 1 2113 2 is_stmt 1 view .LVU406
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1321              		.loc 1 2113 9 is_stmt 0 view .LVU407
 1322 00d0 0020     		movs	r0, #0
 1323 00d2 D9E7     		b	.L114
 1324              	.LVL135:
 1325              	.L127:
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1326              		.loc 1 2102 4 discriminator 2 view .LVU408
 1327 00d4 0023     		movs	r3, #0
 1328 00d6 E9E7     		b	.L118
 1329              	.LVL136:
 1330              	.L131:
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1331              		.loc 1 2105 22 is_stmt 1 discriminator 1 view .LVU409
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1332              		.loc 1 2105 29 is_stmt 0 discriminator 1 view .LVU410
 1333 00d8 0522     		movs	r2, #5
 1334 00da 8AF80020 		strb	r2, [r10]
 1335 00de EAE7     		b	.L119
 1336              	.L132:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1337              		.loc 1 2107 15 is_stmt 1 discriminator 1 view .LVU411
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1338              		.loc 1 2107 17 is_stmt 0 discriminator 1 view .LVU412
 1339 00e0 4FEA8808 		lsl	r8, r8, #2
 1340              	.LVL137:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
ARM GAS  /tmp/ccLzcuV9.s 			page 64


 1341              		.loc 1 2107 17 discriminator 1 view .LVU413
 1342 00e4 5FFA88F8 		uxtb	r8, r8
 1343              	.LVL138:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1344              		.loc 1 2107 17 discriminator 1 view .LVU414
 1345 00e8 E7E7     		b	.L120
 1346              	.L133:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1347              		.loc 1 2108 26 is_stmt 1 discriminator 1 view .LVU415
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1348              		.loc 1 2108 28 is_stmt 0 discriminator 1 view .LVU416
 1349 00ea 43F01003 		orr	r3, r3, #16
 1350              	.LVL139:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1351              		.loc 1 2108 28 discriminator 1 view .LVU417
 1352 00ee E8E7     		b	.L121
 1353              	.LVL140:
 1354              	.L134:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1355              		.loc 1 2109 26 is_stmt 1 discriminator 1 view .LVU418
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1356              		.loc 1 2109 28 is_stmt 0 discriminator 1 view .LVU419
 1357 00f0 43F00803 		orr	r3, r3, #8
 1358              	.LVL141:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1359              		.loc 1 2109 28 discriminator 1 view .LVU420
 1360 00f4 EAE7     		b	.L122
 1361              	.LVL142:
 1362              	.L123:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1363              		.loc 1 2068 36 discriminator 3 view .LVU421
 1364 00f6 0620     		movs	r0, #6
 1365 00f8 C6E7     		b	.L114
 1366              	.L125:
2078:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1367              		.loc 1 2078 11 view .LVU422
 1368 00fa 0620     		movs	r0, #6
 1369 00fc C4E7     		b	.L114
 1370              	.L126:
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1371              		.loc 1 2090 12 view .LVU423
 1372 00fe 0620     		movs	r0, #6
 1373 0100 C2E7     		b	.L114
 1374              	.LVL143:
 1375              	.L128:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1376              		.loc 1 2104 17 discriminator 1 view .LVU424
 1377 0102 0620     		movs	r0, #6
 1378 0104 C0E7     		b	.L114
 1379              	.L136:
 1380 0106 00BF     		.align	2
 1381              	.L135:
 1382 0108 00000000 		.word	.LC0
 1383              		.cfi_endproc
 1384              	.LFE93:
 1386              		.section	.text.get_ldnumber,"ax",%progbits
 1387              		.align	1
ARM GAS  /tmp/ccLzcuV9.s 			page 65


 1388              		.syntax unified
 1389              		.thumb
 1390              		.thumb_func
 1392              	get_ldnumber:
 1393              	.LVL144:
 1394              	.LFB95:
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 
2118:Middlewares/Third_Party/FatFs/src/ff.c **** 
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2121:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** static
2125:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2126:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2127:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** )
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 
2134:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\') {	/* There is a heading separator */
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;	dp->sclust = 0;				/* Strip it and start from the root directory */
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* No heading separator */
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sclust = dp->fs->cdir;			/* Start from the current directory */
2139:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
2144:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;					/* Ended at the root directroy. Function completed. */
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2165:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccLzcuV9.s 			page 66


2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->sclust = ld_clust(dp->fs, dir);
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** }
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 
2182:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2184:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 
2186:Middlewares/Third_Party/FatFs/src/ff.c **** static
2187:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2189:Middlewares/Third_Party/FatFs/src/ff.c **** )
2190:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1395              		.loc 1 2190 1 is_stmt 1 view -0
 1396              		.cfi_startproc
 1397              		@ args = 0, pretend = 0, frame = 0
 1398              		@ frame_needed = 0, uses_anonymous_args = 0
 1399              		@ link register save eliminated.
 1400              		.loc 1 2190 1 is_stmt 0 view .LVU426
 1401 0000 0146     		mov	r1, r0
2191:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1402              		.loc 1 2191 2 is_stmt 1 view .LVU427
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1403              		.loc 1 2192 2 view .LVU428
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1404              		.loc 1 2193 2 view .LVU429
 1405              	.LVL145:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const str[] = {_VOLUME_STRS};
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** 
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1406              		.loc 1 2202 2 view .LVU430
 1407              		.loc 1 2202 6 is_stmt 0 view .LVU431
 1408 0002 0068     		ldr	r0, [r0]
 1409              	.LVL146:
 1410              		.loc 1 2202 5 view .LVU432
 1411 0004 38B1     		cbz	r0, .L152
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1412              		.loc 1 2203 11 view .LVU433
 1413 0006 0246     		mov	r2, r0
 1414              	.L138:
ARM GAS  /tmp/ccLzcuV9.s 			page 67


 1415              	.LVL147:
 1416              		.loc 1 2203 56 is_stmt 1 discriminator 1 view .LVU434
 1417              		.loc 1 2203 26 is_stmt 0 discriminator 1 view .LVU435
 1418 0008 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1419              		.loc 1 2203 56 discriminator 1 view .LVU436
 1420 000a 202B     		cmp	r3, #32
 1421 000c 06D9     		bls	.L140
 1422              		.loc 1 2203 56 discriminator 3 view .LVU437
 1423 000e 3A2B     		cmp	r3, #58
 1424 0010 04D0     		beq	.L140
 1425              		.loc 1 2203 73 is_stmt 1 discriminator 4 view .LVU438
 1426 0012 0132     		adds	r2, r2, #1
 1427              	.LVL148:
 1428              		.loc 1 2203 73 is_stmt 0 discriminator 4 view .LVU439
 1429 0014 F8E7     		b	.L138
 1430              	.LVL149:
 1431              	.L152:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1432              		.loc 1 2193 6 view .LVU440
 1433 0016 4FF0FF30 		mov	r0, #-1
 1434 001a 7047     		bx	lr
 1435              	.LVL150:
 1436              	.L140:
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1437              		.loc 1 2204 3 is_stmt 1 view .LVU441
 1438              		.loc 1 2204 6 is_stmt 0 view .LVU442
 1439 001c 3A2B     		cmp	r3, #58
 1440 001e 01D0     		beq	.L153
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0'; 
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2212:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2213:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2217:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = str[i]; tp = *path;
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2219:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2223:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2228:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2230:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2231:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
2232:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2233:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccLzcuV9.s 			page 68


2234:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1441              		.loc 1 2234 7 view .LVU443
 1442 0020 0020     		movs	r0, #0
 1443              	.LVL151:
2235:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2238:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1444              		.loc 1 2238 1 view .LVU444
 1445 0022 7047     		bx	lr
 1446              	.LVL152:
 1447              	.L153:
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1448              		.loc 1 2190 1 view .LVU445
 1449 0024 10B4     		push	{r4}
 1450              	.LCFI13:
 1451              		.cfi_def_cfa_offset 4
 1452              		.cfi_offset 4, -4
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1453              		.loc 1 2205 4 is_stmt 1 view .LVU446
 1454              	.LVL153:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1455              		.loc 1 2206 4 view .LVU447
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1456              		.loc 1 2206 11 is_stmt 0 view .LVU448
 1457 0026 0346     		mov	r3, r0
 1458              	.LVL154:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1459              		.loc 1 2206 8 view .LVU449
 1460 0028 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1461              	.LVL155:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1462              		.loc 1 2206 14 view .LVU450
 1463 002c 3038     		subs	r0, r0, #48
 1464              	.LVL156:
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1465              		.loc 1 2207 4 is_stmt 1 view .LVU451
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1466              		.loc 1 2207 7 is_stmt 0 view .LVU452
 1467 002e 0928     		cmp	r0, #9
 1468 0030 08D8     		bhi	.L145
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1469              		.loc 1 2207 15 discriminator 1 view .LVU453
 1470 0032 9A42     		cmp	r2, r3
 1471 0034 02D0     		beq	.L154
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1472              		.loc 1 2193 6 view .LVU454
 1473 0036 4FF0FF30 		mov	r0, #-1
 1474              	.LVL157:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1475              		.loc 1 2193 6 view .LVU455
 1476 003a 05E0     		b	.L137
 1477              	.LVL158:
 1478              	.L154:
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1479              		.loc 1 2208 5 is_stmt 1 view .LVU456
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
ARM GAS  /tmp/ccLzcuV9.s 			page 69


 1480              		.loc 1 2208 8 is_stmt 0 view .LVU457
 1481 003c 30B9     		cbnz	r0, .L147
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1482              		.loc 1 2209 6 is_stmt 1 view .LVU458
 1483              	.LVL159:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1484              		.loc 1 2210 6 view .LVU459
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1485              		.loc 1 2210 12 is_stmt 0 view .LVU460
 1486 003e 0132     		adds	r2, r2, #1
 1487              	.LVL160:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1488              		.loc 1 2210 12 view .LVU461
 1489 0040 0A60     		str	r2, [r1]
 1490 0042 01E0     		b	.L137
 1491              	.LVL161:
 1492              	.L145:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1493              		.loc 1 2193 6 view .LVU462
 1494 0044 4FF0FF30 		mov	r0, #-1
 1495              	.LVL162:
 1496              	.L137:
 1497              		.loc 1 2238 1 view .LVU463
 1498 0048 10BC     		pop	{r4}
 1499              	.LCFI14:
 1500              		.cfi_remember_state
 1501              		.cfi_restore 4
 1502              		.cfi_def_cfa_offset 0
 1503 004a 7047     		bx	lr
 1504              	.LVL163:
 1505              	.L147:
 1506              	.LCFI15:
 1507              		.cfi_restore_state
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1508              		.loc 1 2193 6 view .LVU464
 1509 004c 4FF0FF30 		mov	r0, #-1
 1510              	.LVL164:
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1511              		.loc 1 2229 4 is_stmt 1 view .LVU465
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1512              		.loc 1 2229 11 is_stmt 0 view .LVU466
 1513 0050 FAE7     		b	.L137
 1514              		.cfi_endproc
 1515              	.LFE95:
 1517              		.section	.text.sync_window,"ax",%progbits
 1518              		.align	1
 1519              		.syntax unified
 1520              		.thumb
 1521              		.thumb_func
 1523              	sync_window:
 1524              	.LVL165:
 1525              	.LFB74:
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1526              		.loc 1 776 1 is_stmt 1 view -0
 1527              		.cfi_startproc
 1528              		@ args = 0, pretend = 0, frame = 0
 1529              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccLzcuV9.s 			page 70


 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1530              		.loc 1 776 1 is_stmt 0 view .LVU468
 1531 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1532              	.LCFI16:
 1533              		.cfi_def_cfa_offset 24
 1534              		.cfi_offset 3, -24
 1535              		.cfi_offset 4, -20
 1536              		.cfi_offset 5, -16
 1537              		.cfi_offset 6, -12
 1538              		.cfi_offset 7, -8
 1539              		.cfi_offset 14, -4
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 1540              		.loc 1 777 2 is_stmt 1 view .LVU469
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1541              		.loc 1 778 2 view .LVU470
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1542              		.loc 1 779 2 view .LVU471
 1543              	.LVL166:
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1544              		.loc 1 782 2 view .LVU472
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1545              		.loc 1 782 8 is_stmt 0 view .LVU473
 1546 0002 90F80452 		ldrb	r5, [r0, #516]	@ zero_extendqisi2
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1547              		.loc 1 782 5 view .LVU474
 1548 0006 0DB9     		cbnz	r5, .L161
 1549              	.LVL167:
 1550              	.L156:
 796:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1551              		.loc 1 796 2 is_stmt 1 view .LVU475
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1552              		.loc 1 797 1 is_stmt 0 view .LVU476
 1553 0008 2846     		mov	r0, r5
 1554 000a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1555              	.LVL168:
 1556              	.L161:
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1557              		.loc 1 797 1 view .LVU477
 1558 000c 0446     		mov	r4, r0
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1559              		.loc 1 783 3 is_stmt 1 view .LVU478
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1560              		.loc 1 783 9 is_stmt 0 view .LVU479
 1561 000e D0F82C72 		ldr	r7, [r0, #556]
 1562              	.LVL169:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1563              		.loc 1 784 3 is_stmt 1 view .LVU480
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1564              		.loc 1 784 7 is_stmt 0 view .LVU481
 1565 0012 0123     		movs	r3, #1
 1566 0014 3A46     		mov	r2, r7
 1567 0016 0146     		mov	r1, r0
 1568 0018 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 1569              	.LVL170:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1570              		.loc 1 784 7 view .LVU482
 1571 001c FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/ccLzcuV9.s 			page 71


 1572              	.LVL171:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1573              		.loc 1 784 6 discriminator 1 view .LVU483
 1574 0020 0546     		mov	r5, r0
 1575 0022 D0B9     		cbnz	r0, .L159
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1576              		.loc 1 787 4 is_stmt 1 view .LVU484
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1577              		.loc 1 787 14 is_stmt 0 view .LVU485
 1578 0024 0023     		movs	r3, #0
 1579 0026 84F80432 		strb	r3, [r4, #516]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1580              		.loc 1 788 4 is_stmt 1 view .LVU486
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1581              		.loc 1 788 18 is_stmt 0 view .LVU487
 1582 002a D4F82032 		ldr	r3, [r4, #544]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1583              		.loc 1 788 14 view .LVU488
 1584 002e FB1A     		subs	r3, r7, r3
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1585              		.loc 1 788 32 view .LVU489
 1586 0030 D4F81822 		ldr	r2, [r4, #536]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1587              		.loc 1 788 7 view .LVU490
 1588 0034 9342     		cmp	r3, r2
 1589 0036 E7D2     		bcs	.L156
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1590              		.loc 1 789 5 is_stmt 1 view .LVU491
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1591              		.loc 1 789 17 is_stmt 0 view .LVU492
 1592 0038 94F80362 		ldrb	r6, [r4, #515]	@ zero_extendqisi2
 1593              	.LVL172:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1594              		.loc 1 789 5 view .LVU493
 1595 003c 0AE0     		b	.L157
 1596              	.L158:
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1597              		.loc 1 790 6 is_stmt 1 view .LVU494
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1598              		.loc 1 790 17 is_stmt 0 view .LVU495
 1599 003e D4F81832 		ldr	r3, [r4, #536]
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1600              		.loc 1 790 12 view .LVU496
 1601 0042 1F44     		add	r7, r7, r3
 1602              	.LVL173:
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1603              		.loc 1 791 6 is_stmt 1 view .LVU497
 1604 0044 0123     		movs	r3, #1
 1605 0046 3A46     		mov	r2, r7
 1606 0048 2146     		mov	r1, r4
 1607 004a 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 1608 004e FFF7FEFF 		bl	disk_write
 1609              	.LVL174:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1610              		.loc 1 789 38 discriminator 3 view .LVU498
 1611 0052 013E     		subs	r6, r6, #1
 1612              	.LVL175:
ARM GAS  /tmp/ccLzcuV9.s 			page 72


 1613              	.L157:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1614              		.loc 1 789 30 discriminator 1 view .LVU499
 1615 0054 012E     		cmp	r6, #1
 1616 0056 F2D8     		bhi	.L158
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1617              		.loc 1 789 30 is_stmt 0 discriminator 1 view .LVU500
 1618 0058 D6E7     		b	.L156
 1619              	.LVL176:
 1620              	.L159:
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1621              		.loc 1 785 8 view .LVU501
 1622 005a 0125     		movs	r5, #1
 1623 005c D4E7     		b	.L156
 1624              		.cfi_endproc
 1625              	.LFE74:
 1627              		.section	.text.move_window,"ax",%progbits
 1628              		.align	1
 1629              		.syntax unified
 1630              		.thumb
 1631              		.thumb_func
 1633              	move_window:
 1634              	.LVL177:
 1635              	.LFB75:
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1636              		.loc 1 806 1 is_stmt 1 view -0
 1637              		.cfi_startproc
 1638              		@ args = 0, pretend = 0, frame = 0
 1639              		@ frame_needed = 0, uses_anonymous_args = 0
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1640              		.loc 1 806 1 is_stmt 0 view .LVU503
 1641 0000 70B5     		push	{r4, r5, r6, lr}
 1642              	.LCFI17:
 1643              		.cfi_def_cfa_offset 16
 1644              		.cfi_offset 4, -16
 1645              		.cfi_offset 5, -12
 1646              		.cfi_offset 6, -8
 1647              		.cfi_offset 14, -4
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1648              		.loc 1 807 2 is_stmt 1 view .LVU504
 1649              	.LVL178:
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1650              		.loc 1 810 2 view .LVU505
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1651              		.loc 1 810 18 is_stmt 0 view .LVU506
 1652 0002 D0F82C32 		ldr	r3, [r0, #556]
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1653              		.loc 1 810 5 view .LVU507
 1654 0006 8B42     		cmp	r3, r1
 1655 0008 02D1     		bne	.L168
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1656              		.loc 1 807 10 view .LVU508
 1657 000a 0026     		movs	r6, #0
 1658              	.LVL179:
 1659              	.L163:
 822:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1660              		.loc 1 822 2 is_stmt 1 view .LVU509
ARM GAS  /tmp/ccLzcuV9.s 			page 73


 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1661              		.loc 1 823 1 is_stmt 0 view .LVU510
 1662 000c 3046     		mov	r0, r6
 1663 000e 70BD     		pop	{r4, r5, r6, pc}
 1664              	.LVL180:
 1665              	.L168:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1666              		.loc 1 823 1 view .LVU511
 1667 0010 0446     		mov	r4, r0
 1668 0012 0D46     		mov	r5, r1
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1669              		.loc 1 812 3 is_stmt 1 view .LVU512
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1670              		.loc 1 812 9 is_stmt 0 view .LVU513
 1671 0014 FFF7FEFF 		bl	sync_window
 1672              	.LVL181:
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1673              		.loc 1 814 3 is_stmt 1 view .LVU514
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1674              		.loc 1 814 6 is_stmt 0 view .LVU515
 1675 0018 0646     		mov	r6, r0
 1676 001a 0028     		cmp	r0, #0
 1677 001c F6D1     		bne	.L163
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1678              		.loc 1 815 4 is_stmt 1 view .LVU516
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1679              		.loc 1 815 8 is_stmt 0 view .LVU517
 1680 001e 0123     		movs	r3, #1
 1681 0020 2A46     		mov	r2, r5
 1682 0022 2146     		mov	r1, r4
 1683 0024 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 1684              	.LVL182:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1685              		.loc 1 815 8 view .LVU518
 1686 0028 FFF7FEFF 		bl	disk_read
 1687              	.LVL183:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1688              		.loc 1 815 7 discriminator 1 view .LVU519
 1689 002c 10B1     		cbz	r0, .L164
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 1690              		.loc 1 817 9 view .LVU520
 1691 002e 0126     		movs	r6, #1
 1692              	.LVL184:
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 1693              		.loc 1 816 12 view .LVU521
 1694 0030 4FF0FF35 		mov	r5, #-1
 1695              	.LVL185:
 1696              	.L164:
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1697              		.loc 1 819 4 is_stmt 1 view .LVU522
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1698              		.loc 1 819 16 is_stmt 0 view .LVU523
 1699 0034 C4F82C52 		str	r5, [r4, #556]
 1700 0038 E8E7     		b	.L163
 1701              		.cfi_endproc
 1702              	.LFE75:
 1704              		.section	.text.check_fs,"ax",%progbits
ARM GAS  /tmp/ccLzcuV9.s 			page 74


 1705              		.align	1
 1706              		.syntax unified
 1707              		.thumb
 1708              		.thumb_func
 1710              	check_fs:
 1711              	.LVL186:
 1712              	.LFB96:
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 
2242:Middlewares/Third_Party/FatFs/src/ff.c **** 
2243:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2244:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2245:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2246:Middlewares/Third_Party/FatFs/src/ff.c **** 
2247:Middlewares/Third_Party/FatFs/src/ff.c **** static
2248:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT boor sector, 1:Valid boor sector but not FAT, 2:Not a boot sector, 3:Disk 
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to check if it is an FAT boot record or not */
2251:Middlewares/Third_Party/FatFs/src/ff.c **** )
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1713              		.loc 1 2252 1 is_stmt 1 view -0
 1714              		.cfi_startproc
 1715              		@ args = 0, pretend = 0, frame = 0
 1716              		@ frame_needed = 0, uses_anonymous_args = 0
 1717              		.loc 1 2252 1 is_stmt 0 view .LVU525
 1718 0000 10B5     		push	{r4, lr}
 1719              	.LCFI18:
 1720              		.cfi_def_cfa_offset 8
 1721              		.cfi_offset 4, -8
 1722              		.cfi_offset 14, -4
 1723 0002 0446     		mov	r4, r0
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
 1724              		.loc 1 2253 2 is_stmt 1 view .LVU526
 1725              		.loc 1 2253 12 is_stmt 0 view .LVU527
 1726 0004 0023     		movs	r3, #0
 1727 0006 80F80432 		strb	r3, [r0, #516]
 1728              		.loc 1 2253 17 is_stmt 1 view .LVU528
 1729              		.loc 1 2253 29 is_stmt 0 view .LVU529
 1730 000a 4FF0FF33 		mov	r3, #-1
 1731 000e C0F82C32 		str	r3, [r0, #556]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK)			/* Load boot record */
 1732              		.loc 1 2254 2 is_stmt 1 view .LVU530
 1733              		.loc 1 2254 6 is_stmt 0 view .LVU531
 1734 0012 FFF7FEFF 		bl	move_window
 1735              	.LVL187:
 1736              		.loc 1 2254 5 discriminator 1 view .LVU532
 1737 0016 98BB     		cbnz	r0, .L171
 1738 0018 0246     		mov	r2, r0
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 3;
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(&fs->win.d8[BS_55AA]) != 0xAA55)	/* Check boot record signature (always placed at offs
 1739              		.loc 1 2257 2 is_stmt 1 view .LVU533
 1740              		.loc 1 2257 6 is_stmt 0 view .LVU534
 1741 001a 94F8FF11 		ldrb	r1, [r4, #511]	@ zero_extendqisi2
 1742 001e 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 1743 0022 43EA0123 		orr	r3, r3, r1, lsl #8
ARM GAS  /tmp/ccLzcuV9.s 			page 75


 1744 0026 1BB2     		sxth	r3, r3
 1745              		.loc 1 2257 5 view .LVU535
 1746 0028 1749     		ldr	r1, .L174
 1747 002a 8B42     		cmp	r3, r1
 1748 002c 2AD1     		bne	.L172
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 2;
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType]) & 0xFFFFFF) == 0x544146)		/* Check "FAT" string */
 1749              		.loc 1 2260 2 is_stmt 1 view .LVU536
 1750              		.loc 1 2260 7 is_stmt 0 view .LVU537
 1751 002e 94F83910 		ldrb	r1, [r4, #57]	@ zero_extendqisi2
 1752 0032 94F83830 		ldrb	r3, [r4, #56]	@ zero_extendqisi2
 1753 0036 1B04     		lsls	r3, r3, #16
 1754 0038 43EA0163 		orr	r3, r3, r1, lsl #24
 1755 003c 94F83710 		ldrb	r1, [r4, #55]	@ zero_extendqisi2
 1756 0040 43EA0123 		orr	r3, r3, r1, lsl #8
 1757 0044 94F83610 		ldrb	r1, [r4, #54]	@ zero_extendqisi2
 1758 0048 0B43     		orrs	r3, r3, r1
 1759              		.loc 1 2260 44 view .LVU538
 1760 004a 23F07F43 		bic	r3, r3, #-16777216
 1761              		.loc 1 2260 5 view .LVU539
 1762 004e 0F49     		ldr	r1, .L174+4
 1763 0050 8B42     		cmp	r3, r1
 1764 0052 13D0     		beq	.L170
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType32]) & 0xFFFFFF) == 0x544146)	/* Check "FAT" string */
 1765              		.loc 1 2262 2 is_stmt 1 view .LVU540
 1766              		.loc 1 2262 7 is_stmt 0 view .LVU541
 1767 0054 94F85510 		ldrb	r1, [r4, #85]	@ zero_extendqisi2
 1768 0058 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 1769 005c 1B04     		lsls	r3, r3, #16
 1770 005e 43EA0163 		orr	r3, r3, r1, lsl #24
 1771 0062 94F85310 		ldrb	r1, [r4, #83]	@ zero_extendqisi2
 1772 0066 43EA0123 		orr	r3, r3, r1, lsl #8
 1773 006a 94F85210 		ldrb	r1, [r4, #82]	@ zero_extendqisi2
 1774 006e 0B43     		orrs	r3, r3, r1
 1775              		.loc 1 2262 46 view .LVU542
 1776 0070 23F07F43 		bic	r3, r3, #-16777216
 1777              		.loc 1 2262 5 view .LVU543
 1778 0074 0549     		ldr	r1, .L174+4
 1779 0076 8B42     		cmp	r3, r1
 1780 0078 00D0     		beq	.L170
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
 1781              		.loc 1 2265 9 view .LVU544
 1782 007a 0122     		movs	r2, #1
 1783              	.L170:
2266:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1784              		.loc 1 2266 1 view .LVU545
 1785 007c 1046     		mov	r0, r2
 1786 007e 10BD     		pop	{r4, pc}
 1787              	.LVL188:
 1788              	.L171:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1789              		.loc 1 2255 10 view .LVU546
 1790 0080 0322     		movs	r2, #3
ARM GAS  /tmp/ccLzcuV9.s 			page 76


 1791 0082 FBE7     		b	.L170
 1792              	.L172:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1793              		.loc 1 2258 10 view .LVU547
 1794 0084 0222     		movs	r2, #2
 1795 0086 F9E7     		b	.L170
 1796              	.L175:
 1797              		.align	2
 1798              	.L174:
 1799 0088 55AAFFFF 		.word	-21931
 1800 008c 46415400 		.word	5521734
 1801              		.cfi_endproc
 1802              	.LFE96:
 1804              		.section	.text.validate,"ax",%progbits
 1805              		.align	1
 1806              		.syntax unified
 1807              		.thumb
 1808              		.thumb_func
 1810              	validate:
 1811              	.LVL189:
 1812              	.LFB98:
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 
2271:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2272:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2273:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 
2275:Middlewares/Third_Party/FatFs/src/ff.c **** static
2276:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE wmode			/* !=0: Check write protection for write access */
2280:Middlewares/Third_Party/FatFs/src/ff.c **** )
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2289:Middlewares/Third_Party/FatFs/src/ff.c **** 
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number from the path name */
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 77


2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
2322:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
2325:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning, FDISK and SFD. */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
2333:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);						/* Partition number: 0:auto, 1-4:forced */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {								/* Find an FAT volume */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found. Following code initializes the file system object */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(fs->win.d8 + BPB_BytsPerSec) != SS(fs))	/* (BPB_BytsPerSec must be equal to the physic
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize = LD_WORD(fs->win.d8 + BPB_FATSz16);			/* Number of sectors per FAT */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->csize = fs->win.d8[BPB_SecPerClus];				/* Number of sectors per cluster */
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
ARM GAS  /tmp/ccLzcuV9.s 			page 78


2360:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2365:Middlewares/Third_Party/FatFs/src/ff.c **** 
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	tsect = LD_WORD(fs->win.d8 + BPB_TotSec16);			/* Number of sectors on the volume */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
2368:Middlewares/Third_Party/FatFs/src/ff.c **** 
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	nrsv = LD_WORD(fs->win.d8 + BPB_RsvdSecCnt);			/* Number of reserved sectors */
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the FAT sub type */
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZ_DIRE);	/* RSV + FAT + DIR */
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Boundaries and Limits */
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
2390:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fs->n_rootdir)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
2395:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs))	/* (BPB_FATSz must not be less than the size nee
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2398:Middlewares/Third_Party/FatFs/src/ff.c **** 
2399:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize cluster allocation information */
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->last_clust = fs->free_clust = 0xFFFFFFFF;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** 
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get fsinfo if available */
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsi_flag = 0x80;
2405:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0;
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
2415:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = LD_DWORD(fs->win.d8 + FSI_Free_Count);
ARM GAS  /tmp/ccLzcuV9.s 			page 79


2417:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2418:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->last_clust = LD_DWORD(fs->win.d8 + FSI_Nxt_Free);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2423:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2424:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;	/* FAT sub-type */
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
2427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;		/* Set current directory to root */
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK			/* Clear file lock semaphores */
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
2432:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2435:Middlewares/Third_Party/FatFs/src/ff.c **** }
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** 
2439:Middlewares/Third_Party/FatFs/src/ff.c **** 
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
2442:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2443:Middlewares/Third_Party/FatFs/src/ff.c **** 
2444:Middlewares/Third_Party/FatFs/src/ff.c **** static
2445:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* FR_OK(0): The object is valid, !=0: Invalid */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* obj		/* Pointer to the object FIL/DIR to check validity */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1813              		.loc 1 2448 1 is_stmt 1 view -0
 1814              		.cfi_startproc
 1815              		@ args = 0, pretend = 0, frame = 0
 1816              		@ frame_needed = 0, uses_anonymous_args = 0
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1817              		.loc 1 2449 2 view .LVU549
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fil || !fil->fs || !fil->fs->fs_type || fil->fs->id != fil->id || (disk_status(fil->fs->drv) 
 1818              		.loc 1 2452 2 view .LVU550
 1819              		.loc 1 2452 5 is_stmt 0 view .LVU551
 1820 0000 B0B1     		cbz	r0, .L180
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1821              		.loc 1 2448 1 view .LVU552
 1822 0002 08B5     		push	{r3, lr}
 1823              	.LCFI19:
 1824              		.cfi_def_cfa_offset 8
 1825              		.cfi_offset 3, -8
 1826              		.cfi_offset 14, -4
 1827              		.loc 1 2452 18 discriminator 1 view .LVU553
 1828 0004 D0F80032 		ldr	r3, [r0, #512]
 1829              		.loc 1 2452 11 discriminator 1 view .LVU554
 1830 0008 43B1     		cbz	r3, .L177
 1831              		.loc 1 2452 34 discriminator 2 view .LVU555
 1832 000a 93F80012 		ldrb	r1, [r3, #512]	@ zero_extendqisi2
ARM GAS  /tmp/ccLzcuV9.s 			page 80


 1833              		.loc 1 2452 23 discriminator 2 view .LVU556
 1834 000e 29B1     		cbz	r1, .L177
 1835              		.loc 1 2452 54 discriminator 3 view .LVU557
 1836 0010 B3F80612 		ldrh	r1, [r3, #518]
 1837              		.loc 1 2452 65 discriminator 3 view .LVU558
 1838 0014 B0F80422 		ldrh	r2, [r0, #516]
 1839              		.loc 1 2452 44 discriminator 3 view .LVU559
 1840 0018 9142     		cmp	r1, r2
 1841 001a 01D0     		beq	.L184
 1842              	.LVL190:
 1843              	.L177:
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1844              		.loc 1 2453 3 is_stmt 1 view .LVU560
 1845              		.loc 1 2453 10 is_stmt 0 view .LVU561
 1846 001c 0920     		movs	r0, #9
 1847              	.L178:
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 
2455:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fil->fs);		/* Lock file system */
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1848              		.loc 1 2458 1 view .LVU562
 1849 001e 08BD     		pop	{r3, pc}
 1850              	.LVL191:
 1851              	.L184:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1852              		.loc 1 2452 74 discriminator 4 view .LVU563
 1853 0020 93F80102 		ldrb	r0, [r3, #513]	@ zero_extendqisi2
 1854              	.LVL192:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1855              		.loc 1 2452 74 discriminator 4 view .LVU564
 1856 0024 FFF7FEFF 		bl	disk_status
 1857              	.LVL193:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1858              		.loc 1 2452 70 discriminator 1 view .LVU565
 1859 0028 10F00100 		ands	r0, r0, #1
 1860 002c F7D0     		beq	.L178
 1861 002e F5E7     		b	.L177
 1862              	.LVL194:
 1863              	.L180:
 1864              	.LCFI20:
 1865              		.cfi_def_cfa_offset 0
 1866              		.cfi_restore 3
 1867              		.cfi_restore 14
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1868              		.loc 1 2453 3 is_stmt 1 view .LVU566
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1869              		.loc 1 2453 10 is_stmt 0 view .LVU567
 1870 0030 0920     		movs	r0, #9
 1871              	.LVL195:
 1872              		.loc 1 2458 1 view .LVU568
 1873 0032 7047     		bx	lr
 1874              		.cfi_endproc
 1875              	.LFE98:
 1877              		.section	.text.find_volume,"ax",%progbits
 1878              		.align	1
 1879              		.syntax unified
ARM GAS  /tmp/ccLzcuV9.s 			page 81


 1880              		.thumb
 1881              		.thumb_func
 1883              	find_volume:
 1884              	.LVL196:
 1885              	.LFB97:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1886              		.loc 1 2281 1 is_stmt 1 view -0
 1887              		.cfi_startproc
 1888              		@ args = 0, pretend = 0, frame = 16
 1889              		@ frame_needed = 0, uses_anonymous_args = 0
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1890              		.loc 1 2281 1 is_stmt 0 view .LVU570
 1891 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1892              	.LCFI21:
 1893              		.cfi_def_cfa_offset 28
 1894              		.cfi_offset 4, -28
 1895              		.cfi_offset 5, -24
 1896              		.cfi_offset 6, -20
 1897              		.cfi_offset 7, -16
 1898              		.cfi_offset 8, -12
 1899              		.cfi_offset 9, -8
 1900              		.cfi_offset 14, -4
 1901 0004 85B0     		sub	sp, sp, #20
 1902              	.LCFI22:
 1903              		.cfi_def_cfa_offset 48
 1904 0006 0546     		mov	r5, r0
 1905 0008 1746     		mov	r7, r2
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 1906              		.loc 1 2282 2 is_stmt 1 view .LVU571
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 1907              		.loc 1 2283 2 view .LVU572
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 1908              		.loc 1 2284 2 view .LVU573
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 1909              		.loc 1 2285 2 view .LVU574
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 1910              		.loc 1 2286 2 view .LVU575
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1911              		.loc 1 2287 2 view .LVU576
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1912              		.loc 1 2288 2 view .LVU577
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1913              		.loc 1 2292 2 view .LVU578
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1914              		.loc 1 2292 7 is_stmt 0 view .LVU579
 1915 000a 0023     		movs	r3, #0
 1916 000c 0360     		str	r3, [r0]
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1917              		.loc 1 2293 2 is_stmt 1 view .LVU580
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1918              		.loc 1 2293 8 is_stmt 0 view .LVU581
 1919 000e 0846     		mov	r0, r1
 1920              	.LVL197:
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1921              		.loc 1 2293 8 view .LVU582
 1922 0010 FFF7FEFF 		bl	get_ldnumber
 1923              	.LVL198:
ARM GAS  /tmp/ccLzcuV9.s 			page 82


2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1924              		.loc 1 2294 2 is_stmt 1 view .LVU583
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1925              		.loc 1 2294 5 is_stmt 0 view .LVU584
 1926 0014 061E     		subs	r6, r0, #0
 1927 0016 C0F29E81 		blt	.L202
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1928              		.loc 1 2297 2 is_stmt 1 view .LVU585
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1929              		.loc 1 2297 5 is_stmt 0 view .LVU586
 1930 001a 9F4B     		ldr	r3, .L231
 1931 001c 53F82640 		ldr	r4, [r3, r6, lsl #2]
 1932              	.LVL199:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1933              		.loc 1 2298 2 is_stmt 1 view .LVU587
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1934              		.loc 1 2298 5 is_stmt 0 view .LVU588
 1935 0020 002C     		cmp	r4, #0
 1936 0022 00F09D81 		beq	.L203
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 1937              		.loc 1 2300 14 is_stmt 1 view .LVU589
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1938              		.loc 1 2301 2 view .LVU590
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1939              		.loc 1 2301 7 is_stmt 0 view .LVU591
 1940 0026 2C60     		str	r4, [r5]
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1941              		.loc 1 2303 2 is_stmt 1 view .LVU592
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1942              		.loc 1 2303 8 is_stmt 0 view .LVU593
 1943 0028 94F80032 		ldrb	r3, [r4, #512]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1944              		.loc 1 2303 5 view .LVU594
 1945 002c 7BB1     		cbz	r3, .L187
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1946              		.loc 1 2304 3 is_stmt 1 view .LVU595
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1947              		.loc 1 2304 10 is_stmt 0 view .LVU596
 1948 002e 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 1949              	.LVL200:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1950              		.loc 1 2304 10 view .LVU597
 1951 0032 FFF7FEFF 		bl	disk_status
 1952              	.LVL201:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1953              		.loc 1 2305 3 is_stmt 1 view .LVU598
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1954              		.loc 1 2305 6 is_stmt 0 view .LVU599
 1955 0036 10F00105 		ands	r5, r0, #1
 1956              	.LVL202:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 1957              		.loc 1 2305 6 view .LVU600
 1958 003a 08D1     		bne	.L187
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1959              		.loc 1 2306 4 is_stmt 1 view .LVU601
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1960              		.loc 1 2306 7 is_stmt 0 view .LVU602
ARM GAS  /tmp/ccLzcuV9.s 			page 83


 1961 003c 002F     		cmp	r7, #0
 1962 003e 00F08B81 		beq	.L186
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1963              		.loc 1 2306 31 discriminator 1 view .LVU603
 1964 0042 10F0040F 		tst	r0, #4
 1965 0046 00F08781 		beq	.L186
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 1966              		.loc 1 2307 12 view .LVU604
 1967 004a 0A25     		movs	r5, #10
 1968 004c 84E1     		b	.L186
 1969              	.LVL203:
 1970              	.L187:
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1971              		.loc 1 2315 2 is_stmt 1 view .LVU605
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1972              		.loc 1 2315 14 is_stmt 0 view .LVU606
 1973 004e 0023     		movs	r3, #0
 1974 0050 84F80032 		strb	r3, [r4, #512]
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1975              		.loc 1 2316 2 is_stmt 1 view .LVU607
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1976              		.loc 1 2316 12 is_stmt 0 view .LVU608
 1977 0054 F0B2     		uxtb	r0, r6
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1978              		.loc 1 2316 10 view .LVU609
 1979 0056 84F80102 		strb	r0, [r4, #513]
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 1980              		.loc 1 2317 2 is_stmt 1 view .LVU610
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 1981              		.loc 1 2317 9 is_stmt 0 view .LVU611
 1982 005a FFF7FEFF 		bl	disk_initialize
 1983              	.LVL204:
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 1984              		.loc 1 2318 2 is_stmt 1 view .LVU612
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 1985              		.loc 1 2318 5 is_stmt 0 view .LVU613
 1986 005e 10F0010F 		tst	r0, #1
 1987 0062 40F07F81 		bne	.L205
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1988              		.loc 1 2320 2 is_stmt 1 view .LVU614
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1989              		.loc 1 2320 5 is_stmt 0 view .LVU615
 1990 0066 1FB1     		cbz	r7, .L188
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1991              		.loc 1 2320 29 discriminator 1 view .LVU616
 1992 0068 10F0040F 		tst	r0, #4
 1993 006c 40F07C81 		bne	.L206
 1994              	.L188:
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 1995              		.loc 1 2327 2 is_stmt 1 view .LVU617
 1996              	.LVL205:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 1997              		.loc 1 2328 2 view .LVU618
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 1998              		.loc 1 2328 8 is_stmt 0 view .LVU619
 1999 0070 0021     		movs	r1, #0
 2000 0072 2046     		mov	r0, r4
ARM GAS  /tmp/ccLzcuV9.s 			page 84


 2001              	.LVL206:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2002              		.loc 1 2328 8 view .LVU620
 2003 0074 FFF7FEFF 		bl	check_fs
 2004              	.LVL207:
 2005 0078 0546     		mov	r5, r0
 2006              	.LVL208:
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2007              		.loc 1 2329 2 is_stmt 1 view .LVU621
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2008              		.loc 1 2329 5 is_stmt 0 view .LVU622
 2009 007a 0128     		cmp	r0, #1
 2010 007c 00F09580 		beq	.L207
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2011              		.loc 1 2327 8 view .LVU623
 2012 0080 0027     		movs	r7, #0
 2013              	.LVL209:
 2014              	.L190:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2015              		.loc 1 2341 2 is_stmt 1 view .LVU624
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2016              		.loc 1 2341 5 is_stmt 0 view .LVU625
 2017 0082 032D     		cmp	r5, #3
 2018 0084 00F07281 		beq	.L210
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2019              		.loc 1 2342 2 is_stmt 1 view .LVU626
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2020              		.loc 1 2342 5 is_stmt 0 view .LVU627
 2021 0088 002D     		cmp	r5, #0
 2022 008a 40F07181 		bne	.L211
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2023              		.loc 1 2346 2 is_stmt 1 view .LVU628
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2024              		.loc 1 2346 6 is_stmt 0 view .LVU629
 2025 008e 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 2026 0090 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 2027 0092 43EA0223 		orr	r3, r3, r2, lsl #8
 2028 0096 1BB2     		sxth	r3, r3
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2029              		.loc 1 2346 5 view .LVU630
 2030 0098 B3F5007F 		cmp	r3, #512
 2031 009c 40F06A81 		bne	.L212
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2032              		.loc 1 2349 2 is_stmt 1 view .LVU631
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2033              		.loc 1 2349 11 is_stmt 0 view .LVU632
 2034 00a0 E27D     		ldrb	r2, [r4, #23]	@ zero_extendqisi2
 2035 00a2 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 2036              	.LVL210:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2037              		.loc 1 2350 2 is_stmt 1 view .LVU633
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2038              		.loc 1 2350 5 is_stmt 0 view .LVU634
 2039 00a4 53EA0223 		orrs	r3, r3, r2, lsl #8
 2040              	.LVL211:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2041              		.loc 1 2350 5 view .LVU635
ARM GAS  /tmp/ccLzcuV9.s 			page 85


 2042 00a8 0DD1     		bne	.L195
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2043              		.loc 1 2350 15 is_stmt 1 discriminator 1 view .LVU636
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2044              		.loc 1 2350 24 is_stmt 0 discriminator 1 view .LVU637
 2045 00aa 94F82720 		ldrb	r2, [r4, #39]	@ zero_extendqisi2
 2046 00ae 94F82630 		ldrb	r3, [r4, #38]	@ zero_extendqisi2
 2047              	.LVL212:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2048              		.loc 1 2350 24 discriminator 1 view .LVU638
 2049 00b2 1B04     		lsls	r3, r3, #16
 2050 00b4 43EA0263 		orr	r3, r3, r2, lsl #24
 2051 00b8 94F82520 		ldrb	r2, [r4, #37]	@ zero_extendqisi2
 2052 00bc 43EA0223 		orr	r3, r3, r2, lsl #8
 2053 00c0 94F82420 		ldrb	r2, [r4, #36]	@ zero_extendqisi2
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2054              		.loc 1 2350 22 discriminator 1 view .LVU639
 2055 00c4 1343     		orrs	r3, r3, r2
 2056              	.LVL213:
 2057              	.L195:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2058              		.loc 1 2351 2 is_stmt 1 view .LVU640
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2059              		.loc 1 2351 12 is_stmt 0 view .LVU641
 2060 00c6 C4F81832 		str	r3, [r4, #536]
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2061              		.loc 1 2353 2 is_stmt 1 view .LVU642
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2062              		.loc 1 2353 25 is_stmt 0 view .LVU643
 2063 00ca 217C     		ldrb	r1, [r4, #16]	@ zero_extendqisi2
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2064              		.loc 1 2353 13 view .LVU644
 2065 00cc 84F80312 		strb	r1, [r4, #515]
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2066              		.loc 1 2354 2 is_stmt 1 view .LVU645
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2067              		.loc 1 2354 22 is_stmt 0 view .LVU646
 2068 00d0 4A1E     		subs	r2, r1, #1
 2069 00d2 D2B2     		uxtb	r2, r2
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2070              		.loc 1 2354 5 view .LVU647
 2071 00d4 012A     		cmp	r2, #1
 2072 00d6 00F24F81 		bhi	.L213
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2073              		.loc 1 2356 2 is_stmt 1 view .LVU648
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2074              		.loc 1 2356 9 is_stmt 0 view .LVU649
 2075 00da 03FB01F1 		mul	r1, r3, r1
 2076              	.LVL214:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2077              		.loc 1 2358 2 is_stmt 1 view .LVU650
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2078              		.loc 1 2358 24 is_stmt 0 view .LVU651
 2079 00de 607B     		ldrb	r0, [r4, #13]	@ zero_extendqisi2
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2080              		.loc 1 2358 12 view .LVU652
 2081 00e0 84F80202 		strb	r0, [r4, #514]
ARM GAS  /tmp/ccLzcuV9.s 			page 86


2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2082              		.loc 1 2359 2 is_stmt 1 view .LVU653
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2083              		.loc 1 2359 5 is_stmt 0 view .LVU654
 2084 00e4 0028     		cmp	r0, #0
 2085 00e6 00F04981 		beq	.L214
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2086              		.loc 1 2359 44 discriminator 1 view .LVU655
 2087 00ea 421E     		subs	r2, r0, #1
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2088              		.loc 1 2359 17 discriminator 1 view .LVU656
 2089 00ec 1042     		tst	r0, r2
 2090 00ee 40F04781 		bne	.L215
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2091              		.loc 1 2362 2 is_stmt 1 view .LVU657
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2092              		.loc 1 2362 18 is_stmt 0 view .LVU658
 2093 00f2 A67C     		ldrb	r6, [r4, #18]	@ zero_extendqisi2
 2094 00f4 627C     		ldrb	r2, [r4, #17]	@ zero_extendqisi2
 2095 00f6 42EA0622 		orr	r2, r2, r6, lsl #8
 2096 00fa 1646     		mov	r6, r2
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2097              		.loc 1 2362 16 view .LVU659
 2098 00fc A4F80822 		strh	r2, [r4, #520]	@ movhi
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2099              		.loc 1 2363 2 is_stmt 1 view .LVU660
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2100              		.loc 1 2363 5 is_stmt 0 view .LVU661
 2101 0100 12F00F0F 		tst	r2, #15
 2102 0104 40F03E81 		bne	.L216
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2103              		.loc 1 2366 2 is_stmt 1 view .LVU662
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2104              		.loc 1 2366 10 is_stmt 0 view .LVU663
 2105 0108 94F814C0 		ldrb	ip, [r4, #20]	@ zero_extendqisi2
 2106 010c E27C     		ldrb	r2, [r4, #19]	@ zero_extendqisi2
 2107              	.LVL215:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2108              		.loc 1 2367 2 is_stmt 1 view .LVU664
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2109              		.loc 1 2367 5 is_stmt 0 view .LVU665
 2110 010e 52EA0C22 		orrs	r2, r2, ip, lsl #8
 2111              	.LVL216:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2112              		.loc 1 2367 5 view .LVU666
 2113 0112 0ED1     		bne	.L196
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2114              		.loc 1 2367 14 is_stmt 1 discriminator 1 view .LVU667
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2115              		.loc 1 2367 22 is_stmt 0 discriminator 1 view .LVU668
 2116 0114 94F823C0 		ldrb	ip, [r4, #35]	@ zero_extendqisi2
 2117 0118 94F82220 		ldrb	r2, [r4, #34]	@ zero_extendqisi2
 2118              	.LVL217:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2119              		.loc 1 2367 22 discriminator 1 view .LVU669
 2120 011c 1204     		lsls	r2, r2, #16
 2121 011e 42EA0C62 		orr	r2, r2, ip, lsl #24
ARM GAS  /tmp/ccLzcuV9.s 			page 87


 2122 0122 94F821C0 		ldrb	ip, [r4, #33]	@ zero_extendqisi2
 2123 0126 42EA0C22 		orr	r2, r2, ip, lsl #8
 2124 012a 94F820C0 		ldrb	ip, [r4, #32]	@ zero_extendqisi2
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2125              		.loc 1 2367 20 discriminator 1 view .LVU670
 2126 012e 42EA0C02 		orr	r2, r2, ip
 2127              	.LVL218:
 2128              	.L196:
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2129              		.loc 1 2369 2 is_stmt 1 view .LVU671
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2130              		.loc 1 2369 9 is_stmt 0 view .LVU672
 2131 0132 94F80FE0 		ldrb	lr, [r4, #15]	@ zero_extendqisi2
 2132 0136 94F80EC0 		ldrb	ip, [r4, #14]	@ zero_extendqisi2
 2133              	.LVL219:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2134              		.loc 1 2370 2 is_stmt 1 view .LVU673
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2135              		.loc 1 2370 5 is_stmt 0 view .LVU674
 2136 013a 5CEA0E2C 		orrs	ip, ip, lr, lsl #8
 2137              	.LVL220:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2138              		.loc 1 2370 5 view .LVU675
 2139 013e 00F02381 		beq	.L217
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2140              		.loc 1 2373 2 is_stmt 1 view .LVU676
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2141              		.loc 1 2373 16 is_stmt 0 view .LVU677
 2142 0142 0CEB0109 		add	r9, ip, r1
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2143              		.loc 1 2373 9 view .LVU678
 2144 0146 09EB1619 		add	r9, r9, r6, lsr #4
 2145              	.LVL221:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2146              		.loc 1 2374 2 is_stmt 1 view .LVU679
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2147              		.loc 1 2374 5 is_stmt 0 view .LVU680
 2148 014a 4A45     		cmp	r2, r9
 2149 014c C0F01E81 		bcc	.L218
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2150              		.loc 1 2375 2 is_stmt 1 view .LVU681
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2151              		.loc 1 2375 17 is_stmt 0 view .LVU682
 2152 0150 A2EB0902 		sub	r2, r2, r9
 2153              	.LVL222:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2154              		.loc 1 2375 8 view .LVU683
 2155 0154 B2FBF0FE 		udiv	lr, r2, r0
 2156              	.LVL223:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2157              		.loc 1 2376 2 is_stmt 1 view .LVU684
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2158              		.loc 1 2376 5 is_stmt 0 view .LVU685
 2159 0158 8242     		cmp	r2, r0
 2160 015a C0F01981 		bcc	.L219
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2161              		.loc 1 2377 2 is_stmt 1 view .LVU686
ARM GAS  /tmp/ccLzcuV9.s 			page 88


 2162              	.LVL224:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2163              		.loc 1 2378 2 view .LVU687
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2164              		.loc 1 2378 5 is_stmt 0 view .LVU688
 2165 015e 40F6F572 		movw	r2, #4085
 2166 0162 9645     		cmp	lr, r2
 2167 0164 3AD9     		bls	.L220
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2168              		.loc 1 2378 26 is_stmt 1 discriminator 1 view .LVU689
 2169              	.LVL225:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2170              		.loc 1 2379 2 view .LVU690
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2171              		.loc 1 2379 5 is_stmt 0 view .LVU691
 2172 0166 4FF6F572 		movw	r2, #65525
 2173 016a 9645     		cmp	lr, r2
 2174 016c 77D8     		bhi	.L221
 2175 016e 4FF00208 		mov	r8, #2
 2176 0172 35E0     		b	.L197
 2177              	.LVL226:
 2178              	.L208:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2179              		.loc 1 2332 37 discriminator 2 view .LVU692
 2180 0174 0023     		movs	r3, #0
 2181              	.LVL227:
 2182              	.L191:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2183              		.loc 1 2332 10 discriminator 4 view .LVU693
 2184 0176 04AA     		add	r2, sp, #16
 2185 0178 02EB8102 		add	r2, r2, r1, lsl #2
 2186 017c 42F8103C 		str	r3, [r2, #-16]
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2187              		.loc 1 2330 23 is_stmt 1 discriminator 2 view .LVU694
 2188 0180 0131     		adds	r1, r1, #1
 2189              	.LVL228:
 2190              	.L189:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2191              		.loc 1 2330 17 discriminator 1 view .LVU695
 2192 0182 0329     		cmp	r1, #3
 2193 0184 13D8     		bhi	.L226
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2194              		.loc 1 2331 4 view .LVU696
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2195              		.loc 1 2331 36 is_stmt 0 view .LVU697
 2196 0186 0B01     		lsls	r3, r1, #4
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2197              		.loc 1 2331 32 view .LVU698
 2198 0188 03F5DF73 		add	r3, r3, #446
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2199              		.loc 1 2331 7 view .LVU699
 2200 018c 2344     		add	r3, r3, r4
 2201              	.LVL229:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2202              		.loc 1 2332 4 is_stmt 1 view .LVU700
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2203              		.loc 1 2332 14 is_stmt 0 view .LVU701
ARM GAS  /tmp/ccLzcuV9.s 			page 89


 2204 018e 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2205              		.loc 1 2332 37 view .LVU702
 2206 0190 002A     		cmp	r2, #0
 2207 0192 EFD0     		beq	.L208
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2208              		.loc 1 2332 20 discriminator 1 view .LVU703
 2209 0194 D87A     		ldrb	r0, [r3, #11]	@ zero_extendqisi2
 2210 0196 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 2211 0198 1204     		lsls	r2, r2, #16
 2212 019a 42EA0062 		orr	r2, r2, r0, lsl #24
 2213 019e 587A     		ldrb	r0, [r3, #9]	@ zero_extendqisi2
 2214 01a0 42EA0022 		orr	r2, r2, r0, lsl #8
 2215 01a4 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2216              	.LVL230:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2217              		.loc 1 2332 37 discriminator 1 view .LVU704
 2218 01a6 1343     		orrs	r3, r3, r2
 2219 01a8 E5E7     		b	.L191
 2220              	.LVL231:
 2221              	.L207:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2222              		.loc 1 2330 10 view .LVU705
 2223 01aa 0021     		movs	r1, #0
 2224 01ac E9E7     		b	.L189
 2225              	.LVL232:
 2226              	.L226:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2227              		.loc 1 2330 10 view .LVU706
 2228 01ae 0026     		movs	r6, #0
 2229              	.LVL233:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2230              		.loc 1 2330 10 view .LVU707
 2231 01b0 0BE0     		b	.L194
 2232              	.LVL234:
 2233              	.L227:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2234              		.loc 1 2338 18 discriminator 1 view .LVU708
 2235 01b2 3946     		mov	r1, r7
 2236 01b4 2046     		mov	r0, r4
 2237 01b6 FFF7FEFF 		bl	check_fs
 2238              	.LVL235:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2239              		.loc 1 2339 31 is_stmt 1 view .LVU709
 2240 01ba 0546     		mov	r5, r0
 2241 01bc 0028     		cmp	r0, #0
 2242 01be 3FF460AF 		beq	.L190
 2243              	.LVL236:
 2244              	.L193:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2245              		.loc 1 2339 31 is_stmt 0 discriminator 1 view .LVU710
 2246 01c2 0136     		adds	r6, r6, #1
 2247              	.LVL237:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2248              		.loc 1 2339 31 discriminator 1 view .LVU711
 2249 01c4 032E     		cmp	r6, #3
 2250 01c6 3FF65CAF 		bhi	.L190
ARM GAS  /tmp/ccLzcuV9.s 			page 90


 2251              	.LVL238:
 2252              	.L194:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2253              		.loc 1 2336 3 is_stmt 1 view .LVU712
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2254              		.loc 1 2337 4 view .LVU713
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2255              		.loc 1 2337 10 is_stmt 0 view .LVU714
 2256 01ca 04AB     		add	r3, sp, #16
 2257 01cc 03EB8603 		add	r3, r3, r6, lsl #2
 2258 01d0 53F8107C 		ldr	r7, [r3, #-16]
 2259              	.LVL239:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2260              		.loc 1 2338 4 is_stmt 1 view .LVU715
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2261              		.loc 1 2338 8 is_stmt 0 view .LVU716
 2262 01d4 002F     		cmp	r7, #0
 2263 01d6 ECD1     		bne	.L227
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2264              		.loc 1 2338 8 discriminator 2 view .LVU717
 2265 01d8 0225     		movs	r5, #2
 2266 01da F2E7     		b	.L193
 2267              	.LVL240:
 2268              	.L220:
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2269              		.loc 1 2377 6 view .LVU718
 2270 01dc 4FF00108 		mov	r8, #1
 2271              	.LVL241:
 2272              	.L197:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2273              		.loc 1 2382 2 is_stmt 1 view .LVU719
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2274              		.loc 1 2382 23 is_stmt 0 view .LVU720
 2275 01e0 0EF1020E 		add	lr, lr, #2
 2276              	.LVL242:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2277              		.loc 1 2382 15 view .LVU721
 2278 01e4 C4F814E2 		str	lr, [r4, #532]
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2279              		.loc 1 2383 2 is_stmt 1 view .LVU722
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2280              		.loc 1 2383 14 is_stmt 0 view .LVU723
 2281 01e8 C4F81C72 		str	r7, [r4, #540]
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2282              		.loc 1 2384 2 is_stmt 1 view .LVU724
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2283              		.loc 1 2384 22 is_stmt 0 view .LVU725
 2284 01ec 0CEB0702 		add	r2, ip, r7
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2285              		.loc 1 2384 14 view .LVU726
 2286 01f0 C4F82022 		str	r2, [r4, #544]
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2287              		.loc 1 2385 2 is_stmt 1 view .LVU727
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2288              		.loc 1 2385 23 is_stmt 0 view .LVU728
 2289 01f4 07EB0900 		add	r0, r7, r9
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
ARM GAS  /tmp/ccLzcuV9.s 			page 91


 2290              		.loc 1 2385 15 view .LVU729
 2291 01f8 C4F82802 		str	r0, [r4, #552]
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2292              		.loc 1 2386 2 is_stmt 1 view .LVU730
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2293              		.loc 1 2386 5 is_stmt 0 view .LVU731
 2294 01fc B8F1030F 		cmp	r8, #3
 2295 0200 30D0     		beq	.L228
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2296              		.loc 1 2391 3 is_stmt 1 view .LVU732
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2297              		.loc 1 2391 6 is_stmt 0 view .LVU733
 2298 0202 002E     		cmp	r6, #0
 2299 0204 00F0C880 		beq	.L223
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2300              		.loc 1 2392 3 is_stmt 1 view .LVU734
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2301              		.loc 1 2392 29 is_stmt 0 view .LVU735
 2302 0208 0A44     		add	r2, r2, r1
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2303              		.loc 1 2392 15 view .LVU736
 2304 020a C4F82422 		str	r2, [r4, #548]
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2305              		.loc 1 2393 3 is_stmt 1 view .LVU737
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2306              		.loc 1 2394 21 is_stmt 0 view .LVU738
 2307 020e B8F1020F 		cmp	r8, #2
 2308 0212 3DD0     		beq	.L229
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2309              		.loc 1 2394 36 discriminator 2 view .LVU739
 2310 0214 0EEB4E01 		add	r1, lr, lr, lsl #1
 2311              	.LVL243:
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2312              		.loc 1 2394 60 discriminator 2 view .LVU740
 2313 0218 0EF00102 		and	r2, lr, #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2314              		.loc 1 2394 21 discriminator 2 view .LVU741
 2315 021c 02EB5102 		add	r2, r2, r1, lsr #1
 2316              	.L199:
 2317              	.LVL244:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2318              		.loc 1 2396 2 is_stmt 1 view .LVU742
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2319              		.loc 1 2396 26 is_stmt 0 view .LVU743
 2320 0220 02F2FF12 		addw	r2, r2, #511
 2321              	.LVL245:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2322              		.loc 1 2396 5 view .LVU744
 2323 0224 B3EB522F 		cmp	r3, r2, lsr #9
 2324 0228 C0F0B880 		bcc	.L224
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2325              		.loc 1 2401 2 is_stmt 1 view .LVU745
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2326              		.loc 1 2401 34 is_stmt 0 view .LVU746
 2327 022c 4FF0FF33 		mov	r3, #-1
 2328              	.LVL246:
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 92


 2329              		.loc 1 2401 34 view .LVU747
 2330 0230 C4F81032 		str	r3, [r4, #528]
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2331              		.loc 1 2401 17 view .LVU748
 2332 0234 C4F80C32 		str	r3, [r4, #524]
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2333              		.loc 1 2404 2 is_stmt 1 view .LVU749
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2334              		.loc 1 2404 15 is_stmt 0 view .LVU750
 2335 0238 8023     		movs	r3, #128
 2336 023a 84F80532 		strb	r3, [r4, #517]
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2337              		.loc 1 2406 2 is_stmt 1 view .LVU751
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2338              		.loc 1 2406 5 is_stmt 0 view .LVU752
 2339 023e B8F1030F 		cmp	r8, #3
 2340 0242 2DD0     		beq	.L230
 2341              	.LVL247:
 2342              	.L201:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2343              		.loc 1 2425 2 is_stmt 1 view .LVU753
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2344              		.loc 1 2425 14 is_stmt 0 view .LVU754
 2345 0244 84F80082 		strb	r8, [r4, #512]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2346              		.loc 1 2426 2 is_stmt 1 view .LVU755
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2347              		.loc 1 2426 11 is_stmt 0 view .LVU756
 2348 0248 144A     		ldr	r2, .L231+4
 2349 024a 1388     		ldrh	r3, [r2]
 2350 024c 0133     		adds	r3, r3, #1
 2351 024e 9BB2     		uxth	r3, r3
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2352              		.loc 1 2426 9 view .LVU757
 2353 0250 1380     		strh	r3, [r2]	@ movhi
 2354 0252 A4F80632 		strh	r3, [r4, #518]	@ movhi
2431:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2355              		.loc 1 2431 2 is_stmt 1 view .LVU758
 2356 0256 2046     		mov	r0, r4
 2357 0258 FFF7FEFF 		bl	clear_lock
 2358              	.LVL248:
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2359              		.loc 1 2434 2 view .LVU759
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2360              		.loc 1 2434 9 is_stmt 0 view .LVU760
 2361 025c 7CE0     		b	.L186
 2362              	.LVL249:
 2363              	.L221:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2364              		.loc 1 2379 30 discriminator 1 view .LVU761
 2365 025e 4FF00308 		mov	r8, #3
 2366 0262 BDE7     		b	.L197
 2367              	.LVL250:
 2368              	.L228:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2369              		.loc 1 2387 3 is_stmt 1 view .LVU762
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
ARM GAS  /tmp/ccLzcuV9.s 			page 93


 2370              		.loc 1 2387 6 is_stmt 0 view .LVU763
 2371 0264 002E     		cmp	r6, #0
 2372 0266 40F09580 		bne	.L222
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2373              		.loc 1 2388 3 is_stmt 1 view .LVU764
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2374              		.loc 1 2388 17 is_stmt 0 view .LVU765
 2375 026a 94F82F10 		ldrb	r1, [r4, #47]	@ zero_extendqisi2
 2376              	.LVL251:
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2377              		.loc 1 2388 17 view .LVU766
 2378 026e 94F82E20 		ldrb	r2, [r4, #46]	@ zero_extendqisi2
 2379 0272 1204     		lsls	r2, r2, #16
 2380 0274 42EA0162 		orr	r2, r2, r1, lsl #24
 2381 0278 94F82D10 		ldrb	r1, [r4, #45]	@ zero_extendqisi2
 2382 027c 42EA0122 		orr	r2, r2, r1, lsl #8
 2383 0280 94F82C10 		ldrb	r1, [r4, #44]	@ zero_extendqisi2
 2384 0284 0A43     		orrs	r2, r2, r1
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2385              		.loc 1 2388 15 view .LVU767
 2386 0286 C4F82422 		str	r2, [r4, #548]
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2387              		.loc 1 2389 3 is_stmt 1 view .LVU768
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2388              		.loc 1 2389 10 is_stmt 0 view .LVU769
 2389 028a 4FEA8E02 		lsl	r2, lr, #2
 2390              	.LVL252:
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2391              		.loc 1 2389 10 view .LVU770
 2392 028e C7E7     		b	.L199
 2393              	.LVL253:
 2394              	.L229:
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2395              		.loc 1 2394 21 discriminator 1 view .LVU771
 2396 0290 4FEA4E02 		lsl	r2, lr, #1
 2397 0294 C4E7     		b	.L199
 2398              	.L232:
 2399 0296 00BF     		.align	2
 2400              	.L231:
 2401 0298 00000000 		.word	FatFs
 2402 029c 00000000 		.word	Fsid
 2403              	.LVL254:
 2404              	.L230:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2405              		.loc 1 2407 6 view .LVU772
 2406 02a0 94F83120 		ldrb	r2, [r4, #49]	@ zero_extendqisi2
 2407              	.LVL255:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2408              		.loc 1 2407 6 view .LVU773
 2409 02a4 94F83030 		ldrb	r3, [r4, #48]	@ zero_extendqisi2
 2410 02a8 43EA0223 		orr	r3, r3, r2, lsl #8
 2411 02ac 1BB2     		sxth	r3, r3
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2412              		.loc 1 2407 3 view .LVU774
 2413 02ae 012B     		cmp	r3, #1
 2414 02b0 C8D1     		bne	.L201
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
ARM GAS  /tmp/ccLzcuV9.s 			page 94


 2415              		.loc 1 2408 6 view .LVU775
 2416 02b2 791C     		adds	r1, r7, #1
 2417 02b4 2046     		mov	r0, r4
 2418 02b6 FFF7FEFF 		bl	move_window
 2419              	.LVL256:
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2420              		.loc 1 2408 3 discriminator 1 view .LVU776
 2421 02ba 0028     		cmp	r0, #0
 2422 02bc C2D1     		bne	.L201
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2423              		.loc 1 2410 3 is_stmt 1 view .LVU777
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2424              		.loc 1 2410 16 is_stmt 0 view .LVU778
 2425 02be 0023     		movs	r3, #0
 2426 02c0 84F80532 		strb	r3, [r4, #517]
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2427              		.loc 1 2411 3 is_stmt 1 view .LVU779
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2428              		.loc 1 2411 7 is_stmt 0 view .LVU780
 2429 02c4 94F8FF21 		ldrb	r2, [r4, #511]	@ zero_extendqisi2
 2430 02c8 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 2431 02cc 43EA0223 		orr	r3, r3, r2, lsl #8
 2432 02d0 1BB2     		sxth	r3, r3
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2433              		.loc 1 2411 6 view .LVU781
 2434 02d2 334A     		ldr	r2, .L233
 2435 02d4 9342     		cmp	r3, r2
 2436 02d6 B5D1     		bne	.L201
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2437              		.loc 1 2412 7 view .LVU782
 2438 02d8 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 2439 02da A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 2440 02dc 1B04     		lsls	r3, r3, #16
 2441 02de 43EA0263 		orr	r3, r3, r2, lsl #24
 2442 02e2 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 2443 02e4 43EA0223 		orr	r3, r3, r2, lsl #8
 2444 02e8 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2445 02ea 1343     		orrs	r3, r3, r2
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2446              		.loc 1 2412 4 view .LVU783
 2447 02ec 2D4A     		ldr	r2, .L233+4
 2448 02ee 9342     		cmp	r3, r2
 2449 02f0 A8D1     		bne	.L201
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2450              		.loc 1 2413 7 view .LVU784
 2451 02f2 94F8E721 		ldrb	r2, [r4, #487]	@ zero_extendqisi2
 2452 02f6 94F8E631 		ldrb	r3, [r4, #486]	@ zero_extendqisi2
 2453 02fa 1B04     		lsls	r3, r3, #16
 2454 02fc 43EA0263 		orr	r3, r3, r2, lsl #24
 2455 0300 94F8E521 		ldrb	r2, [r4, #485]	@ zero_extendqisi2
 2456 0304 43EA0223 		orr	r3, r3, r2, lsl #8
 2457 0308 94F8E421 		ldrb	r2, [r4, #484]	@ zero_extendqisi2
 2458 030c 1343     		orrs	r3, r3, r2
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2459              		.loc 1 2413 4 view .LVU785
 2460 030e 264A     		ldr	r2, .L233+8
 2461 0310 9342     		cmp	r3, r2
ARM GAS  /tmp/ccLzcuV9.s 			page 95


 2462 0312 97D1     		bne	.L201
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2463              		.loc 1 2416 4 is_stmt 1 view .LVU786
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2464              		.loc 1 2416 21 is_stmt 0 view .LVU787
 2465 0314 94F8EB21 		ldrb	r2, [r4, #491]	@ zero_extendqisi2
 2466 0318 94F8EA31 		ldrb	r3, [r4, #490]	@ zero_extendqisi2
 2467 031c 1B04     		lsls	r3, r3, #16
 2468 031e 43EA0263 		orr	r3, r3, r2, lsl #24
 2469 0322 94F8E921 		ldrb	r2, [r4, #489]	@ zero_extendqisi2
 2470 0326 43EA0223 		orr	r3, r3, r2, lsl #8
 2471 032a 94F8E821 		ldrb	r2, [r4, #488]	@ zero_extendqisi2
 2472 032e 1343     		orrs	r3, r3, r2
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2473              		.loc 1 2416 19 view .LVU788
 2474 0330 C4F81032 		str	r3, [r4, #528]
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2475              		.loc 1 2419 4 is_stmt 1 view .LVU789
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2476              		.loc 1 2419 21 is_stmt 0 view .LVU790
 2477 0334 94F8EF21 		ldrb	r2, [r4, #495]	@ zero_extendqisi2
 2478 0338 94F8EE31 		ldrb	r3, [r4, #494]	@ zero_extendqisi2
 2479 033c 1B04     		lsls	r3, r3, #16
 2480 033e 43EA0263 		orr	r3, r3, r2, lsl #24
 2481 0342 94F8ED21 		ldrb	r2, [r4, #493]	@ zero_extendqisi2
 2482 0346 43EA0223 		orr	r3, r3, r2, lsl #8
 2483 034a 94F8EC21 		ldrb	r2, [r4, #492]	@ zero_extendqisi2
 2484 034e 1343     		orrs	r3, r3, r2
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2485              		.loc 1 2419 19 view .LVU791
 2486 0350 C4F80C32 		str	r3, [r4, #524]
 2487 0354 76E7     		b	.L201
 2488              	.LVL257:
 2489              	.L202:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2490              		.loc 1 2294 22 discriminator 1 view .LVU792
 2491 0356 0B25     		movs	r5, #11
 2492              	.LVL258:
 2493              	.L186:
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2494              		.loc 1 2435 1 view .LVU793
 2495 0358 2846     		mov	r0, r5
 2496 035a 05B0     		add	sp, sp, #20
 2497              	.LCFI23:
 2498              		.cfi_remember_state
 2499              		.cfi_def_cfa_offset 28
 2500              		@ sp needed
 2501 035c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2502              	.LVL259:
 2503              	.L203:
 2504              	.LCFI24:
 2505              		.cfi_restore_state
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2506              		.loc 1 2298 18 discriminator 1 view .LVU794
 2507 0360 0C25     		movs	r5, #12
 2508              	.LVL260:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 96


 2509              		.loc 1 2298 18 discriminator 1 view .LVU795
 2510 0362 F9E7     		b	.L186
 2511              	.LVL261:
 2512              	.L205:
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
 2513              		.loc 1 2319 10 view .LVU796
 2514 0364 0325     		movs	r5, #3
 2515 0366 F7E7     		b	.L186
 2516              	.L206:
2321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
 2517              		.loc 1 2321 10 view .LVU797
 2518 0368 0A25     		movs	r5, #10
 2519 036a F5E7     		b	.L186
 2520              	.LVL262:
 2521              	.L210:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2522              		.loc 1 2341 23 discriminator 1 view .LVU798
 2523 036c 0125     		movs	r5, #1
 2524              	.LVL263:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2525              		.loc 1 2341 23 discriminator 1 view .LVU799
 2526 036e F3E7     		b	.L186
 2527              	.LVL264:
 2528              	.L211:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2529              		.loc 1 2342 18 discriminator 1 view .LVU800
 2530 0370 0D25     		movs	r5, #13
 2531              	.LVL265:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2532              		.loc 1 2342 18 discriminator 1 view .LVU801
 2533 0372 F1E7     		b	.L186
 2534              	.LVL266:
 2535              	.L212:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2536              		.loc 1 2347 10 view .LVU802
 2537 0374 0D25     		movs	r5, #13
 2538              	.LVL267:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2539              		.loc 1 2347 10 view .LVU803
 2540 0376 EFE7     		b	.L186
 2541              	.LVL268:
 2542              	.L213:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2543              		.loc 1 2355 10 view .LVU804
 2544 0378 0D25     		movs	r5, #13
 2545              	.LVL269:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2546              		.loc 1 2355 10 view .LVU805
 2547 037a EDE7     		b	.L186
 2548              	.LVL270:
 2549              	.L214:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2550              		.loc 1 2360 10 view .LVU806
 2551 037c 0D25     		movs	r5, #13
 2552              	.LVL271:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2553              		.loc 1 2360 10 view .LVU807
ARM GAS  /tmp/ccLzcuV9.s 			page 97


 2554 037e EBE7     		b	.L186
 2555              	.LVL272:
 2556              	.L215:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2557              		.loc 1 2360 10 view .LVU808
 2558 0380 0D25     		movs	r5, #13
 2559              	.LVL273:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2560              		.loc 1 2360 10 view .LVU809
 2561 0382 E9E7     		b	.L186
 2562              	.LVL274:
 2563              	.L216:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2564              		.loc 1 2364 10 view .LVU810
 2565 0384 0D25     		movs	r5, #13
 2566              	.LVL275:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2567              		.loc 1 2364 10 view .LVU811
 2568 0386 E7E7     		b	.L186
 2569              	.LVL276:
 2570              	.L217:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2571              		.loc 1 2370 20 discriminator 1 view .LVU812
 2572 0388 0D25     		movs	r5, #13
 2573              	.LVL277:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2574              		.loc 1 2370 20 discriminator 1 view .LVU813
 2575 038a E5E7     		b	.L186
 2576              	.LVL278:
 2577              	.L218:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2578              		.loc 1 2374 29 discriminator 1 view .LVU814
 2579 038c 0D25     		movs	r5, #13
 2580              	.LVL279:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2581              		.loc 1 2374 29 discriminator 1 view .LVU815
 2582 038e E3E7     		b	.L186
 2583              	.LVL280:
 2584              	.L219:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2585              		.loc 1 2376 21 discriminator 1 view .LVU816
 2586 0390 0D25     		movs	r5, #13
 2587              	.LVL281:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2588              		.loc 1 2376 21 discriminator 1 view .LVU817
 2589 0392 E1E7     		b	.L186
 2590              	.LVL282:
 2591              	.L222:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2592              		.loc 1 2387 29 discriminator 1 view .LVU818
 2593 0394 0D25     		movs	r5, #13
 2594 0396 DFE7     		b	.L186
 2595              	.L223:
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2596              		.loc 1 2391 30 discriminator 1 view .LVU819
 2597 0398 0D25     		movs	r5, #13
 2598 039a DDE7     		b	.L186
ARM GAS  /tmp/ccLzcuV9.s 			page 98


 2599              	.LVL283:
 2600              	.L224:
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2601              		.loc 1 2397 10 view .LVU820
 2602 039c 0D25     		movs	r5, #13
 2603 039e DBE7     		b	.L186
 2604              	.L234:
 2605              		.align	2
 2606              	.L233:
 2607 03a0 55AAFFFF 		.word	-21931
 2608 03a4 52526141 		.word	1096897106
 2609 03a8 72724161 		.word	1631679090
 2610              		.cfi_endproc
 2611              	.LFE97:
 2613              		.section	.text.sync_fs,"ax",%progbits
 2614              		.align	1
 2615              		.syntax unified
 2616              		.thumb
 2617              		.thumb_func
 2619              	sync_fs:
 2620              	.LVL284:
 2621              	.LFB76:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2622              		.loc 1 836 1 is_stmt 1 view -0
 2623              		.cfi_startproc
 2624              		@ args = 0, pretend = 0, frame = 0
 2625              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2626              		.loc 1 836 1 is_stmt 0 view .LVU822
 2627 0000 38B5     		push	{r3, r4, r5, lr}
 2628              	.LCFI25:
 2629              		.cfi_def_cfa_offset 16
 2630              		.cfi_offset 3, -16
 2631              		.cfi_offset 4, -12
 2632              		.cfi_offset 5, -8
 2633              		.cfi_offset 14, -4
 2634 0002 0446     		mov	r4, r0
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2635              		.loc 1 837 2 is_stmt 1 view .LVU823
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2636              		.loc 1 840 2 view .LVU824
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2637              		.loc 1 840 8 is_stmt 0 view .LVU825
 2638 0004 FFF7FEFF 		bl	sync_window
 2639              	.LVL285:
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2640              		.loc 1 841 2 is_stmt 1 view .LVU826
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2641              		.loc 1 841 5 is_stmt 0 view .LVU827
 2642 0008 0546     		mov	r5, r0
 2643 000a 58B9     		cbnz	r0, .L236
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2644              		.loc 1 843 3 is_stmt 1 view .LVU828
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2645              		.loc 1 843 9 is_stmt 0 view .LVU829
 2646 000c 94F80032 		ldrb	r3, [r4, #512]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
ARM GAS  /tmp/ccLzcuV9.s 			page 99


 2647              		.loc 1 843 6 view .LVU830
 2648 0010 032B     		cmp	r3, #3
 2649 0012 09D0     		beq	.L240
 2650              	.LVL286:
 2651              	.L237:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2652              		.loc 1 857 3 is_stmt 1 view .LVU831
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2653              		.loc 1 857 7 is_stmt 0 view .LVU832
 2654 0014 0022     		movs	r2, #0
 2655 0016 1146     		mov	r1, r2
 2656 0018 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 2657 001c FFF7FEFF 		bl	disk_ioctl
 2658              	.LVL287:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2659              		.loc 1 857 6 discriminator 1 view .LVU833
 2660 0020 00B1     		cbz	r0, .L236
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2661              		.loc 1 858 8 view .LVU834
 2662 0022 0125     		movs	r5, #1
 2663              	.LVL288:
 2664              	.L236:
 861:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2665              		.loc 1 861 2 is_stmt 1 view .LVU835
 862:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2666              		.loc 1 862 1 is_stmt 0 view .LVU836
 2667 0024 2846     		mov	r0, r5
 2668 0026 38BD     		pop	{r3, r4, r5, pc}
 2669              	.LVL289:
 2670              	.L240:
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2671              		.loc 1 843 36 discriminator 1 view .LVU837
 2672 0028 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2673              		.loc 1 843 31 discriminator 1 view .LVU838
 2674 002c 012B     		cmp	r3, #1
 2675 002e F1D1     		bne	.L237
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2676              		.loc 1 845 4 is_stmt 1 view .LVU839
 2677 0030 4FF40072 		mov	r2, #512
 2678 0034 0021     		movs	r1, #0
 2679 0036 2046     		mov	r0, r4
 2680              	.LVL290:
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2681              		.loc 1 845 4 is_stmt 0 view .LVU840
 2682 0038 FFF7FEFF 		bl	mem_set
 2683              	.LVL291:
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2684              		.loc 1 846 4 is_stmt 1 view .LVU841
 2685 003c 5523     		movs	r3, #85
 2686 003e 84F8FE31 		strb	r3, [r4, #510]
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2687              		.loc 1 846 4 view .LVU842
 2688 0042 AA23     		movs	r3, #170
 2689 0044 84F8FF31 		strb	r3, [r4, #511]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2690              		.loc 1 847 4 view .LVU843
ARM GAS  /tmp/ccLzcuV9.s 			page 100


 2691 0048 5223     		movs	r3, #82
 2692 004a 2370     		strb	r3, [r4]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2693              		.loc 1 847 4 view .LVU844
 2694 004c 6370     		strb	r3, [r4, #1]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2695              		.loc 1 847 4 view .LVU845
 2696 004e 6123     		movs	r3, #97
 2697 0050 A370     		strb	r3, [r4, #2]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2698              		.loc 1 847 4 view .LVU846
 2699 0052 4122     		movs	r2, #65
 2700 0054 E270     		strb	r2, [r4, #3]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2701              		.loc 1 848 4 view .LVU847
 2702 0056 7221     		movs	r1, #114
 2703 0058 84F8E411 		strb	r1, [r4, #484]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2704              		.loc 1 848 4 view .LVU848
 2705 005c 84F8E511 		strb	r1, [r4, #485]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2706              		.loc 1 848 4 view .LVU849
 2707 0060 84F8E621 		strb	r2, [r4, #486]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2708              		.loc 1 848 4 view .LVU850
 2709 0064 84F8E731 		strb	r3, [r4, #487]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2710              		.loc 1 849 4 view .LVU851
 2711 0068 D4F81032 		ldr	r3, [r4, #528]
 2712 006c 84F8E831 		strb	r3, [r4, #488]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2713              		.loc 1 849 4 view .LVU852
 2714 0070 C3F30722 		ubfx	r2, r3, #8, #8
 2715 0074 84F8E921 		strb	r2, [r4, #489]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2716              		.loc 1 849 4 view .LVU853
 2717 0078 C3F30742 		ubfx	r2, r3, #16, #8
 2718 007c 84F8EA21 		strb	r2, [r4, #490]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2719              		.loc 1 849 4 view .LVU854
 2720 0080 1B0E     		lsrs	r3, r3, #24
 2721 0082 84F8EB31 		strb	r3, [r4, #491]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2722              		.loc 1 850 4 view .LVU855
 2723 0086 D4F80C32 		ldr	r3, [r4, #524]
 2724 008a 84F8EC31 		strb	r3, [r4, #492]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2725              		.loc 1 850 4 view .LVU856
 2726 008e C3F30722 		ubfx	r2, r3, #8, #8
 2727 0092 84F8ED21 		strb	r2, [r4, #493]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2728              		.loc 1 850 4 view .LVU857
 2729 0096 C3F30742 		ubfx	r2, r3, #16, #8
 2730 009a 84F8EE21 		strb	r2, [r4, #494]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2731              		.loc 1 850 4 view .LVU858
 2732 009e 1B0E     		lsrs	r3, r3, #24
ARM GAS  /tmp/ccLzcuV9.s 			page 101


 2733 00a0 84F8EF31 		strb	r3, [r4, #495]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2734              		.loc 1 852 4 view .LVU859
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2735              		.loc 1 852 20 is_stmt 0 view .LVU860
 2736 00a4 D4F81C22 		ldr	r2, [r4, #540]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2737              		.loc 1 852 30 view .LVU861
 2738 00a8 0132     		adds	r2, r2, #1
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2739              		.loc 1 852 16 view .LVU862
 2740 00aa C4F82C22 		str	r2, [r4, #556]
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 2741              		.loc 1 853 4 is_stmt 1 view .LVU863
 2742 00ae 0123     		movs	r3, #1
 2743 00b0 2146     		mov	r1, r4
 2744 00b2 94F80102 		ldrb	r0, [r4, #513]	@ zero_extendqisi2
 2745 00b6 FFF7FEFF 		bl	disk_write
 2746              	.LVL292:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2747              		.loc 1 854 4 view .LVU864
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2748              		.loc 1 854 17 is_stmt 0 view .LVU865
 2749 00ba 0023     		movs	r3, #0
 2750 00bc 84F80532 		strb	r3, [r4, #517]
 2751 00c0 A8E7     		b	.L237
 2752              		.cfi_endproc
 2753              	.LFE76:
 2755              		.section	.text.clust2sect,"ax",%progbits
 2756              		.align	1
 2757              		.global	clust2sect
 2758              		.syntax unified
 2759              		.thumb
 2760              		.thumb_func
 2762              	clust2sect:
 2763              	.LVL293:
 2764              	.LFB77:
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 2765              		.loc 1 877 1 is_stmt 1 view -0
 2766              		.cfi_startproc
 2767              		@ args = 0, pretend = 0, frame = 0
 2768              		@ frame_needed = 0, uses_anonymous_args = 0
 2769              		@ link register save eliminated.
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2770              		.loc 1 878 2 view .LVU867
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2771              		.loc 1 878 7 is_stmt 0 view .LVU868
 2772 0000 0239     		subs	r1, r1, #2
 2773              	.LVL294:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2774              		.loc 1 879 2 is_stmt 1 view .LVU869
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2775              		.loc 1 879 16 is_stmt 0 view .LVU870
 2776 0002 D0F81432 		ldr	r3, [r0, #532]
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2777              		.loc 1 879 27 view .LVU871
 2778 0006 023B     		subs	r3, r3, #2
ARM GAS  /tmp/ccLzcuV9.s 			page 102


 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2779              		.loc 1 879 5 view .LVU872
 2780 0008 8B42     		cmp	r3, r1
 2781 000a 06D9     		bls	.L243
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2782              		.loc 1 880 2 is_stmt 1 view .LVU873
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2783              		.loc 1 880 18 is_stmt 0 view .LVU874
 2784 000c 90F80232 		ldrb	r3, [r0, #514]	@ zero_extendqisi2
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2785              		.loc 1 880 30 view .LVU875
 2786 0010 D0F82802 		ldr	r0, [r0, #552]
 2787              	.LVL295:
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2788              		.loc 1 880 26 view .LVU876
 2789 0014 01FB0300 		mla	r0, r1, r3, r0
 2790 0018 7047     		bx	lr
 2791              	.LVL296:
 2792              	.L243:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2793              		.loc 1 879 39 discriminator 1 view .LVU877
 2794 001a 0020     		movs	r0, #0
 2795              	.LVL297:
 881:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2796              		.loc 1 881 1 view .LVU878
 2797 001c 7047     		bx	lr
 2798              		.cfi_endproc
 2799              	.LFE77:
 2801              		.section	.text.get_fat,"ax",%progbits
 2802              		.align	1
 2803              		.global	get_fat
 2804              		.syntax unified
 2805              		.thumb
 2806              		.thumb_func
 2808              	get_fat:
 2809              	.LVL298:
 2810              	.LFB78:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2811              		.loc 1 895 1 is_stmt 1 view -0
 2812              		.cfi_startproc
 2813              		@ args = 0, pretend = 0, frame = 0
 2814              		@ frame_needed = 0, uses_anonymous_args = 0
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 2815              		.loc 1 896 2 view .LVU880
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 2816              		.loc 1 897 2 view .LVU881
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2817              		.loc 1 898 2 view .LVU882
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2818              		.loc 1 901 2 view .LVU883
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2819              		.loc 1 901 5 is_stmt 0 view .LVU884
 2820 0000 0129     		cmp	r1, #1
 2821 0002 5CD9     		bls	.L249
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2822              		.loc 1 895 1 view .LVU885
 2823 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
ARM GAS  /tmp/ccLzcuV9.s 			page 103


 2824              	.LCFI26:
 2825              		.cfi_def_cfa_offset 24
 2826              		.cfi_offset 3, -24
 2827              		.cfi_offset 4, -20
 2828              		.cfi_offset 5, -16
 2829              		.cfi_offset 6, -12
 2830              		.cfi_offset 7, -8
 2831              		.cfi_offset 14, -4
 2832 0006 0546     		mov	r5, r0
 2833 0008 0C46     		mov	r4, r1
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2834              		.loc 1 901 28 discriminator 1 view .LVU886
 2835 000a D0F81432 		ldr	r3, [r0, #532]
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2836              		.loc 1 901 15 discriminator 1 view .LVU887
 2837 000e 8B42     		cmp	r3, r1
 2838 0010 57D9     		bls	.L250
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2839              		.loc 1 905 3 is_stmt 1 view .LVU888
 2840              	.LVL299:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2841              		.loc 1 907 3 view .LVU889
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2842              		.loc 1 907 13 is_stmt 0 view .LVU890
 2843 0012 90F80032 		ldrb	r3, [r0, #512]	@ zero_extendqisi2
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2844              		.loc 1 907 3 view .LVU891
 2845 0016 022B     		cmp	r3, #2
 2846 0018 29D0     		beq	.L246
 2847 001a 032B     		cmp	r3, #3
 2848 001c 37D0     		beq	.L247
 2849 001e 012B     		cmp	r3, #1
 2850 0020 51D1     		bne	.L251
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2851              		.loc 1 909 4 is_stmt 1 view .LVU892
 2852              	.LVL300:
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2853              		.loc 1 909 21 view .LVU893
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2854              		.loc 1 909 24 is_stmt 0 view .LVU894
 2855 0022 01EB5106 		add	r6, r1, r1, lsr #1
 2856              	.LVL301:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2857              		.loc 1 910 4 is_stmt 1 view .LVU895
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2858              		.loc 1 910 26 is_stmt 0 view .LVU896
 2859 0026 D0F82012 		ldr	r1, [r0, #544]
 2860              	.LVL302:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2861              		.loc 1 910 8 view .LVU897
 2862 002a 01EB5621 		add	r1, r1, r6, lsr #9
 2863 002e FFF7FEFF 		bl	move_window
 2864              	.LVL303:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 2865              		.loc 1 910 7 discriminator 1 view .LVU898
 2866 0032 10B1     		cbz	r0, .L260
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 104


 2867              		.loc 1 905 7 view .LVU899
 2868 0034 4FF0FF30 		mov	r0, #-1
 2869 0038 44E0     		b	.L244
 2870              	.L260:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2871              		.loc 1 911 4 is_stmt 1 view .LVU900
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2872              		.loc 1 911 22 is_stmt 0 view .LVU901
 2873 003a 771C     		adds	r7, r6, #1
 2874              	.LVL304:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2875              		.loc 1 911 25 view .LVU902
 2876 003c C6F30806 		ubfx	r6, r6, #0, #9
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2877              		.loc 1 911 19 view .LVU903
 2878 0040 AE5D     		ldrb	r6, [r5, r6]	@ zero_extendqisi2
 2879              	.LVL305:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2880              		.loc 1 912 4 is_stmt 1 view .LVU904
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2881              		.loc 1 912 26 is_stmt 0 view .LVU905
 2882 0042 D5F82012 		ldr	r1, [r5, #544]
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2883              		.loc 1 912 8 view .LVU906
 2884 0046 01EB5721 		add	r1, r1, r7, lsr #9
 2885 004a 2846     		mov	r0, r5
 2886 004c FFF7FEFF 		bl	move_window
 2887              	.LVL306:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 2888              		.loc 1 912 7 discriminator 1 view .LVU907
 2889 0050 0028     		cmp	r0, #0
 2890 0052 3AD1     		bne	.L253
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2891              		.loc 1 913 4 is_stmt 1 view .LVU908
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2892              		.loc 1 913 24 is_stmt 0 view .LVU909
 2893 0054 C7F30807 		ubfx	r7, r7, #0, #9
 2894              	.LVL307:
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2895              		.loc 1 913 20 view .LVU910
 2896 0058 EB5D     		ldrb	r3, [r5, r7]	@ zero_extendqisi2
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 2897              		.loc 1 913 7 view .LVU911
 2898 005a 46EA0320 		orr	r0, r6, r3, lsl #8
 2899              	.LVL308:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2900              		.loc 1 914 4 is_stmt 1 view .LVU912
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2901              		.loc 1 914 29 is_stmt 0 view .LVU913
 2902 005e 14F0010F 		tst	r4, #1
 2903 0062 01D0     		beq	.L248
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2904              		.loc 1 914 29 discriminator 1 view .LVU914
 2905 0064 0009     		lsrs	r0, r0, #4
 2906              	.LVL309:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2907              		.loc 1 914 29 discriminator 1 view .LVU915
ARM GAS  /tmp/ccLzcuV9.s 			page 105


 2908 0066 2DE0     		b	.L244
 2909              	.LVL310:
 2910              	.L248:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2911              		.loc 1 914 29 discriminator 2 view .LVU916
 2912 0068 C0F30B00 		ubfx	r0, r0, #0, #12
 2913              	.LVL311:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2914              		.loc 1 914 29 discriminator 2 view .LVU917
 2915 006c 2AE0     		b	.L244
 2916              	.LVL312:
 2917              	.L246:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2918              		.loc 1 918 4 is_stmt 1 view .LVU918
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2919              		.loc 1 918 26 is_stmt 0 view .LVU919
 2920 006e D0F82012 		ldr	r1, [r0, #544]
 2921              	.LVL313:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2922              		.loc 1 918 8 view .LVU920
 2923 0072 01EB1421 		add	r1, r1, r4, lsr #8
 2924 0076 FFF7FEFF 		bl	move_window
 2925              	.LVL314:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 2926              		.loc 1 918 7 discriminator 1 view .LVU921
 2927 007a 48BB     		cbnz	r0, .L254
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2928              		.loc 1 919 4 is_stmt 1 view .LVU922
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2929              		.loc 1 919 25 is_stmt 0 view .LVU923
 2930 007c 6400     		lsls	r4, r4, #1
 2931              	.LVL315:
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2932              		.loc 1 919 29 view .LVU924
 2933 007e 04F4FF74 		and	r4, r4, #510
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 2934              		.loc 1 919 6 view .LVU925
 2935 0082 2B19     		adds	r3, r5, r4
 2936              	.LVL316:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2937              		.loc 1 920 4 is_stmt 1 view .LVU926
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2938              		.loc 1 920 10 is_stmt 0 view .LVU927
 2939 0084 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2940              	.LVL317:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2941              		.loc 1 920 10 view .LVU928
 2942 0086 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 2943 0088 40EA0320 		orr	r0, r0, r3, lsl #8
 2944              	.LVL318:
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2945              		.loc 1 921 4 is_stmt 1 view .LVU929
 2946 008c 1AE0     		b	.L244
 2947              	.LVL319:
 2948              	.L247:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 2949              		.loc 1 924 4 view .LVU930
ARM GAS  /tmp/ccLzcuV9.s 			page 106


 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 2950              		.loc 1 924 26 is_stmt 0 view .LVU931
 2951 008e D0F82012 		ldr	r1, [r0, #544]
 2952              	.LVL320:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 2953              		.loc 1 924 8 view .LVU932
 2954 0092 01EBD411 		add	r1, r1, r4, lsr #7
 2955 0096 FFF7FEFF 		bl	move_window
 2956              	.LVL321:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 2957              		.loc 1 924 7 discriminator 1 view .LVU933
 2958 009a E0B9     		cbnz	r0, .L255
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 2959              		.loc 1 925 4 is_stmt 1 view .LVU934
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 2960              		.loc 1 925 25 is_stmt 0 view .LVU935
 2961 009c A400     		lsls	r4, r4, #2
 2962              	.LVL322:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 2963              		.loc 1 925 29 view .LVU936
 2964 009e 04F4FE74 		and	r4, r4, #508
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 2965              		.loc 1 925 6 view .LVU937
 2966 00a2 2B19     		adds	r3, r5, r4
 2967              	.LVL323:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2968              		.loc 1 926 4 is_stmt 1 view .LVU938
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2969              		.loc 1 926 10 is_stmt 0 view .LVU939
 2970 00a4 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 2971 00a6 9878     		ldrb	r0, [r3, #2]	@ zero_extendqisi2
 2972 00a8 0004     		lsls	r0, r0, #16
 2973 00aa 40EA0260 		orr	r0, r0, r2, lsl #24
 2974 00ae 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2975              	.LVL324:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2976              		.loc 1 926 10 view .LVU940
 2977 00b0 40EA0320 		orr	r0, r0, r3, lsl #8
 2978 00b4 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 2979 00b6 1843     		orrs	r0, r0, r3
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2980              		.loc 1 926 8 view .LVU941
 2981 00b8 20F07040 		bic	r0, r0, #-268435456
 2982              	.LVL325:
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2983              		.loc 1 927 4 is_stmt 1 view .LVU942
 2984 00bc 02E0     		b	.L244
 2985              	.LVL326:
 2986              	.L249:
 2987              	.LCFI27:
 2988              		.cfi_def_cfa_offset 0
 2989              		.cfi_restore 3
 2990              		.cfi_restore 4
 2991              		.cfi_restore 5
 2992              		.cfi_restore 6
 2993              		.cfi_restore 7
 2994              		.cfi_restore 14
ARM GAS  /tmp/ccLzcuV9.s 			page 107


 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2995              		.loc 1 902 7 is_stmt 0 view .LVU943
 2996 00be 0120     		movs	r0, #1
 2997              	.LVL327:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2998              		.loc 1 935 1 view .LVU944
 2999 00c0 7047     		bx	lr
 3000              	.LVL328:
 3001              	.L250:
 3002              	.LCFI28:
 3003              		.cfi_def_cfa_offset 24
 3004              		.cfi_offset 3, -24
 3005              		.cfi_offset 4, -20
 3006              		.cfi_offset 5, -16
 3007              		.cfi_offset 6, -12
 3008              		.cfi_offset 7, -8
 3009              		.cfi_offset 14, -4
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3010              		.loc 1 902 7 view .LVU945
 3011 00c2 0120     		movs	r0, #1
 3012              	.LVL329:
 3013              	.L244:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3014              		.loc 1 935 1 view .LVU946
 3015 00c4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3016              	.LVL330:
 3017              	.L251:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3018              		.loc 1 907 3 view .LVU947
 3019 00c6 0120     		movs	r0, #1
 3020              	.LVL331:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3021              		.loc 1 907 3 view .LVU948
 3022 00c8 FCE7     		b	.L244
 3023              	.LVL332:
 3024              	.L253:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3025              		.loc 1 905 7 view .LVU949
 3026 00ca 4FF0FF30 		mov	r0, #-1
 3027 00ce F9E7     		b	.L244
 3028              	.LVL333:
 3029              	.L254:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3030              		.loc 1 905 7 view .LVU950
 3031 00d0 4FF0FF30 		mov	r0, #-1
 3032 00d4 F6E7     		b	.L244
 3033              	.L255:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3034              		.loc 1 905 7 view .LVU951
 3035 00d6 4FF0FF30 		mov	r0, #-1
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3036              		.loc 1 934 2 is_stmt 1 view .LVU952
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3037              		.loc 1 934 9 is_stmt 0 view .LVU953
 3038 00da F3E7     		b	.L244
 3039              		.cfi_endproc
 3040              	.LFE78:
ARM GAS  /tmp/ccLzcuV9.s 			page 108


 3042              		.section	.text.dir_sdi,"ax",%progbits
 3043              		.align	1
 3044              		.syntax unified
 3045              		.thumb
 3046              		.thumb_func
 3048              	dir_sdi:
 3049              	.LVL334:
 3050              	.LFB83:
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3051              		.loc 1 1157 1 is_stmt 1 view -0
 3052              		.cfi_startproc
 3053              		@ args = 0, pretend = 0, frame = 0
 3054              		@ frame_needed = 0, uses_anonymous_args = 0
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3055              		.loc 1 1157 1 is_stmt 0 view .LVU955
 3056 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3057              	.LCFI29:
 3058              		.cfi_def_cfa_offset 24
 3059              		.cfi_offset 3, -24
 3060              		.cfi_offset 4, -20
 3061              		.cfi_offset 5, -16
 3062              		.cfi_offset 6, -12
 3063              		.cfi_offset 7, -8
 3064              		.cfi_offset 14, -4
 3065 0002 0746     		mov	r7, r0
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
 3066              		.loc 1 1158 2 is_stmt 1 view .LVU956
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3067              		.loc 1 1159 2 view .LVU957
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3068              		.loc 1 1162 2 view .LVU958
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3069              		.loc 1 1162 12 is_stmt 0 view .LVU959
 3070 0004 A0F80612 		strh	r1, [r0, #518]	@ movhi
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3071              		.loc 1 1163 2 is_stmt 1 view .LVU960
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3072              		.loc 1 1163 7 is_stmt 0 view .LVU961
 3073 0008 D0F80842 		ldr	r4, [r0, #520]
 3074              	.LVL335:
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3075              		.loc 1 1164 2 is_stmt 1 view .LVU962
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3076              		.loc 1 1164 5 is_stmt 0 view .LVU963
 3077 000c 012C     		cmp	r4, #1
 3078 000e 44D0     		beq	.L268
 3079 0010 0E46     		mov	r6, r1
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3080              		.loc 1 1164 29 discriminator 1 view .LVU964
 3081 0012 D0F80032 		ldr	r3, [r0, #512]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3082              		.loc 1 1164 33 discriminator 1 view .LVU965
 3083 0016 D3F81422 		ldr	r2, [r3, #532]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3084              		.loc 1 1164 16 discriminator 1 view .LVU966
 3085 001a A242     		cmp	r2, r4
 3086 001c 3FD9     		bls	.L269
ARM GAS  /tmp/ccLzcuV9.s 			page 109


1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3087              		.loc 1 1166 2 is_stmt 1 view .LVU967
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3088              		.loc 1 1166 5 is_stmt 0 view .LVU968
 3089 001e F4B9     		cbnz	r4, .L263
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3090              		.loc 1 1166 21 discriminator 1 view .LVU969
 3091 0020 93F80022 		ldrb	r2, [r3, #512]	@ zero_extendqisi2
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3092              		.loc 1 1166 12 discriminator 1 view .LVU970
 3093 0024 032A     		cmp	r2, #3
 3094 0026 17D0     		beq	.L276
 3095              	.L264:
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3096              		.loc 1 1169 2 is_stmt 1 view .LVU971
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3097              		.loc 1 1169 5 is_stmt 0 view .LVU972
 3098 0028 CCB9     		cbnz	r4, .L263
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3099              		.loc 1 1170 3 is_stmt 1 view .LVU973
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3100              		.loc 1 1170 20 is_stmt 0 view .LVU974
 3101 002a B3F80822 		ldrh	r2, [r3, #520]
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3102              		.loc 1 1170 6 view .LVU975
 3103 002e B242     		cmp	r2, r6
 3104 0030 37D9     		bls	.L270
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3105              		.loc 1 1172 3 is_stmt 1 view .LVU976
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3106              		.loc 1 1172 8 is_stmt 0 view .LVU977
 3107 0032 D3F82402 		ldr	r0, [r3, #548]
 3108              	.LVL336:
 3109              	.L265:
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3110              		.loc 1 1185 2 is_stmt 1 view .LVU978
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3111              		.loc 1 1185 12 is_stmt 0 view .LVU979
 3112 0036 C7F80C42 		str	r4, [r7, #524]
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3113              		.loc 1 1186 2 is_stmt 1 view .LVU980
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3114              		.loc 1 1186 5 is_stmt 0 view .LVU981
 3115 003a D0B3     		cbz	r0, .L274
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3116              		.loc 1 1187 2 is_stmt 1 view .LVU982
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3117              		.loc 1 1187 18 is_stmt 0 view .LVU983
 3118 003c 00EB1610 		add	r0, r0, r6, lsr #4
 3119              	.LVL337:
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3120              		.loc 1 1187 11 view .LVU984
 3121 0040 C7F81002 		str	r0, [r7, #528]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3122              		.loc 1 1188 2 is_stmt 1 view .LVU985
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3123              		.loc 1 1188 14 is_stmt 0 view .LVU986
ARM GAS  /tmp/ccLzcuV9.s 			page 110


 3124 0044 D7F80032 		ldr	r3, [r7, #512]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3125              		.loc 1 1188 34 view .LVU987
 3126 0048 06F00F01 		and	r1, r6, #15
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3127              		.loc 1 1188 27 view .LVU988
 3128 004c 03EB4113 		add	r3, r3, r1, lsl #5
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3129              		.loc 1 1188 10 view .LVU989
 3130 0050 C7F81432 		str	r3, [r7, #532]
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3131              		.loc 1 1190 2 is_stmt 1 view .LVU990
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3132              		.loc 1 1190 9 is_stmt 0 view .LVU991
 3133 0054 0020     		movs	r0, #0
 3134              	.LVL338:
 3135              	.L262:
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3136              		.loc 1 1191 1 view .LVU992
 3137 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3138              	.LVL339:
 3139              	.L276:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3140              		.loc 1 1167 3 is_stmt 1 view .LVU993
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3141              		.loc 1 1167 8 is_stmt 0 view .LVU994
 3142 0058 D3F82442 		ldr	r4, [r3, #548]
 3143              	.LVL340:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3144              		.loc 1 1167 8 view .LVU995
 3145 005c E4E7     		b	.L264
 3146              	.L263:
 3147              	.LVL341:
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3148              		.loc 1 1175 3 is_stmt 1 view .LVU996
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3149              		.loc 1 1175 37 is_stmt 0 view .LVU997
 3150 005e 93F80252 		ldrb	r5, [r3, #514]	@ zero_extendqisi2
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3151              		.loc 1 1175 6 view .LVU998
 3152 0062 2D01     		lsls	r5, r5, #4
 3153              	.LVL342:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3154              		.loc 1 1176 3 is_stmt 1 view .LVU999
 3155              	.L266:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3156              		.loc 1 1176 14 view .LVU1000
 3157 0064 AE42     		cmp	r6, r5
 3158 0066 12D3     		bcc	.L277
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3159              		.loc 1 1177 4 view .LVU1001
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3160              		.loc 1 1177 11 is_stmt 0 view .LVU1002
 3161 0068 2146     		mov	r1, r4
 3162 006a D7F80002 		ldr	r0, [r7, #512]
 3163 006e FFF7FEFF 		bl	get_fat
 3164              	.LVL343:
ARM GAS  /tmp/ccLzcuV9.s 			page 111


 3165 0072 0446     		mov	r4, r0
 3166              	.LVL344:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3167              		.loc 1 1178 4 is_stmt 1 view .LVU1003
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3168              		.loc 1 1178 7 is_stmt 0 view .LVU1004
 3169 0074 B0F1FF3F 		cmp	r0, #-1
 3170 0078 15D0     		beq	.L271
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3171              		.loc 1 1179 4 is_stmt 1 view .LVU1005
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3172              		.loc 1 1179 7 is_stmt 0 view .LVU1006
 3173 007a 0128     		cmp	r0, #1
 3174 007c 15D9     		bls	.L272
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3175              		.loc 1 1179 30 discriminator 1 view .LVU1007
 3176 007e D7F80032 		ldr	r3, [r7, #512]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3177              		.loc 1 1179 34 discriminator 1 view .LVU1008
 3178 0082 D3F81432 		ldr	r3, [r3, #532]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3179              		.loc 1 1179 17 discriminator 1 view .LVU1009
 3180 0086 8342     		cmp	r3, r0
 3181 0088 11D9     		bls	.L273
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3182              		.loc 1 1181 4 is_stmt 1 view .LVU1010
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3183              		.loc 1 1181 8 is_stmt 0 view .LVU1011
 3184 008a 761B     		subs	r6, r6, r5
 3185              	.LVL345:
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3186              		.loc 1 1181 8 view .LVU1012
 3187 008c EAE7     		b	.L266
 3188              	.LVL346:
 3189              	.L277:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3190              		.loc 1 1183 3 is_stmt 1 view .LVU1013
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3191              		.loc 1 1183 10 is_stmt 0 view .LVU1014
 3192 008e 2146     		mov	r1, r4
 3193 0090 D7F80002 		ldr	r0, [r7, #512]
 3194 0094 FFF7FEFF 		bl	clust2sect
 3195              	.LVL347:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3196              		.loc 1 1183 10 view .LVU1015
 3197 0098 CDE7     		b	.L265
 3198              	.LVL348:
 3199              	.L268:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3200              		.loc 1 1165 10 view .LVU1016
 3201 009a 0220     		movs	r0, #2
 3202              	.LVL349:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3203              		.loc 1 1165 10 view .LVU1017
 3204 009c DBE7     		b	.L262
 3205              	.LVL350:
 3206              	.L269:
ARM GAS  /tmp/ccLzcuV9.s 			page 112


1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3207              		.loc 1 1165 10 view .LVU1018
 3208 009e 0220     		movs	r0, #2
 3209              	.LVL351:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3210              		.loc 1 1165 10 view .LVU1019
 3211 00a0 D9E7     		b	.L262
 3212              	.LVL352:
 3213              	.L270:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3214              		.loc 1 1171 11 view .LVU1020
 3215 00a2 0220     		movs	r0, #2
 3216              	.LVL353:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3217              		.loc 1 1171 11 view .LVU1021
 3218 00a4 D7E7     		b	.L262
 3219              	.LVL354:
 3220              	.L271:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3221              		.loc 1 1178 35 discriminator 1 view .LVU1022
 3222 00a6 0120     		movs	r0, #1
 3223              	.LVL355:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3224              		.loc 1 1178 35 discriminator 1 view .LVU1023
 3225 00a8 D5E7     		b	.L262
 3226              	.LVL356:
 3227              	.L272:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3228              		.loc 1 1180 12 view .LVU1024
 3229 00aa 0220     		movs	r0, #2
 3230              	.LVL357:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3231              		.loc 1 1180 12 view .LVU1025
 3232 00ac D3E7     		b	.L262
 3233              	.LVL358:
 3234              	.L273:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3235              		.loc 1 1180 12 view .LVU1026
 3236 00ae 0220     		movs	r0, #2
 3237              	.LVL359:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3238              		.loc 1 1180 12 view .LVU1027
 3239 00b0 D1E7     		b	.L262
 3240              	.LVL360:
 3241              	.L274:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3242              		.loc 1 1186 20 discriminator 1 view .LVU1028
 3243 00b2 0220     		movs	r0, #2
 3244              	.LVL361:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3245              		.loc 1 1186 20 discriminator 1 view .LVU1029
 3246 00b4 CFE7     		b	.L262
 3247              		.cfi_endproc
 3248              	.LFE83:
 3250              		.section	.text.dir_remove,"ax",%progbits
 3251              		.align	1
 3252              		.syntax unified
ARM GAS  /tmp/ccLzcuV9.s 			page 113


 3253              		.thumb
 3254              		.thumb_func
 3256              	dir_remove:
 3257              	.LVL362:
 3258              	.LFB91:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3259              		.loc 1 1729 1 is_stmt 1 view -0
 3260              		.cfi_startproc
 3261              		@ args = 0, pretend = 0, frame = 0
 3262              		@ frame_needed = 0, uses_anonymous_args = 0
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3263              		.loc 1 1729 1 is_stmt 0 view .LVU1031
 3264 0000 38B5     		push	{r3, r4, r5, lr}
 3265              	.LCFI30:
 3266              		.cfi_def_cfa_offset 16
 3267              		.cfi_offset 3, -16
 3268              		.cfi_offset 4, -12
 3269              		.cfi_offset 5, -8
 3270              		.cfi_offset 14, -4
 3271 0002 0446     		mov	r4, r0
1730:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 3272              		.loc 1 1730 2 is_stmt 1 view .LVU1032
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3273              		.loc 1 1750 2 view .LVU1033
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3274              		.loc 1 1750 8 is_stmt 0 view .LVU1034
 3275 0004 B0F80612 		ldrh	r1, [r0, #518]
 3276 0008 FFF7FEFF 		bl	dir_sdi
 3277              	.LVL363:
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3278              		.loc 1 1751 2 is_stmt 1 view .LVU1035
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3279              		.loc 1 1751 5 is_stmt 0 view .LVU1036
 3280 000c 0546     		mov	r5, r0
 3281 000e 08B1     		cbz	r0, .L281
 3282              	.LVL364:
 3283              	.L279:
1761:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3284              		.loc 1 1761 2 is_stmt 1 view .LVU1037
1762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3285              		.loc 1 1762 1 is_stmt 0 view .LVU1038
 3286 0010 2846     		mov	r0, r5
 3287 0012 38BD     		pop	{r3, r4, r5, pc}
 3288              	.LVL365:
 3289              	.L281:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3290              		.loc 1 1752 3 is_stmt 1 view .LVU1039
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3291              		.loc 1 1752 9 is_stmt 0 view .LVU1040
 3292 0014 D4F81012 		ldr	r1, [r4, #528]
 3293 0018 D4F80002 		ldr	r0, [r4, #512]
 3294              	.LVL366:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3295              		.loc 1 1752 9 view .LVU1041
 3296 001c FFF7FEFF 		bl	move_window
 3297              	.LVL367:
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
ARM GAS  /tmp/ccLzcuV9.s 			page 114


 3298              		.loc 1 1753 3 is_stmt 1 view .LVU1042
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3299              		.loc 1 1753 6 is_stmt 0 view .LVU1043
 3300 0020 0546     		mov	r5, r0
 3301 0022 0028     		cmp	r0, #0
 3302 0024 F4D1     		bne	.L279
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3303              		.loc 1 1754 4 is_stmt 1 view .LVU1044
 3304 0026 2022     		movs	r2, #32
 3305 0028 0021     		movs	r1, #0
 3306 002a D4F81402 		ldr	r0, [r4, #532]
 3307              	.LVL368:
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3308              		.loc 1 1754 4 is_stmt 0 view .LVU1045
 3309 002e FFF7FEFF 		bl	mem_set
 3310              	.LVL369:
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3311              		.loc 1 1755 4 is_stmt 1 view .LVU1046
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3312              		.loc 1 1755 7 is_stmt 0 view .LVU1047
 3313 0032 D4F81432 		ldr	r3, [r4, #532]
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3314              		.loc 1 1755 13 view .LVU1048
 3315 0036 E522     		movs	r2, #229
 3316 0038 1A70     		strb	r2, [r3]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3317              		.loc 1 1756 4 is_stmt 1 view .LVU1049
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3318              		.loc 1 1756 6 is_stmt 0 view .LVU1050
 3319 003a D4F80032 		ldr	r3, [r4, #512]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3320              		.loc 1 1756 18 view .LVU1051
 3321 003e 0122     		movs	r2, #1
 3322 0040 83F80422 		strb	r2, [r3, #516]
 3323 0044 E4E7     		b	.L279
 3324              		.cfi_endproc
 3325              	.LFE91:
 3327              		.section	.text.put_fat,"ax",%progbits
 3328              		.align	1
 3329              		.global	put_fat
 3330              		.syntax unified
 3331              		.thumb
 3332              		.thumb_func
 3334              	put_fat:
 3335              	.LVL370:
 3336              	.LFB79:
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3337              		.loc 1 951 1 is_stmt 1 view -0
 3338              		.cfi_startproc
 3339              		@ args = 0, pretend = 0, frame = 0
 3340              		@ frame_needed = 0, uses_anonymous_args = 0
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3341              		.loc 1 952 2 view .LVU1053
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3342              		.loc 1 953 2 view .LVU1054
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3343              		.loc 1 954 2 view .LVU1055
ARM GAS  /tmp/ccLzcuV9.s 			page 115


 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3344              		.loc 1 957 2 view .LVU1056
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3345              		.loc 1 957 5 is_stmt 0 view .LVU1057
 3346 0000 0129     		cmp	r1, #1
 3347 0002 7CD9     		bls	.L290
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3348              		.loc 1 951 1 view .LVU1058
 3349 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3350              	.LCFI31:
 3351              		.cfi_def_cfa_offset 24
 3352              		.cfi_offset 4, -24
 3353              		.cfi_offset 5, -20
 3354              		.cfi_offset 6, -16
 3355              		.cfi_offset 7, -12
 3356              		.cfi_offset 8, -8
 3357              		.cfi_offset 14, -4
 3358 0008 0546     		mov	r5, r0
 3359 000a 0C46     		mov	r4, r1
 3360 000c 1646     		mov	r6, r2
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3361              		.loc 1 957 28 discriminator 1 view .LVU1059
 3362 000e D0F81432 		ldr	r3, [r0, #532]
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3363              		.loc 1 957 15 discriminator 1 view .LVU1060
 3364 0012 8B42     		cmp	r3, r1
 3365 0014 75D9     		bls	.L291
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3366              		.loc 1 961 3 is_stmt 1 view .LVU1061
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3367              		.loc 1 961 13 is_stmt 0 view .LVU1062
 3368 0016 90F80032 		ldrb	r3, [r0, #512]	@ zero_extendqisi2
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3369              		.loc 1 961 3 view .LVU1063
 3370 001a 022B     		cmp	r3, #2
 3371 001c 3CD0     		beq	.L284
 3372 001e 032B     		cmp	r3, #3
 3373 0020 4DD0     		beq	.L285
 3374 0022 012B     		cmp	r3, #1
 3375 0024 70D1     		bne	.L292
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3376              		.loc 1 963 4 is_stmt 1 view .LVU1064
 3377              	.LVL371:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3378              		.loc 1 963 21 view .LVU1065
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3379              		.loc 1 963 24 is_stmt 0 view .LVU1066
 3380 0026 01EB5107 		add	r7, r1, r1, lsr #1
 3381              	.LVL372:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3382              		.loc 1 964 4 is_stmt 1 view .LVU1067
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3383              		.loc 1 964 28 is_stmt 0 view .LVU1068
 3384 002a D0F82012 		ldr	r1, [r0, #544]
 3385              	.LVL373:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3386              		.loc 1 964 10 view .LVU1069
ARM GAS  /tmp/ccLzcuV9.s 			page 116


 3387 002e 01EB5721 		add	r1, r1, r7, lsr #9
 3388 0032 FFF7FEFF 		bl	move_window
 3389              	.LVL374:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3390              		.loc 1 965 4 is_stmt 1 view .LVU1070
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3391              		.loc 1 965 7 is_stmt 0 view .LVU1071
 3392 0036 0028     		cmp	r0, #0
 3393 0038 64D1     		bne	.L283
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3394              		.loc 1 966 4 is_stmt 1 view .LVU1072
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3395              		.loc 1 966 22 is_stmt 0 view .LVU1073
 3396 003a 07F10108 		add	r8, r7, #1
 3397              	.LVL375:
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3398              		.loc 1 966 25 view .LVU1074
 3399 003e C7F30807 		ubfx	r7, r7, #0, #9
 3400              	.LVL376:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3401              		.loc 1 967 4 is_stmt 1 view .LVU1075
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3402              		.loc 1 967 7 is_stmt 0 view .LVU1076
 3403 0042 14F00104 		ands	r4, r4, #1
 3404              	.LVL377:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3405              		.loc 1 967 7 view .LVU1077
 3406 0046 1DD0     		beq	.L286
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3407              		.loc 1 967 24 discriminator 1 view .LVU1078
 3408 0048 EB5D     		ldrb	r3, [r5, r7]	@ zero_extendqisi2
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3409              		.loc 1 967 7 discriminator 1 view .LVU1079
 3410 004a 03F00F03 		and	r3, r3, #15
 3411 004e 43EA0613 		orr	r3, r3, r6, lsl #4
 3412 0052 DBB2     		uxtb	r3, r3
 3413              	.L287:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3414              		.loc 1 967 7 discriminator 4 view .LVU1080
 3415 0054 EB55     		strb	r3, [r5, r7]
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3416              		.loc 1 968 4 is_stmt 1 view .LVU1081
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3417              		.loc 1 968 14 is_stmt 0 view .LVU1082
 3418 0056 0123     		movs	r3, #1
 3419 0058 85F80432 		strb	r3, [r5, #516]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3420              		.loc 1 969 4 is_stmt 1 view .LVU1083
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3421              		.loc 1 969 28 is_stmt 0 view .LVU1084
 3422 005c D5F82012 		ldr	r1, [r5, #544]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3423              		.loc 1 969 10 view .LVU1085
 3424 0060 01EB5821 		add	r1, r1, r8, lsr #9
 3425 0064 2846     		mov	r0, r5
 3426              	.LVL378:
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/ccLzcuV9.s 			page 117


 3427              		.loc 1 969 10 view .LVU1086
 3428 0066 FFF7FEFF 		bl	move_window
 3429              	.LVL379:
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3430              		.loc 1 970 4 is_stmt 1 view .LVU1087
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3431              		.loc 1 970 7 is_stmt 0 view .LVU1088
 3432 006a 0028     		cmp	r0, #0
 3433 006c 4AD1     		bne	.L283
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3434              		.loc 1 971 4 is_stmt 1 view .LVU1089
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3435              		.loc 1 971 23 is_stmt 0 view .LVU1090
 3436 006e C8F30808 		ubfx	r8, r8, #0, #9
 3437              	.LVL380:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3438              		.loc 1 972 4 is_stmt 1 view .LVU1091
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3439              		.loc 1 972 7 is_stmt 0 view .LVU1092
 3440 0072 4CB1     		cbz	r4, .L288
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3441              		.loc 1 972 7 discriminator 1 view .LVU1093
 3442 0074 C6F30713 		ubfx	r3, r6, #4, #8
 3443              	.L289:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3444              		.loc 1 972 7 discriminator 4 view .LVU1094
 3445 0078 05F80830 		strb	r3, [r5, r8]
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3446              		.loc 1 973 4 is_stmt 1 view .LVU1095
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3447              		.loc 1 973 14 is_stmt 0 view .LVU1096
 3448 007c 0123     		movs	r3, #1
 3449 007e 85F80432 		strb	r3, [r5, #516]
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3450              		.loc 1 974 4 is_stmt 1 view .LVU1097
 3451 0082 3FE0     		b	.L283
 3452              	.LVL381:
 3453              	.L286:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3454              		.loc 1 967 7 is_stmt 0 discriminator 2 view .LVU1098
 3455 0084 F3B2     		uxtb	r3, r6
 3456 0086 E5E7     		b	.L287
 3457              	.LVL382:
 3458              	.L288:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3459              		.loc 1 972 43 discriminator 2 view .LVU1099
 3460 0088 15F80830 		ldrb	r3, [r5, r8]	@ zero_extendqisi2
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3461              		.loc 1 972 74 discriminator 2 view .LVU1100
 3462 008c C6F30322 		ubfx	r2, r6, #8, #4
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3463              		.loc 1 972 7 discriminator 2 view .LVU1101
 3464 0090 23F00F03 		bic	r3, r3, #15
 3465 0094 1343     		orrs	r3, r3, r2
 3466 0096 EFE7     		b	.L289
 3467              	.LVL383:
 3468              	.L284:
ARM GAS  /tmp/ccLzcuV9.s 			page 118


 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3469              		.loc 1 977 4 is_stmt 1 view .LVU1102
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3470              		.loc 1 977 28 is_stmt 0 view .LVU1103
 3471 0098 D0F82012 		ldr	r1, [r0, #544]
 3472              	.LVL384:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3473              		.loc 1 977 10 view .LVU1104
 3474 009c 01EB1421 		add	r1, r1, r4, lsr #8
 3475 00a0 FFF7FEFF 		bl	move_window
 3476              	.LVL385:
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3477              		.loc 1 978 4 is_stmt 1 view .LVU1105
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3478              		.loc 1 978 7 is_stmt 0 view .LVU1106
 3479 00a4 70BB     		cbnz	r0, .L283
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3480              		.loc 1 979 4 is_stmt 1 view .LVU1107
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3481              		.loc 1 979 25 is_stmt 0 view .LVU1108
 3482 00a6 6400     		lsls	r4, r4, #1
 3483              	.LVL386:
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3484              		.loc 1 979 29 view .LVU1109
 3485 00a8 04F4FF74 		and	r4, r4, #510
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3486              		.loc 1 979 6 view .LVU1110
 3487 00ac 2B19     		adds	r3, r5, r4
 3488              	.LVL387:
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3489              		.loc 1 980 4 is_stmt 1 view .LVU1111
 3490 00ae 2E55     		strb	r6, [r5, r4]
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3491              		.loc 1 980 4 view .LVU1112
 3492 00b0 C6F30722 		ubfx	r2, r6, #8, #8
 3493 00b4 5A70     		strb	r2, [r3, #1]
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3494              		.loc 1 981 4 view .LVU1113
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3495              		.loc 1 981 14 is_stmt 0 view .LVU1114
 3496 00b6 0123     		movs	r3, #1
 3497              	.LVL388:
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3498              		.loc 1 981 14 view .LVU1115
 3499 00b8 85F80432 		strb	r3, [r5, #516]
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3500              		.loc 1 982 4 is_stmt 1 view .LVU1116
 3501 00bc 22E0     		b	.L283
 3502              	.LVL389:
 3503              	.L285:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3504              		.loc 1 985 4 view .LVU1117
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3505              		.loc 1 985 28 is_stmt 0 view .LVU1118
 3506 00be D0F82012 		ldr	r1, [r0, #544]
 3507              	.LVL390:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/ccLzcuV9.s 			page 119


 3508              		.loc 1 985 10 view .LVU1119
 3509 00c2 01EBD411 		add	r1, r1, r4, lsr #7
 3510 00c6 FFF7FEFF 		bl	move_window
 3511              	.LVL391:
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3512              		.loc 1 986 4 is_stmt 1 view .LVU1120
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3513              		.loc 1 986 7 is_stmt 0 view .LVU1121
 3514 00ca D8B9     		cbnz	r0, .L283
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3515              		.loc 1 987 4 is_stmt 1 view .LVU1122
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3516              		.loc 1 987 25 is_stmt 0 view .LVU1123
 3517 00cc A400     		lsls	r4, r4, #2
 3518              	.LVL392:
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3519              		.loc 1 987 29 view .LVU1124
 3520 00ce 04F4FE74 		and	r4, r4, #508
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3521              		.loc 1 987 6 view .LVU1125
 3522 00d2 2919     		adds	r1, r5, r4
 3523              	.LVL393:
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3524              		.loc 1 988 4 is_stmt 1 view .LVU1126
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3525              		.loc 1 988 11 is_stmt 0 view .LVU1127
 3526 00d4 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 3527 00d6 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 3528 00d8 1B04     		lsls	r3, r3, #16
 3529 00da 43EA0263 		orr	r3, r3, r2, lsl #24
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3530              		.loc 1 988 23 view .LVU1128
 3531 00de 03F07043 		and	r3, r3, #-268435456
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3532              		.loc 1 988 8 view .LVU1129
 3533 00e2 3343     		orrs	r3, r3, r6
 3534              	.LVL394:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3535              		.loc 1 989 4 is_stmt 1 view .LVU1130
 3536 00e4 2E55     		strb	r6, [r5, r4]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3537              		.loc 1 989 4 view .LVU1131
 3538 00e6 C6F30722 		ubfx	r2, r6, #8, #8
 3539 00ea 4A70     		strb	r2, [r1, #1]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3540              		.loc 1 989 4 view .LVU1132
 3541 00ec C6F30742 		ubfx	r2, r6, #16, #8
 3542 00f0 8A70     		strb	r2, [r1, #2]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3543              		.loc 1 989 4 view .LVU1133
 3544 00f2 1B0E     		lsrs	r3, r3, #24
 3545              	.LVL395:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3546              		.loc 1 989 4 is_stmt 0 view .LVU1134
 3547 00f4 CB70     		strb	r3, [r1, #3]
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3548              		.loc 1 990 4 is_stmt 1 view .LVU1135
ARM GAS  /tmp/ccLzcuV9.s 			page 120


 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3549              		.loc 1 990 14 is_stmt 0 view .LVU1136
 3550 00f6 0123     		movs	r3, #1
 3551 00f8 85F80432 		strb	r3, [r5, #516]
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3552              		.loc 1 991 4 is_stmt 1 view .LVU1137
 3553 00fc 02E0     		b	.L283
 3554              	.LVL396:
 3555              	.L290:
 3556              	.LCFI32:
 3557              		.cfi_def_cfa_offset 0
 3558              		.cfi_restore 4
 3559              		.cfi_restore 5
 3560              		.cfi_restore 6
 3561              		.cfi_restore 7
 3562              		.cfi_restore 8
 3563              		.cfi_restore 14
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3564              		.loc 1 958 7 is_stmt 0 view .LVU1138
 3565 00fe 0220     		movs	r0, #2
 3566              	.LVL397:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3567              		.loc 1 998 2 is_stmt 1 view .LVU1139
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3568              		.loc 1 999 1 is_stmt 0 view .LVU1140
 3569 0100 7047     		bx	lr
 3570              	.LVL398:
 3571              	.L291:
 3572              	.LCFI33:
 3573              		.cfi_def_cfa_offset 24
 3574              		.cfi_offset 4, -24
 3575              		.cfi_offset 5, -20
 3576              		.cfi_offset 6, -16
 3577              		.cfi_offset 7, -12
 3578              		.cfi_offset 8, -8
 3579              		.cfi_offset 14, -4
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3580              		.loc 1 958 7 view .LVU1141
 3581 0102 0220     		movs	r0, #2
 3582              	.LVL399:
 3583              	.L283:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3584              		.loc 1 998 2 is_stmt 1 view .LVU1142
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3585              		.loc 1 999 1 is_stmt 0 view .LVU1143
 3586 0104 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3587              	.LVL400:
 3588              	.L292:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3589              		.loc 1 961 3 view .LVU1144
 3590 0108 0220     		movs	r0, #2
 3591              	.LVL401:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3592              		.loc 1 961 3 view .LVU1145
 3593 010a FBE7     		b	.L283
 3594              		.cfi_endproc
 3595              	.LFE79:
ARM GAS  /tmp/ccLzcuV9.s 			page 121


 3597              		.section	.text.create_chain,"ax",%progbits
 3598              		.align	1
 3599              		.syntax unified
 3600              		.thumb
 3601              		.thumb_func
 3603              	create_chain:
 3604              	.LVL402:
 3605              	.LFB81:
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3606              		.loc 1 1067 1 is_stmt 1 view -0
 3607              		.cfi_startproc
 3608              		@ args = 0, pretend = 0, frame = 0
 3609              		@ frame_needed = 0, uses_anonymous_args = 0
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3610              		.loc 1 1067 1 is_stmt 0 view .LVU1147
 3611 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3612              	.LCFI34:
 3613              		.cfi_def_cfa_offset 24
 3614              		.cfi_offset 3, -24
 3615              		.cfi_offset 4, -20
 3616              		.cfi_offset 5, -16
 3617              		.cfi_offset 6, -12
 3618              		.cfi_offset 7, -8
 3619              		.cfi_offset 14, -4
 3620 0002 0546     		mov	r5, r0
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3621              		.loc 1 1068 2 is_stmt 1 view .LVU1148
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3622              		.loc 1 1069 2 view .LVU1149
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3623              		.loc 1 1072 2 view .LVU1150
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3624              		.loc 1 1072 5 is_stmt 0 view .LVU1151
 3625 0004 0F46     		mov	r7, r1
 3626 0006 41B9     		cbnz	r1, .L298
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3627              		.loc 1 1073 3 is_stmt 1 view .LVU1152
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3628              		.loc 1 1073 7 is_stmt 0 view .LVU1153
 3629 0008 D0F80C62 		ldr	r6, [r0, #524]
 3630              	.LVL403:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3631              		.loc 1 1074 3 is_stmt 1 view .LVU1154
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3632              		.loc 1 1074 6 is_stmt 0 view .LVU1155
 3633 000c 9EB1     		cbz	r6, .L306
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3634              		.loc 1 1074 24 discriminator 2 view .LVU1156
 3635 000e D0F81432 		ldr	r3, [r0, #532]
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3636              		.loc 1 1074 12 discriminator 2 view .LVU1157
 3637 0012 B342     		cmp	r3, r6
 3638 0014 10D8     		bhi	.L299
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3639              		.loc 1 1074 40 discriminator 3 view .LVU1158
 3640 0016 0126     		movs	r6, #1
 3641              	.LVL404:
ARM GAS  /tmp/ccLzcuV9.s 			page 122


1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3642              		.loc 1 1074 40 discriminator 3 view .LVU1159
 3643 0018 0EE0     		b	.L299
 3644              	.LVL405:
 3645              	.L298:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3646              		.loc 1 1077 3 is_stmt 1 view .LVU1160
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3647              		.loc 1 1077 8 is_stmt 0 view .LVU1161
 3648 001a FFF7FEFF 		bl	get_fat
 3649              	.LVL406:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3650              		.loc 1 1077 8 view .LVU1162
 3651 001e 0346     		mov	r3, r0
 3652              	.LVL407:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3653              		.loc 1 1078 3 is_stmt 1 view .LVU1163
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3654              		.loc 1 1078 6 is_stmt 0 view .LVU1164
 3655 0020 0128     		cmp	r0, #1
 3656 0022 4BD9     		bls	.L308
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3657              		.loc 1 1079 3 is_stmt 1 view .LVU1165
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3658              		.loc 1 1079 6 is_stmt 0 view .LVU1166
 3659 0024 B0F1FF3F 		cmp	r0, #-1
 3660 0028 4DD0     		beq	.L297
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3661              		.loc 1 1080 3 is_stmt 1 view .LVU1167
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3662              		.loc 1 1080 14 is_stmt 0 view .LVU1168
 3663 002a D5F81422 		ldr	r2, [r5, #532]
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3664              		.loc 1 1080 6 view .LVU1169
 3665 002e 8242     		cmp	r2, r0
 3666 0030 49D8     		bhi	.L297
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3667              		.loc 1 1081 7 view .LVU1170
 3668 0032 3E46     		mov	r6, r7
 3669 0034 00E0     		b	.L299
 3670              	.LVL408:
 3671              	.L306:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3672              		.loc 1 1074 40 discriminator 3 view .LVU1171
 3673 0036 0126     		movs	r6, #1
 3674              	.LVL409:
 3675              	.L299:
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3676              		.loc 1 1084 2 is_stmt 1 view .LVU1172
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3677              		.loc 1 1084 6 is_stmt 0 view .LVU1173
 3678 0038 3446     		mov	r4, r6
 3679 003a 0CE0     		b	.L303
 3680              	.LVL410:
 3681              	.L301:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3682              		.loc 1 1091 3 is_stmt 1 view .LVU1174
ARM GAS  /tmp/ccLzcuV9.s 			page 123


1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3683              		.loc 1 1091 8 is_stmt 0 view .LVU1175
 3684 003c 2146     		mov	r1, r4
 3685 003e 2846     		mov	r0, r5
 3686 0040 FFF7FEFF 		bl	get_fat
 3687              	.LVL411:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3688              		.loc 1 1092 3 is_stmt 1 view .LVU1176
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3689              		.loc 1 1092 6 is_stmt 0 view .LVU1177
 3690 0044 0346     		mov	r3, r0
 3691 0046 78B1     		cbz	r0, .L302
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3692              		.loc 1 1093 3 is_stmt 1 view .LVU1178
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3693              		.loc 1 1093 6 is_stmt 0 view .LVU1179
 3694 0048 B0F1FF3F 		cmp	r0, #-1
 3695 004c 3BD0     		beq	.L297
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 3696              		.loc 1 1093 24 discriminator 1 view .LVU1180
 3697 004e 0128     		cmp	r0, #1
 3698 0050 39D0     		beq	.L297
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3699              		.loc 1 1095 3 is_stmt 1 view .LVU1181
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3700              		.loc 1 1095 6 is_stmt 0 view .LVU1182
 3701 0052 B442     		cmp	r4, r6
 3702 0054 36D0     		beq	.L314
 3703              	.LVL412:
 3704              	.L303:
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
 3705              		.loc 1 1085 2 is_stmt 1 view .LVU1183
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 3706              		.loc 1 1086 3 view .LVU1184
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 3707              		.loc 1 1086 6 is_stmt 0 view .LVU1185
 3708 0056 0134     		adds	r4, r4, #1
 3709              	.LVL413:
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3710              		.loc 1 1087 3 is_stmt 1 view .LVU1186
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3711              		.loc 1 1087 16 is_stmt 0 view .LVU1187
 3712 0058 D5F81432 		ldr	r3, [r5, #532]
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 3713              		.loc 1 1087 6 view .LVU1188
 3714 005c A342     		cmp	r3, r4
 3715 005e EDD8     		bhi	.L301
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 3716              		.loc 1 1088 4 is_stmt 1 view .LVU1189
 3717              	.LVL414:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3718              		.loc 1 1089 4 view .LVU1190
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3719              		.loc 1 1089 7 is_stmt 0 view .LVU1191
 3720 0060 012E     		cmp	r6, #1
 3721 0062 2DD9     		bls	.L309
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
ARM GAS  /tmp/ccLzcuV9.s 			page 124


 3722              		.loc 1 1088 8 view .LVU1192
 3723 0064 0224     		movs	r4, #2
 3724 0066 E9E7     		b	.L301
 3725              	.LVL415:
 3726              	.L302:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3727              		.loc 1 1098 2 is_stmt 1 view .LVU1193
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3728              		.loc 1 1098 8 is_stmt 0 view .LVU1194
 3729 0068 6FF07042 		mvn	r2, #-268435456
 3730 006c 2146     		mov	r1, r4
 3731 006e 2846     		mov	r0, r5
 3732              	.LVL416:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 3733              		.loc 1 1098 8 view .LVU1195
 3734 0070 FFF7FEFF 		bl	put_fat
 3735              	.LVL417:
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3736              		.loc 1 1099 2 is_stmt 1 view .LVU1196
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3737              		.loc 1 1099 5 is_stmt 0 view .LVU1197
 3738 0074 0346     		mov	r3, r0
 3739 0076 D0B9     		cbnz	r0, .L304
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 3740              		.loc 1 1099 19 discriminator 1 view .LVU1198
 3741 0078 97B9     		cbnz	r7, .L315
 3742              	.LVL418:
 3743              	.L305:
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 3744              		.loc 1 1102 2 is_stmt 1 view .LVU1199
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 3745              		.loc 1 1102 5 is_stmt 0 view .LVU1200
 3746 007a C3B9     		cbnz	r3, .L304
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 3747              		.loc 1 1103 3 is_stmt 1 view .LVU1201
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 3748              		.loc 1 1103 18 is_stmt 0 view .LVU1202
 3749 007c C5F80C42 		str	r4, [r5, #524]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3750              		.loc 1 1104 3 is_stmt 1 view .LVU1203
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3751              		.loc 1 1104 9 is_stmt 0 view .LVU1204
 3752 0080 D5F81032 		ldr	r3, [r5, #528]
 3753              	.LVL419:
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 3754              		.loc 1 1104 6 view .LVU1205
 3755 0084 B3F1FF3F 		cmp	r3, #-1
 3756 0088 1FD0     		beq	.L311
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3757              		.loc 1 1105 4 is_stmt 1 view .LVU1206
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3758              		.loc 1 1105 18 is_stmt 0 view .LVU1207
 3759 008a 013B     		subs	r3, r3, #1
 3760 008c C5F81032 		str	r3, [r5, #528]
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3761              		.loc 1 1106 4 is_stmt 1 view .LVU1208
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccLzcuV9.s 			page 125


 3762              		.loc 1 1106 6 is_stmt 0 view .LVU1209
 3763 0090 95F80532 		ldrb	r3, [r5, #517]	@ zero_extendqisi2
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3764              		.loc 1 1106 17 view .LVU1210
 3765 0094 43F00103 		orr	r3, r3, #1
 3766 0098 85F80532 		strb	r3, [r5, #517]
 3767 009c 2346     		mov	r3, r4
 3768 009e 12E0     		b	.L297
 3769              	.LVL420:
 3770              	.L315:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3771              		.loc 1 1100 3 is_stmt 1 view .LVU1211
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3772              		.loc 1 1100 9 is_stmt 0 view .LVU1212
 3773 00a0 2246     		mov	r2, r4
 3774 00a2 3946     		mov	r1, r7
 3775 00a4 2846     		mov	r0, r5
 3776              	.LVL421:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3777              		.loc 1 1100 9 view .LVU1213
 3778 00a6 FFF7FEFF 		bl	put_fat
 3779              	.LVL422:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3780              		.loc 1 1100 9 view .LVU1214
 3781 00aa 0346     		mov	r3, r0
 3782              	.LVL423:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3783              		.loc 1 1100 9 view .LVU1215
 3784 00ac E5E7     		b	.L305
 3785              	.LVL424:
 3786              	.L304:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3787              		.loc 1 1109 3 is_stmt 1 view .LVU1216
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3788              		.loc 1 1109 43 is_stmt 0 view .LVU1217
 3789 00ae 012B     		cmp	r3, #1
 3790 00b0 01D0     		beq	.L316
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3791              		.loc 1 1109 43 discriminator 2 view .LVU1218
 3792 00b2 0123     		movs	r3, #1
 3793              	.LVL425:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3794              		.loc 1 1109 43 discriminator 2 view .LVU1219
 3795 00b4 07E0     		b	.L297
 3796              	.LVL426:
 3797              	.L316:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3798              		.loc 1 1109 43 discriminator 1 view .LVU1220
 3799 00b6 4FF0FF33 		mov	r3, #-1
 3800 00ba 04E0     		b	.L297
 3801              	.LVL427:
 3802              	.L308:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3803              		.loc 1 1078 22 discriminator 1 view .LVU1221
 3804 00bc 0123     		movs	r3, #1
 3805 00be 02E0     		b	.L297
 3806              	.LVL428:
ARM GAS  /tmp/ccLzcuV9.s 			page 126


 3807              	.L309:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3808              		.loc 1 1089 26 discriminator 1 view .LVU1222
 3809 00c0 0023     		movs	r3, #0
 3810 00c2 00E0     		b	.L297
 3811              	.LVL429:
 3812              	.L314:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3813              		.loc 1 1095 26 discriminator 1 view .LVU1223
 3814 00c4 0023     		movs	r3, #0
 3815              	.LVL430:
 3816              	.L297:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3817              		.loc 1 1113 1 view .LVU1224
 3818 00c6 1846     		mov	r0, r3
 3819 00c8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3820              	.LVL431:
 3821              	.L311:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3822              		.loc 1 1113 1 view .LVU1225
 3823 00ca 2346     		mov	r3, r4
 3824 00cc FBE7     		b	.L297
 3825              		.cfi_endproc
 3826              	.LFE81:
 3828              		.section	.text.dir_next,"ax",%progbits
 3829              		.align	1
 3830              		.syntax unified
 3831              		.thumb
 3832              		.thumb_func
 3834              	dir_next:
 3835              	.LVL432:
 3836              	.LFB84:
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 3837              		.loc 1 1205 1 is_stmt 1 view -0
 3838              		.cfi_startproc
 3839              		@ args = 0, pretend = 0, frame = 0
 3840              		@ frame_needed = 0, uses_anonymous_args = 0
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 3841              		.loc 1 1205 1 is_stmt 0 view .LVU1227
 3842 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3843              	.LCFI35:
 3844              		.cfi_def_cfa_offset 32
 3845              		.cfi_offset 3, -32
 3846              		.cfi_offset 4, -28
 3847              		.cfi_offset 5, -24
 3848              		.cfi_offset 6, -20
 3849              		.cfi_offset 7, -16
 3850              		.cfi_offset 8, -12
 3851              		.cfi_offset 9, -8
 3852              		.cfi_offset 14, -4
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 3853              		.loc 1 1206 2 is_stmt 1 view .LVU1228
1207:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3854              		.loc 1 1207 2 view .LVU1229
1209:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3855              		.loc 1 1209 2 view .LVU1230
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
ARM GAS  /tmp/ccLzcuV9.s 			page 127


 3856              		.loc 1 1213 2 view .LVU1231
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3857              		.loc 1 1213 8 is_stmt 0 view .LVU1232
 3858 0004 B0F80652 		ldrh	r5, [r0, #518]
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 3859              		.loc 1 1213 16 view .LVU1233
 3860 0008 6B1C     		adds	r3, r5, #1
 3861              	.LVL433:
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3862              		.loc 1 1214 2 is_stmt 1 view .LVU1234
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3863              		.loc 1 1214 5 is_stmt 0 view .LVU1235
 3864 000a 9AB2     		uxth	r2, r3
 3865 000c 002A     		cmp	r2, #0
 3866 000e 00F08380 		beq	.L324
 3867 0012 0446     		mov	r4, r0
 3868 0014 0F46     		mov	r7, r1
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3869              		.loc 1 1214 26 discriminator 1 view .LVU1236
 3870 0016 D0F81022 		ldr	r2, [r0, #528]
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 3871              		.loc 1 1214 20 discriminator 1 view .LVU1237
 3872 001a 002A     		cmp	r2, #0
 3873 001c 7ED0     		beq	.L325
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 3874              		.loc 1 1217 2 is_stmt 1 view .LVU1238
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 3875              		.loc 1 1217 5 is_stmt 0 view .LVU1239
 3876 001e 13F00F06 		ands	r6, r3, #15
 3877 0022 0BD1     		bne	.L319
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3878              		.loc 1 1218 3 is_stmt 1 view .LVU1240
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3879              		.loc 1 1218 11 is_stmt 0 view .LVU1241
 3880 0024 0132     		adds	r2, r2, #1
 3881 0026 C0F81022 		str	r2, [r0, #528]
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 3882              		.loc 1 1220 3 is_stmt 1 view .LVU1242
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 3883              		.loc 1 1220 10 is_stmt 0 view .LVU1243
 3884 002a D0F80C12 		ldr	r1, [r0, #524]
 3885              	.LVL434:
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 3886              		.loc 1 1220 6 view .LVU1244
 3887 002e 89B9     		cbnz	r1, .L320
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3888              		.loc 1 1221 4 is_stmt 1 view .LVU1245
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3889              		.loc 1 1221 15 is_stmt 0 view .LVU1246
 3890 0030 D0F80022 		ldr	r2, [r0, #512]
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3891              		.loc 1 1221 19 view .LVU1247
 3892 0034 B2F80822 		ldrh	r2, [r2, #520]
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 3893              		.loc 1 1221 7 view .LVU1248
 3894 0038 9A42     		cmp	r2, r3
 3895 003a 71D9     		bls	.L336
ARM GAS  /tmp/ccLzcuV9.s 			page 128


 3896              	.LVL435:
 3897              	.L319:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 3898              		.loc 1 1257 2 is_stmt 1 view .LVU1249
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 3899              		.loc 1 1257 14 is_stmt 0 view .LVU1250
 3900 003c 0135     		adds	r5, r5, #1
 3901              	.LVL436:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 3902              		.loc 1 1257 12 view .LVU1251
 3903 003e A4F80652 		strh	r5, [r4, #518]	@ movhi
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3904              		.loc 1 1258 2 is_stmt 1 view .LVU1252
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3905              		.loc 1 1258 14 is_stmt 0 view .LVU1253
 3906 0042 D4F80032 		ldr	r3, [r4, #512]
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3907              		.loc 1 1258 27 view .LVU1254
 3908 0046 03EB4613 		add	r3, r3, r6, lsl #5
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3909              		.loc 1 1258 10 view .LVU1255
 3910 004a C4F81432 		str	r3, [r4, #532]
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3911              		.loc 1 1260 2 is_stmt 1 view .LVU1256
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3912              		.loc 1 1260 9 is_stmt 0 view .LVU1257
 3913 004e 0020     		movs	r0, #0
 3914              	.LVL437:
 3915              	.L318:
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3916              		.loc 1 1261 1 view .LVU1258
 3917 0050 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 3918              	.LVL438:
 3919              	.L320:
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3920              		.loc 1 1225 4 is_stmt 1 view .LVU1259
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3921              		.loc 1 1225 43 is_stmt 0 view .LVU1260
 3922 0054 D0F80002 		ldr	r0, [r0, #512]
 3923              	.LVL439:
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3924              		.loc 1 1225 47 view .LVU1261
 3925 0058 90F80222 		ldrb	r2, [r0, #514]	@ zero_extendqisi2
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3926              		.loc 1 1225 55 view .LVU1262
 3927 005c 013A     		subs	r2, r2, #1
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 3928              		.loc 1 1225 7 view .LVU1263
 3929 005e 12EA1318 		ands	r8, r2, r3, lsr #4
 3930 0062 EBD1     		bne	.L319
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 3931              		.loc 1 1226 5 is_stmt 1 view .LVU1264
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 3932              		.loc 1 1226 12 is_stmt 0 view .LVU1265
 3933 0064 FFF7FEFF 		bl	get_fat
 3934              	.LVL440:
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
ARM GAS  /tmp/ccLzcuV9.s 			page 129


 3935              		.loc 1 1226 12 view .LVU1266
 3936 0068 8146     		mov	r9, r0
 3937              	.LVL441:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 3938              		.loc 1 1227 5 is_stmt 1 view .LVU1267
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 3939              		.loc 1 1227 8 is_stmt 0 view .LVU1268
 3940 006a 0128     		cmp	r0, #1
 3941 006c 5AD9     		bls	.L327
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 3942              		.loc 1 1228 5 is_stmt 1 view .LVU1269
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 3943              		.loc 1 1228 8 is_stmt 0 view .LVU1270
 3944 006e B0F1FF3F 		cmp	r0, #-1
 3945 0072 59D0     		beq	.L328
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3946              		.loc 1 1229 5 is_stmt 1 view .LVU1271
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3947              		.loc 1 1229 19 is_stmt 0 view .LVU1272
 3948 0074 D4F80002 		ldr	r0, [r4, #512]
 3949              	.LVL442:
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3950              		.loc 1 1229 23 view .LVU1273
 3951 0078 D0F81432 		ldr	r3, [r0, #532]
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3952              		.loc 1 1229 8 view .LVU1274
 3953 007c 4B45     		cmp	r3, r9
 3954 007e 41D8     		bhi	.L321
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 3955              		.loc 1 1231 6 is_stmt 1 view .LVU1275
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 3956              		.loc 1 1231 9 is_stmt 0 view .LVU1276
 3957 0080 002F     		cmp	r7, #0
 3958 0082 53D0     		beq	.L329
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3959              		.loc 1 1232 6 is_stmt 1 view .LVU1277
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3960              		.loc 1 1232 13 is_stmt 0 view .LVU1278
 3961 0084 D4F80C12 		ldr	r1, [r4, #524]
 3962 0088 FFF7FEFF 		bl	create_chain
 3963              	.LVL443:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 3964              		.loc 1 1233 6 is_stmt 1 view .LVU1279
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 3965              		.loc 1 1233 9 is_stmt 0 view .LVU1280
 3966 008c 8146     		mov	r9, r0
 3967 008e 0028     		cmp	r0, #0
 3968 0090 4ED0     		beq	.L330
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 3969              		.loc 1 1234 6 is_stmt 1 view .LVU1281
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 3970              		.loc 1 1234 9 is_stmt 0 view .LVU1282
 3971 0092 0128     		cmp	r0, #1
 3972 0094 4ED0     		beq	.L331
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 3973              		.loc 1 1235 6 is_stmt 1 view .LVU1283
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
ARM GAS  /tmp/ccLzcuV9.s 			page 130


 3974              		.loc 1 1235 9 is_stmt 0 view .LVU1284
 3975 0096 B0F1FF3F 		cmp	r0, #-1
 3976 009a 4DD0     		beq	.L332
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 3977              		.loc 1 1237 6 is_stmt 1 view .LVU1285
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 3978              		.loc 1 1237 10 is_stmt 0 view .LVU1286
 3979 009c D4F80002 		ldr	r0, [r4, #512]
 3980              	.LVL444:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 3981              		.loc 1 1237 10 view .LVU1287
 3982 00a0 FFF7FEFF 		bl	sync_window
 3983              	.LVL445:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 3984              		.loc 1 1237 9 discriminator 1 view .LVU1288
 3985 00a4 08B1     		cbz	r0, .L337
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 3986              		.loc 1 1237 38 discriminator 1 view .LVU1289
 3987 00a6 0120     		movs	r0, #1
 3988 00a8 D2E7     		b	.L318
 3989              	.L337:
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 3990              		.loc 1 1238 6 is_stmt 1 view .LVU1290
 3991 00aa 4FF40072 		mov	r2, #512
 3992 00ae 0021     		movs	r1, #0
 3993 00b0 D4F80002 		ldr	r0, [r4, #512]
 3994 00b4 FFF7FEFF 		bl	mem_set
 3995              	.LVL446:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 3996              		.loc 1 1239 6 view .LVU1291
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 3997              		.loc 1 1239 24 is_stmt 0 view .LVU1292
 3998 00b8 D4F80072 		ldr	r7, [r4, #512]
 3999              	.LVL447:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4000              		.loc 1 1239 24 view .LVU1293
 4001 00bc 4946     		mov	r1, r9
 4002 00be 3846     		mov	r0, r7
 4003 00c0 FFF7FEFF 		bl	clust2sect
 4004              	.LVL448:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4005              		.loc 1 1239 22 discriminator 1 view .LVU1294
 4006 00c4 C7F82C02 		str	r0, [r7, #556]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4007              		.loc 1 1240 6 is_stmt 1 view .LVU1295
 4008              	.LVL449:
 4009              	.L322:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4010              		.loc 1 1240 20 discriminator 1 view .LVU1296
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4011              		.loc 1 1240 24 is_stmt 0 discriminator 1 view .LVU1297
 4012 00c8 D4F80032 		ldr	r3, [r4, #512]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4013              		.loc 1 1240 28 discriminator 1 view .LVU1298
 4014 00cc 93F80222 		ldrb	r2, [r3, #514]	@ zero_extendqisi2
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4015              		.loc 1 1240 20 discriminator 1 view .LVU1299
ARM GAS  /tmp/ccLzcuV9.s 			page 131


 4016 00d0 4245     		cmp	r2, r8
 4017 00d2 11D9     		bls	.L338
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4018              		.loc 1 1241 7 is_stmt 1 view .LVU1300
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4019              		.loc 1 1241 21 is_stmt 0 view .LVU1301
 4020 00d4 0122     		movs	r2, #1
 4021 00d6 83F80422 		strb	r2, [r3, #516]
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4022              		.loc 1 1242 7 is_stmt 1 view .LVU1302
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4023              		.loc 1 1242 11 is_stmt 0 view .LVU1303
 4024 00da D4F80002 		ldr	r0, [r4, #512]
 4025 00de FFF7FEFF 		bl	sync_window
 4026              	.LVL450:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4027              		.loc 1 1242 10 discriminator 1 view .LVU1304
 4028 00e2 58BB     		cbnz	r0, .L334
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4029              		.loc 1 1243 7 is_stmt 1 view .LVU1305
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4030              		.loc 1 1243 9 is_stmt 0 view .LVU1306
 4031 00e4 D4F80022 		ldr	r2, [r4, #512]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4032              		.loc 1 1243 13 view .LVU1307
 4033 00e8 D2F82C32 		ldr	r3, [r2, #556]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4034              		.loc 1 1243 22 view .LVU1308
 4035 00ec 0133     		adds	r3, r3, #1
 4036 00ee C2F82C32 		str	r3, [r2, #556]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4037              		.loc 1 1240 38 is_stmt 1 discriminator 2 view .LVU1309
 4038 00f2 08F10108 		add	r8, r8, #1
 4039              	.LVL451:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4040              		.loc 1 1240 38 is_stmt 0 discriminator 2 view .LVU1310
 4041 00f6 E7E7     		b	.L322
 4042              	.L338:
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4043              		.loc 1 1245 6 is_stmt 1 view .LVU1311
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4044              		.loc 1 1245 12 is_stmt 0 view .LVU1312
 4045 00f8 D3F82C22 		ldr	r2, [r3, #556]
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4046              		.loc 1 1245 22 view .LVU1313
 4047 00fc A2EB0802 		sub	r2, r2, r8
 4048 0100 C3F82C22 		str	r2, [r3, #556]
 4049              	.LVL452:
 4050              	.L321:
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4051              		.loc 1 1251 5 is_stmt 1 view .LVU1314
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4052              		.loc 1 1251 15 is_stmt 0 view .LVU1315
 4053 0104 C4F80C92 		str	r9, [r4, #524]
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4054              		.loc 1 1252 5 is_stmt 1 view .LVU1316
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccLzcuV9.s 			page 132


 4055              		.loc 1 1252 16 is_stmt 0 view .LVU1317
 4056 0108 4946     		mov	r1, r9
 4057 010a D4F80002 		ldr	r0, [r4, #512]
 4058 010e FFF7FEFF 		bl	clust2sect
 4059              	.LVL453:
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4060              		.loc 1 1252 14 discriminator 1 view .LVU1318
 4061 0112 C4F81002 		str	r0, [r4, #528]
 4062 0116 91E7     		b	.L319
 4063              	.LVL454:
 4064              	.L324:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4065              		.loc 1 1215 10 view .LVU1319
 4066 0118 0420     		movs	r0, #4
 4067              	.LVL455:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4068              		.loc 1 1215 10 view .LVU1320
 4069 011a 99E7     		b	.L318
 4070              	.LVL456:
 4071              	.L325:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4072              		.loc 1 1215 10 view .LVU1321
 4073 011c 0420     		movs	r0, #4
 4074              	.LVL457:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4075              		.loc 1 1215 10 view .LVU1322
 4076 011e 97E7     		b	.L318
 4077              	.LVL458:
 4078              	.L336:
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4079              		.loc 1 1222 12 view .LVU1323
 4080 0120 0420     		movs	r0, #4
 4081              	.LVL459:
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4082              		.loc 1 1222 12 view .LVU1324
 4083 0122 95E7     		b	.L318
 4084              	.LVL460:
 4085              	.L327:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4086              		.loc 1 1227 27 discriminator 1 view .LVU1325
 4087 0124 0220     		movs	r0, #2
 4088              	.LVL461:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4089              		.loc 1 1227 27 discriminator 1 view .LVU1326
 4090 0126 93E7     		b	.L318
 4091              	.LVL462:
 4092              	.L328:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4093              		.loc 1 1228 36 discriminator 1 view .LVU1327
 4094 0128 0120     		movs	r0, #1
 4095              	.LVL463:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4096              		.loc 1 1228 36 discriminator 1 view .LVU1328
 4097 012a 91E7     		b	.L318
 4098              	.L329:
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4099              		.loc 1 1231 27 discriminator 1 view .LVU1329
ARM GAS  /tmp/ccLzcuV9.s 			page 133


 4100 012c 0420     		movs	r0, #4
 4101 012e 8FE7     		b	.L318
 4102              	.LVL464:
 4103              	.L330:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4104              		.loc 1 1233 28 discriminator 1 view .LVU1330
 4105 0130 0720     		movs	r0, #7
 4106              	.LVL465:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4107              		.loc 1 1233 28 discriminator 1 view .LVU1331
 4108 0132 8DE7     		b	.L318
 4109              	.LVL466:
 4110              	.L331:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4111              		.loc 1 1234 28 discriminator 1 view .LVU1332
 4112 0134 0220     		movs	r0, #2
 4113              	.LVL467:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4114              		.loc 1 1234 28 discriminator 1 view .LVU1333
 4115 0136 8BE7     		b	.L318
 4116              	.LVL468:
 4117              	.L332:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4118              		.loc 1 1235 37 discriminator 1 view .LVU1334
 4119 0138 0120     		movs	r0, #1
 4120              	.LVL469:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4121              		.loc 1 1235 37 discriminator 1 view .LVU1335
 4122 013a 89E7     		b	.L318
 4123              	.LVL470:
 4124              	.L334:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4125              		.loc 1 1242 39 discriminator 1 view .LVU1336
 4126 013c 0120     		movs	r0, #1
 4127 013e 87E7     		b	.L318
 4128              		.cfi_endproc
 4129              	.LFE84:
 4131              		.section	.text.dir_find,"ax",%progbits
 4132              		.align	1
 4133              		.syntax unified
 4134              		.thumb
 4135              		.thumb_func
 4137              	dir_find:
 4138              	.LVL471:
 4139              	.LFB88:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4140              		.loc 1 1531 1 is_stmt 1 view -0
 4141              		.cfi_startproc
 4142              		@ args = 0, pretend = 0, frame = 0
 4143              		@ frame_needed = 0, uses_anonymous_args = 0
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4144              		.loc 1 1531 1 is_stmt 0 view .LVU1338
 4145 0000 38B5     		push	{r3, r4, r5, lr}
 4146              	.LCFI36:
 4147              		.cfi_def_cfa_offset 16
 4148              		.cfi_offset 3, -16
 4149              		.cfi_offset 4, -12
ARM GAS  /tmp/ccLzcuV9.s 			page 134


 4150              		.cfi_offset 5, -8
 4151              		.cfi_offset 14, -4
 4152 0002 0446     		mov	r4, r0
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
 4153              		.loc 1 1532 2 is_stmt 1 view .LVU1339
1533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4154              		.loc 1 1533 2 view .LVU1340
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4155              		.loc 1 1538 2 view .LVU1341
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4156              		.loc 1 1538 8 is_stmt 0 view .LVU1342
 4157 0004 0021     		movs	r1, #0
 4158 0006 FFF7FEFF 		bl	dir_sdi
 4159              	.LVL472:
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4160              		.loc 1 1539 2 is_stmt 1 view .LVU1343
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4161              		.loc 1 1539 5 is_stmt 0 view .LVU1344
 4162 000a 0546     		mov	r5, r0
 4163 000c 40B1     		cbz	r0, .L342
 4164              	.LVL473:
 4165              	.L340:
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4166              		.loc 1 1579 1 view .LVU1345
 4167 000e 2846     		mov	r0, r5
 4168 0010 38BD     		pop	{r3, r4, r5, pc}
 4169              	.LVL474:
 4170              	.L341:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4171              		.loc 1 1575 3 is_stmt 1 view .LVU1346
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4172              		.loc 1 1575 9 is_stmt 0 view .LVU1347
 4173 0012 0021     		movs	r1, #0
 4174 0014 2046     		mov	r0, r4
 4175 0016 FFF7FEFF 		bl	dir_next
 4176              	.LVL475:
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4177              		.loc 1 1576 15 is_stmt 1 view .LVU1348
 4178 001a 0546     		mov	r5, r0
 4179 001c 0028     		cmp	r0, #0
 4180 001e F6D1     		bne	.L340
 4181              	.LVL476:
 4182              	.L342:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4183              		.loc 1 1544 2 view .LVU1349
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4184              		.loc 1 1545 3 view .LVU1350
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4185              		.loc 1 1545 9 is_stmt 0 view .LVU1351
 4186 0020 D4F81012 		ldr	r1, [r4, #528]
 4187 0024 D4F80002 		ldr	r0, [r4, #512]
 4188              	.LVL477:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4189              		.loc 1 1545 9 view .LVU1352
 4190 0028 FFF7FEFF 		bl	move_window
 4191              	.LVL478:
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
ARM GAS  /tmp/ccLzcuV9.s 			page 135


 4192              		.loc 1 1546 3 is_stmt 1 view .LVU1353
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4193              		.loc 1 1546 6 is_stmt 0 view .LVU1354
 4194 002c 0546     		mov	r5, r0
 4195 002e 0028     		cmp	r0, #0
 4196 0030 EDD1     		bne	.L340
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4197              		.loc 1 1547 3 is_stmt 1 view .LVU1355
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4198              		.loc 1 1547 7 is_stmt 0 view .LVU1356
 4199 0032 D4F81402 		ldr	r0, [r4, #532]
 4200              	.LVL479:
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4201              		.loc 1 1548 3 is_stmt 1 view .LVU1357
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4202              		.loc 1 1548 5 is_stmt 0 view .LVU1358
 4203 0036 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 4204              	.LVL480:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4205              		.loc 1 1549 3 is_stmt 1 view .LVU1359
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4206              		.loc 1 1549 6 is_stmt 0 view .LVU1360
 4207 0038 5BB1     		cbz	r3, .L343
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4208              		.loc 1 1572 3 is_stmt 1 view .LVU1361
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4209              		.loc 1 1572 12 is_stmt 0 view .LVU1362
 4210 003a C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4211              		.loc 1 1572 6 view .LVU1363
 4212 003c 13F0080F 		tst	r3, #8
 4213 0040 E7D1     		bne	.L341
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4214              		.loc 1 1572 37 discriminator 1 view .LVU1364
 4215 0042 0B22     		movs	r2, #11
 4216 0044 D4F81812 		ldr	r1, [r4, #536]
 4217 0048 FFF7FEFF 		bl	mem_cmp
 4218              	.LVL481:
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4219              		.loc 1 1572 33 discriminator 1 view .LVU1365
 4220 004c 0028     		cmp	r0, #0
 4221 004e E0D1     		bne	.L341
 4222 0050 DDE7     		b	.L340
 4223              	.LVL482:
 4224              	.L343:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4225              		.loc 1 1549 21 discriminator 1 view .LVU1366
 4226 0052 0425     		movs	r5, #4
 4227              	.LVL483:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4228              		.loc 1 1549 21 discriminator 1 view .LVU1367
 4229 0054 DBE7     		b	.L340
 4230              		.cfi_endproc
 4231              	.LFE88:
 4233              		.section	.text.follow_path,"ax",%progbits
 4234              		.align	1
 4235              		.syntax unified
ARM GAS  /tmp/ccLzcuV9.s 			page 136


 4236              		.thumb
 4237              		.thumb_func
 4239              	follow_path:
 4240              	.LVL484:
 4241              	.LFB94:
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4242              		.loc 1 2129 1 is_stmt 1 view -0
 4243              		.cfi_startproc
 4244              		@ args = 0, pretend = 0, frame = 8
 4245              		@ frame_needed = 0, uses_anonymous_args = 0
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4246              		.loc 1 2129 1 is_stmt 0 view .LVU1369
 4247 0000 10B5     		push	{r4, lr}
 4248              	.LCFI37:
 4249              		.cfi_def_cfa_offset 8
 4250              		.cfi_offset 4, -8
 4251              		.cfi_offset 14, -4
 4252 0002 82B0     		sub	sp, sp, #8
 4253              	.LCFI38:
 4254              		.cfi_def_cfa_offset 16
 4255 0004 0446     		mov	r4, r0
 4256 0006 0191     		str	r1, [sp, #4]
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
 4257              		.loc 1 2130 2 is_stmt 1 view .LVU1370
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4258              		.loc 1 2131 2 view .LVU1371
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4259              		.loc 1 2141 2 view .LVU1372
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4260              		.loc 1 2141 6 is_stmt 0 view .LVU1373
 4261 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4262              		.loc 1 2141 5 view .LVU1374
 4263 000a 2F2B     		cmp	r3, #47
 4264 000c 01D0     		beq	.L346
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4265              		.loc 1 2141 19 discriminator 1 view .LVU1375
 4266 000e 5C2B     		cmp	r3, #92
 4267 0010 01D1     		bne	.L347
 4268              	.L346:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4269              		.loc 1 2142 3 is_stmt 1 view .LVU1376
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4270              		.loc 1 2142 7 is_stmt 0 view .LVU1377
 4271 0012 0131     		adds	r1, r1, #1
 4272              	.LVL485:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4273              		.loc 1 2142 7 view .LVU1378
 4274 0014 0191     		str	r1, [sp, #4]
 4275              	.LVL486:
 4276              	.L347:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4277              		.loc 1 2143 2 is_stmt 1 view .LVU1379
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4278              		.loc 1 2143 13 is_stmt 0 view .LVU1380
 4279 0016 0023     		movs	r3, #0
 4280 0018 C4F80832 		str	r3, [r4, #520]
ARM GAS  /tmp/ccLzcuV9.s 			page 137


2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4281              		.loc 1 2146 2 is_stmt 1 view .LVU1381
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4282              		.loc 1 2146 12 is_stmt 0 view .LVU1382
 4283 001c 019B     		ldr	r3, [sp, #4]
 4284 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4285              		.loc 1 2146 5 view .LVU1383
 4286 0020 1F2B     		cmp	r3, #31
 4287 0022 1DD9     		bls	.L354
 4288              	.LVL487:
 4289              	.L348:
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4290              		.loc 1 2150 3 is_stmt 1 view .LVU1384
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4291              		.loc 1 2151 4 view .LVU1385
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4292              		.loc 1 2151 10 is_stmt 0 view .LVU1386
 4293 0024 01A9     		add	r1, sp, #4
 4294 0026 2046     		mov	r0, r4
 4295 0028 FFF7FEFF 		bl	create_name
 4296              	.LVL488:
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4297              		.loc 1 2152 4 is_stmt 1 view .LVU1387
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4298              		.loc 1 2152 7 is_stmt 0 view .LVU1388
 4299 002c 0346     		mov	r3, r0
 4300 002e F8B9     		cbnz	r0, .L349
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4301              		.loc 1 2153 4 is_stmt 1 view .LVU1389
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4302              		.loc 1 2153 10 is_stmt 0 view .LVU1390
 4303 0030 2046     		mov	r0, r4
 4304              	.LVL489:
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4305              		.loc 1 2153 10 view .LVU1391
 4306 0032 FFF7FEFF 		bl	dir_find
 4307              	.LVL490:
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4308              		.loc 1 2154 4 is_stmt 1 view .LVU1392
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4309              		.loc 1 2154 11 is_stmt 0 view .LVU1393
 4310 0036 D4F81832 		ldr	r3, [r4, #536]
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4311              		.loc 1 2154 7 view .LVU1394
 4312 003a DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 4313              	.LVL491:
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4314              		.loc 1 2155 4 is_stmt 1 view .LVU1395
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4315              		.loc 1 2155 7 is_stmt 0 view .LVU1396
 4316 003c 0346     		mov	r3, r0
 4317 003e D0B9     		cbnz	r0, .L355
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4318              		.loc 1 2167 4 is_stmt 1 view .LVU1397
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4319              		.loc 1 2167 7 is_stmt 0 view .LVU1398
ARM GAS  /tmp/ccLzcuV9.s 			page 138


 4320 0040 12F0040F 		tst	r2, #4
 4321 0044 14D1     		bne	.L349
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4322              		.loc 1 2168 4 is_stmt 1 view .LVU1399
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4323              		.loc 1 2168 8 is_stmt 0 view .LVU1400
 4324 0046 D4F81412 		ldr	r1, [r4, #532]
 4325              	.LVL492:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4326              		.loc 1 2169 4 is_stmt 1 view .LVU1401
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4327              		.loc 1 2169 13 is_stmt 0 view .LVU1402
 4328 004a CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4329              		.loc 1 2169 7 view .LVU1403
 4330 004c 13F0100F 		tst	r3, #16
 4331 0050 18D0     		beq	.L352
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4332              		.loc 1 2172 4 is_stmt 1 view .LVU1404
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4333              		.loc 1 2172 17 is_stmt 0 view .LVU1405
 4334 0052 D4F80002 		ldr	r0, [r4, #512]
 4335              	.LVL493:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4336              		.loc 1 2172 17 view .LVU1406
 4337 0056 FFF7FEFF 		bl	ld_clust
 4338              	.LVL494:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4339              		.loc 1 2172 15 discriminator 1 view .LVU1407
 4340 005a C4F80802 		str	r0, [r4, #520]
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4341              		.loc 1 2150 3 is_stmt 1 view .LVU1408
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4342              		.loc 1 2151 8 is_stmt 0 view .LVU1409
 4343 005e E1E7     		b	.L348
 4344              	.LVL495:
 4345              	.L354:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4346              		.loc 1 2147 3 is_stmt 1 view .LVU1410
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4347              		.loc 1 2147 9 is_stmt 0 view .LVU1411
 4348 0060 0021     		movs	r1, #0
 4349 0062 2046     		mov	r0, r4
 4350              	.LVL496:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4351              		.loc 1 2147 9 view .LVU1412
 4352 0064 FFF7FEFF 		bl	dir_sdi
 4353              	.LVL497:
 4354 0068 0346     		mov	r3, r0
 4355              	.LVL498:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4356              		.loc 1 2148 3 is_stmt 1 view .LVU1413
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4357              		.loc 1 2148 11 is_stmt 0 view .LVU1414
 4358 006a 0022     		movs	r2, #0
 4359 006c C4F81422 		str	r2, [r4, #532]
 4360              	.LVL499:
ARM GAS  /tmp/ccLzcuV9.s 			page 139


 4361              	.L349:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4362              		.loc 1 2176 2 is_stmt 1 view .LVU1415
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4363              		.loc 1 2177 1 is_stmt 0 view .LVU1416
 4364 0070 1846     		mov	r0, r3
 4365 0072 02B0     		add	sp, sp, #8
 4366              	.LCFI39:
 4367              		.cfi_remember_state
 4368              		.cfi_def_cfa_offset 8
 4369              		@ sp needed
 4370 0074 10BD     		pop	{r4, pc}
 4371              	.LVL500:
 4372              	.L355:
 4373              	.LCFI40:
 4374              		.cfi_restore_state
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4375              		.loc 1 2156 5 is_stmt 1 view .LVU1417
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4376              		.loc 1 2156 8 is_stmt 0 view .LVU1418
 4377 0076 0428     		cmp	r0, #4
 4378 0078 FAD1     		bne	.L349
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
 4379              		.loc 1 2157 6 is_stmt 1 view .LVU1419
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4380              		.loc 1 2162 7 view .LVU1420
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4381              		.loc 1 2162 10 is_stmt 0 view .LVU1421
 4382 007a 12F0040F 		tst	r2, #4
 4383 007e F7D1     		bne	.L349
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4384              		.loc 1 2162 32 discriminator 1 view .LVU1422
 4385 0080 0523     		movs	r3, #5
 4386 0082 F5E7     		b	.L349
 4387              	.LVL501:
 4388              	.L352:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4389              		.loc 1 2170 9 view .LVU1423
 4390 0084 0523     		movs	r3, #5
 4391 0086 F3E7     		b	.L349
 4392              		.cfi_endproc
 4393              	.LFE94:
 4395              		.section	.text.dir_alloc,"ax",%progbits
 4396              		.align	1
 4397              		.syntax unified
 4398              		.thumb
 4399              		.thumb_func
 4401              	dir_alloc:
 4402              	.LVL502:
 4403              	.LFB85:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4404              		.loc 1 1276 1 is_stmt 1 view -0
 4405              		.cfi_startproc
 4406              		@ args = 0, pretend = 0, frame = 0
 4407              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4408              		.loc 1 1276 1 is_stmt 0 view .LVU1425
ARM GAS  /tmp/ccLzcuV9.s 			page 140


 4409 0000 70B5     		push	{r4, r5, r6, lr}
 4410              	.LCFI41:
 4411              		.cfi_def_cfa_offset 16
 4412              		.cfi_offset 4, -16
 4413              		.cfi_offset 5, -12
 4414              		.cfi_offset 6, -8
 4415              		.cfi_offset 14, -4
 4416 0002 0446     		mov	r4, r0
 4417 0004 0E46     		mov	r6, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4418              		.loc 1 1277 2 is_stmt 1 view .LVU1426
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4419              		.loc 1 1278 2 view .LVU1427
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4420              		.loc 1 1281 2 view .LVU1428
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4421              		.loc 1 1281 8 is_stmt 0 view .LVU1429
 4422 0006 0021     		movs	r1, #0
 4423              	.LVL503:
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4424              		.loc 1 1281 8 view .LVU1430
 4425 0008 FFF7FEFF 		bl	dir_sdi
 4426              	.LVL504:
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4427              		.loc 1 1282 2 is_stmt 1 view .LVU1431
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4428              		.loc 1 1282 5 is_stmt 0 view .LVU1432
 4429 000c 0246     		mov	r2, r0
 4430 000e D8B9     		cbnz	r0, .L357
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4431              		.loc 1 1283 5 view .LVU1433
 4432 0010 0025     		movs	r5, #0
 4433 0012 08E0     		b	.L360
 4434              	.LVL505:
 4435              	.L358:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4436              		.loc 1 1288 5 is_stmt 1 view .LVU1434
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4437              		.loc 1 1288 8 is_stmt 0 view .LVU1435
 4438 0014 0135     		adds	r5, r5, #1
 4439              	.LVL506:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4440              		.loc 1 1288 8 view .LVU1436
 4441 0016 B542     		cmp	r5, r6
 4442 0018 16D0     		beq	.L357
 4443              	.LVL507:
 4444              	.L359:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4445              		.loc 1 1292 4 is_stmt 1 view .LVU1437
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4446              		.loc 1 1292 10 is_stmt 0 view .LVU1438
 4447 001a 0121     		movs	r1, #1
 4448 001c 2046     		mov	r0, r4
 4449              	.LVL508:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4450              		.loc 1 1292 10 view .LVU1439
 4451 001e FFF7FEFF 		bl	dir_next
ARM GAS  /tmp/ccLzcuV9.s 			page 141


 4452              	.LVL509:
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4453              		.loc 1 1293 16 is_stmt 1 view .LVU1440
 4454 0022 0246     		mov	r2, r0
 4455 0024 80B9     		cbnz	r0, .L357
 4456              	.LVL510:
 4457              	.L360:
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
 4458              		.loc 1 1284 3 view .LVU1441
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4459              		.loc 1 1285 4 view .LVU1442
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4460              		.loc 1 1285 10 is_stmt 0 view .LVU1443
 4461 0026 D4F81012 		ldr	r1, [r4, #528]
 4462 002a D4F80002 		ldr	r0, [r4, #512]
 4463              	.LVL511:
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4464              		.loc 1 1285 10 view .LVU1444
 4465 002e FFF7FEFF 		bl	move_window
 4466              	.LVL512:
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4467              		.loc 1 1286 4 is_stmt 1 view .LVU1445
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4468              		.loc 1 1286 7 is_stmt 0 view .LVU1446
 4469 0032 0246     		mov	r2, r0
 4470 0034 40B9     		cbnz	r0, .L357
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4471              		.loc 1 1287 4 is_stmt 1 view .LVU1447
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4472              		.loc 1 1287 10 is_stmt 0 view .LVU1448
 4473 0036 D4F81432 		ldr	r3, [r4, #532]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4474              		.loc 1 1287 15 view .LVU1449
 4475 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4476              		.loc 1 1287 7 view .LVU1450
 4477 003c E52B     		cmp	r3, #229
 4478 003e E9D0     		beq	.L358
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4479              		.loc 1 1287 27 discriminator 1 view .LVU1451
 4480 0040 002B     		cmp	r3, #0
 4481 0042 E7D0     		beq	.L358
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4482              		.loc 1 1290 7 view .LVU1452
 4483 0044 0025     		movs	r5, #0
 4484              	.LVL513:
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4485              		.loc 1 1290 7 view .LVU1453
 4486 0046 E8E7     		b	.L359
 4487              	.LVL514:
 4488              	.L357:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4489              		.loc 1 1295 2 is_stmt 1 view .LVU1454
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4490              		.loc 1 1295 5 is_stmt 0 view .LVU1455
 4491 0048 042A     		cmp	r2, #4
 4492 004a 01D0     		beq	.L365
ARM GAS  /tmp/ccLzcuV9.s 			page 142


 4493              	.LVL515:
 4494              	.L361:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4495              		.loc 1 1296 2 is_stmt 1 view .LVU1456
1297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4496              		.loc 1 1297 1 is_stmt 0 view .LVU1457
 4497 004c 1046     		mov	r0, r2
 4498 004e 70BD     		pop	{r4, r5, r6, pc}
 4499              	.LVL516:
 4500              	.L365:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4501              		.loc 1 1295 29 discriminator 1 view .LVU1458
 4502 0050 0722     		movs	r2, #7
 4503              	.LVL517:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4504              		.loc 1 1295 29 discriminator 1 view .LVU1459
 4505 0052 FBE7     		b	.L361
 4506              		.cfi_endproc
 4507              	.LFE85:
 4509              		.section	.text.dir_register,"ax",%progbits
 4510              		.align	1
 4511              		.syntax unified
 4512              		.thumb
 4513              		.thumb_func
 4515              	dir_register:
 4516              	.LVL518:
 4517              	.LFB90:
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4518              		.loc 1 1651 1 is_stmt 1 view -0
 4519              		.cfi_startproc
 4520              		@ args = 0, pretend = 0, frame = 0
 4521              		@ frame_needed = 0, uses_anonymous_args = 0
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4522              		.loc 1 1651 1 is_stmt 0 view .LVU1461
 4523 0000 38B5     		push	{r3, r4, r5, lr}
 4524              	.LCFI42:
 4525              		.cfi_def_cfa_offset 16
 4526              		.cfi_offset 3, -16
 4527              		.cfi_offset 4, -12
 4528              		.cfi_offset 5, -8
 4529              		.cfi_offset 14, -4
 4530 0002 0446     		mov	r4, r0
1652:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4531              		.loc 1 1652 2 is_stmt 1 view .LVU1462
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4532              		.loc 1 1699 2 view .LVU1463
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4533              		.loc 1 1699 8 is_stmt 0 view .LVU1464
 4534 0004 0121     		movs	r1, #1
 4535 0006 FFF7FEFF 		bl	dir_alloc
 4536              	.LVL519:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4537              		.loc 1 1702 2 is_stmt 1 view .LVU1465
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4538              		.loc 1 1702 5 is_stmt 0 view .LVU1466
 4539 000a 0546     		mov	r5, r0
 4540 000c 08B1     		cbz	r0, .L369
ARM GAS  /tmp/ccLzcuV9.s 			page 143


 4541              	.LVL520:
 4542              	.L367:
1714:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4543              		.loc 1 1714 2 is_stmt 1 view .LVU1467
1715:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 4544              		.loc 1 1715 1 is_stmt 0 view .LVU1468
 4545 000e 2846     		mov	r0, r5
 4546 0010 38BD     		pop	{r3, r4, r5, pc}
 4547              	.LVL521:
 4548              	.L369:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4549              		.loc 1 1703 3 is_stmt 1 view .LVU1469
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4550              		.loc 1 1703 9 is_stmt 0 view .LVU1470
 4551 0012 D4F81012 		ldr	r1, [r4, #528]
 4552 0016 D4F80002 		ldr	r0, [r4, #512]
 4553              	.LVL522:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4554              		.loc 1 1703 9 view .LVU1471
 4555 001a FFF7FEFF 		bl	move_window
 4556              	.LVL523:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4557              		.loc 1 1704 3 is_stmt 1 view .LVU1472
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4558              		.loc 1 1704 6 is_stmt 0 view .LVU1473
 4559 001e 0546     		mov	r5, r0
 4560 0020 0028     		cmp	r0, #0
 4561 0022 F4D1     		bne	.L367
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4562              		.loc 1 1705 4 is_stmt 1 view .LVU1474
 4563 0024 2022     		movs	r2, #32
 4564 0026 0021     		movs	r1, #0
 4565 0028 D4F81402 		ldr	r0, [r4, #532]
 4566              	.LVL524:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4567              		.loc 1 1705 4 is_stmt 0 view .LVU1475
 4568 002c FFF7FEFF 		bl	mem_set
 4569              	.LVL525:
1706:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4570              		.loc 1 1706 4 is_stmt 1 view .LVU1476
 4571 0030 0B22     		movs	r2, #11
 4572 0032 D4F81812 		ldr	r1, [r4, #536]
 4573 0036 D4F81402 		ldr	r0, [r4, #532]
 4574 003a FFF7FEFF 		bl	mem_cpy
 4575              	.LVL526:
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4576              		.loc 1 1710 4 view .LVU1477
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4577              		.loc 1 1710 6 is_stmt 0 view .LVU1478
 4578 003e D4F80032 		ldr	r3, [r4, #512]
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4579              		.loc 1 1710 18 view .LVU1479
 4580 0042 0122     		movs	r2, #1
 4581 0044 83F80422 		strb	r2, [r3, #516]
 4582 0048 E1E7     		b	.L367
 4583              		.cfi_endproc
 4584              	.LFE90:
ARM GAS  /tmp/ccLzcuV9.s 			page 144


 4586              		.section	.text.dir_read,"ax",%progbits
 4587              		.align	1
 4588              		.syntax unified
 4589              		.thumb
 4590              		.thumb_func
 4592              	dir_read:
 4593              	.LVL527:
 4594              	.LFB89:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4595              		.loc 1 1593 1 is_stmt 1 view -0
 4596              		.cfi_startproc
 4597              		@ args = 0, pretend = 0, frame = 0
 4598              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4599              		.loc 1 1593 1 is_stmt 0 view .LVU1481
 4600 0000 70B5     		push	{r4, r5, r6, lr}
 4601              	.LCFI43:
 4602              		.cfi_def_cfa_offset 16
 4603              		.cfi_offset 4, -16
 4604              		.cfi_offset 5, -12
 4605              		.cfi_offset 6, -8
 4606              		.cfi_offset 14, -4
 4607 0002 0446     		mov	r4, r0
 4608 0004 0D46     		mov	r5, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
 4609              		.loc 1 1594 2 is_stmt 1 view .LVU1482
1595:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4610              		.loc 1 1595 2 view .LVU1483
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 4611              		.loc 1 1600 2 view .LVU1484
 4612              	.LVL528:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4613              		.loc 1 1601 2 view .LVU1485
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 4614              		.loc 1 1600 6 is_stmt 0 view .LVU1486
 4615 0006 0426     		movs	r6, #4
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4616              		.loc 1 1601 8 view .LVU1487
 4617 0008 05E0     		b	.L371
 4618              	.LVL529:
 4619              	.L373:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4620              		.loc 1 1630 3 is_stmt 1 view .LVU1488
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4621              		.loc 1 1630 9 is_stmt 0 view .LVU1489
 4622 000a 0021     		movs	r1, #0
 4623 000c 2046     		mov	r0, r4
 4624              	.LVL530:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4625              		.loc 1 1630 9 view .LVU1490
 4626 000e FFF7FEFF 		bl	dir_next
 4627              	.LVL531:
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4628              		.loc 1 1631 3 is_stmt 1 view .LVU1491
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4629              		.loc 1 1631 6 is_stmt 0 view .LVU1492
 4630 0012 0646     		mov	r6, r0
ARM GAS  /tmp/ccLzcuV9.s 			page 145


 4631 0014 F8B9     		cbnz	r0, .L372
 4632              	.LVL532:
 4633              	.L371:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4634              		.loc 1 1601 9 is_stmt 1 view .LVU1493
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4635              		.loc 1 1601 11 is_stmt 0 view .LVU1494
 4636 0016 D4F81012 		ldr	r1, [r4, #528]
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4637              		.loc 1 1601 9 view .LVU1495
 4638 001a E1B1     		cbz	r1, .L372
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4639              		.loc 1 1602 3 is_stmt 1 view .LVU1496
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4640              		.loc 1 1602 9 is_stmt 0 view .LVU1497
 4641 001c D4F80002 		ldr	r0, [r4, #512]
 4642 0020 FFF7FEFF 		bl	move_window
 4643              	.LVL533:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4644              		.loc 1 1603 3 is_stmt 1 view .LVU1498
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4645              		.loc 1 1603 6 is_stmt 0 view .LVU1499
 4646 0024 0646     		mov	r6, r0
 4647 0026 B0B9     		cbnz	r0, .L372
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4648              		.loc 1 1604 3 is_stmt 1 view .LVU1500
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4649              		.loc 1 1604 7 is_stmt 0 view .LVU1501
 4650 0028 D4F81432 		ldr	r3, [r4, #532]
 4651              	.LVL534:
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4652              		.loc 1 1605 3 is_stmt 1 view .LVU1502
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4653              		.loc 1 1605 5 is_stmt 0 view .LVU1503
 4654 002c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4655              	.LVL535:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4656              		.loc 1 1606 3 is_stmt 1 view .LVU1504
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4657              		.loc 1 1606 6 is_stmt 0 view .LVU1505
 4658 002e 8AB1     		cbz	r2, .L376
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4659              		.loc 1 1607 3 is_stmt 1 view .LVU1506
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4660              		.loc 1 1607 10 is_stmt 0 view .LVU1507
 4661 0030 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4662              	.LVL536:
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4663              		.loc 1 1607 5 view .LVU1508
 4664 0032 03F03F03 		and	r3, r3, #63
 4665              	.LVL537:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4666              		.loc 1 1627 3 is_stmt 1 view .LVU1509
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4667              		.loc 1 1627 6 is_stmt 0 view .LVU1510
 4668 0036 E52A     		cmp	r2, #229
 4669 0038 E7D0     		beq	.L373
ARM GAS  /tmp/ccLzcuV9.s 			page 146


1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4670              		.loc 1 1627 17 discriminator 1 view .LVU1511
 4671 003a 2E2A     		cmp	r2, #46
 4672 003c E5D0     		beq	.L373
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4673              		.loc 1 1627 44 discriminator 2 view .LVU1512
 4674 003e 0F2B     		cmp	r3, #15
 4675 0040 E3D0     		beq	.L373
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4676              		.loc 1 1627 71 discriminator 3 view .LVU1513
 4677 0042 23F02003 		bic	r3, r3, #32
 4678              	.LVL538:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4679              		.loc 1 1627 62 discriminator 3 view .LVU1514
 4680 0046 082B     		cmp	r3, #8
 4681 0048 14BF     		ite	ne
 4682 004a 0023     		movne	r3, #0
 4683 004c 0123     		moveq	r3, #1
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4684              		.loc 1 1627 59 discriminator 3 view .LVU1515
 4685 004e AB42     		cmp	r3, r5
 4686 0050 DBD1     		bne	.L373
 4687 0052 00E0     		b	.L372
 4688              	.LVL539:
 4689              	.L376:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 4690              		.loc 1 1606 21 discriminator 1 view .LVU1516
 4691 0054 0426     		movs	r6, #4
 4692              	.LVL540:
 4693              	.L372:
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4694              		.loc 1 1634 2 is_stmt 1 view .LVU1517
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4695              		.loc 1 1634 5 is_stmt 0 view .LVU1518
 4696 0056 16B1     		cbz	r6, .L375
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4697              		.loc 1 1634 20 is_stmt 1 discriminator 1 view .LVU1519
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4698              		.loc 1 1634 29 is_stmt 0 discriminator 1 view .LVU1520
 4699 0058 0023     		movs	r3, #0
 4700 005a C4F81032 		str	r3, [r4, #528]
 4701              	.L375:
1636:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4702              		.loc 1 1636 2 is_stmt 1 view .LVU1521
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 4703              		.loc 1 1637 1 is_stmt 0 view .LVU1522
 4704 005e 3046     		mov	r0, r6
 4705 0060 70BD     		pop	{r4, r5, r6, pc}
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 4706              		.loc 1 1637 1 view .LVU1523
 4707              		.cfi_endproc
 4708              	.LFE89:
 4710              		.section	.text.remove_chain,"ax",%progbits
 4711              		.align	1
 4712              		.syntax unified
 4713              		.thumb
 4714              		.thumb_func
ARM GAS  /tmp/ccLzcuV9.s 			page 147


 4716              	remove_chain:
 4717              	.LVL541:
 4718              	.LFB80:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4719              		.loc 1 1014 1 is_stmt 1 view -0
 4720              		.cfi_startproc
 4721              		@ args = 0, pretend = 0, frame = 0
 4722              		@ frame_needed = 0, uses_anonymous_args = 0
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4723              		.loc 1 1014 1 is_stmt 0 view .LVU1525
 4724 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4725              	.LCFI44:
 4726              		.cfi_def_cfa_offset 24
 4727              		.cfi_offset 3, -24
 4728              		.cfi_offset 4, -20
 4729              		.cfi_offset 5, -16
 4730              		.cfi_offset 6, -12
 4731              		.cfi_offset 7, -8
 4732              		.cfi_offset 14, -4
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 4733              		.loc 1 1015 2 is_stmt 1 view .LVU1526
1016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 4734              		.loc 1 1016 2 view .LVU1527
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4735              		.loc 1 1021 2 view .LVU1528
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4736              		.loc 1 1021 5 is_stmt 0 view .LVU1529
 4737 0002 0129     		cmp	r1, #1
 4738 0004 2DD9     		bls	.L383
 4739 0006 0446     		mov	r4, r0
 4740 0008 0D46     		mov	r5, r1
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4741              		.loc 1 1021 28 discriminator 1 view .LVU1530
 4742 000a D0F81432 		ldr	r3, [r0, #532]
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 4743              		.loc 1 1021 15 discriminator 1 view .LVU1531
 4744 000e 8B42     		cmp	r3, r1
 4745 0010 2AD9     		bls	.L384
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
 4746              		.loc 1 1025 7 view .LVU1532
 4747 0012 0027     		movs	r7, #0
 4748 0014 00E0     		b	.L380
 4749              	.LVL542:
 4750              	.L381:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4751              		.loc 1 1014 1 view .LVU1533
 4752 0016 3546     		mov	r5, r6
 4753              	.LVL543:
 4754              	.L380:
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4755              		.loc 1 1026 15 is_stmt 1 view .LVU1534
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4756              		.loc 1 1026 19 is_stmt 0 view .LVU1535
 4757 0018 D4F81432 		ldr	r3, [r4, #532]
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 4758              		.loc 1 1026 15 view .LVU1536
 4759 001c AB42     		cmp	r3, r5
ARM GAS  /tmp/ccLzcuV9.s 			page 148


 4760 001e 21D9     		bls	.L379
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 4761              		.loc 1 1027 4 is_stmt 1 view .LVU1537
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 4762              		.loc 1 1027 10 is_stmt 0 view .LVU1538
 4763 0020 2946     		mov	r1, r5
 4764 0022 2046     		mov	r0, r4
 4765 0024 FFF7FEFF 		bl	get_fat
 4766              	.LVL544:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 4767              		.loc 1 1028 4 is_stmt 1 view .LVU1539
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 4768              		.loc 1 1028 7 is_stmt 0 view .LVU1540
 4769 0028 0646     		mov	r6, r0
 4770 002a D8B1     		cbz	r0, .L379
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4771              		.loc 1 1029 4 is_stmt 1 view .LVU1541
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4772              		.loc 1 1029 7 is_stmt 0 view .LVU1542
 4773 002c 0128     		cmp	r0, #1
 4774 002e 1DD0     		beq	.L385
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4775              		.loc 1 1030 4 is_stmt 1 view .LVU1543
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4776              		.loc 1 1030 7 is_stmt 0 view .LVU1544
 4777 0030 B0F1FF3F 		cmp	r0, #-1
 4778 0034 1CD0     		beq	.L386
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4779              		.loc 1 1031 4 is_stmt 1 view .LVU1545
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4780              		.loc 1 1031 10 is_stmt 0 view .LVU1546
 4781 0036 0022     		movs	r2, #0
 4782 0038 2946     		mov	r1, r5
 4783 003a 2046     		mov	r0, r4
 4784              	.LVL545:
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4785              		.loc 1 1031 10 view .LVU1547
 4786 003c FFF7FEFF 		bl	put_fat
 4787              	.LVL546:
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 4788              		.loc 1 1032 4 is_stmt 1 view .LVU1548
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 4789              		.loc 1 1032 7 is_stmt 0 view .LVU1549
 4790 0040 0746     		mov	r7, r0
 4791 0042 78B9     		cbnz	r0, .L379
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4792              		.loc 1 1033 4 is_stmt 1 view .LVU1550
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4793              		.loc 1 1033 10 is_stmt 0 view .LVU1551
 4794 0044 D4F81032 		ldr	r3, [r4, #528]
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 4795              		.loc 1 1033 7 view .LVU1552
 4796 0048 B3F1FF3F 		cmp	r3, #-1
 4797 004c E3D0     		beq	.L381
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 4798              		.loc 1 1034 5 is_stmt 1 view .LVU1553
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
ARM GAS  /tmp/ccLzcuV9.s 			page 149


 4799              		.loc 1 1034 19 is_stmt 0 view .LVU1554
 4800 004e 0133     		adds	r3, r3, #1
 4801 0050 C4F81032 		str	r3, [r4, #528]
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4802              		.loc 1 1035 5 is_stmt 1 view .LVU1555
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4803              		.loc 1 1035 7 is_stmt 0 view .LVU1556
 4804 0054 94F80532 		ldrb	r3, [r4, #517]	@ zero_extendqisi2
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4805              		.loc 1 1035 18 view .LVU1557
 4806 0058 43F00103 		orr	r3, r3, #1
 4807 005c 84F80532 		strb	r3, [r4, #517]
 4808 0060 D9E7     		b	.L381
 4809              	.LVL547:
 4810              	.L383:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4811              		.loc 1 1022 7 view .LVU1558
 4812 0062 0227     		movs	r7, #2
 4813              	.LVL548:
 4814              	.L379:
1051:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4815              		.loc 1 1051 2 is_stmt 1 view .LVU1559
1052:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4816              		.loc 1 1052 1 is_stmt 0 view .LVU1560
 4817 0064 3846     		mov	r0, r7
 4818 0066 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4819              	.LVL549:
 4820              	.L384:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4821              		.loc 1 1022 7 view .LVU1561
 4822 0068 0227     		movs	r7, #2
 4823 006a FBE7     		b	.L379
 4824              	.LVL550:
 4825              	.L385:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4826              		.loc 1 1029 24 discriminator 1 view .LVU1562
 4827 006c 0227     		movs	r7, #2
 4828              	.LVL551:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 4829              		.loc 1 1029 24 discriminator 1 view .LVU1563
 4830 006e F9E7     		b	.L379
 4831              	.LVL552:
 4832              	.L386:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4833              		.loc 1 1030 33 discriminator 1 view .LVU1564
 4834 0070 0127     		movs	r7, #1
 4835              	.LVL553:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 4836              		.loc 1 1030 33 discriminator 1 view .LVU1565
 4837 0072 F7E7     		b	.L379
 4838              		.cfi_endproc
 4839              	.LFE80:
 4841              		.section	.text.f_mount,"ax",%progbits
 4842              		.align	1
 4843              		.global	f_mount
 4844              		.syntax unified
 4845              		.thumb
ARM GAS  /tmp/ccLzcuV9.s 			page 150


 4846              		.thumb_func
 4848              	f_mount:
 4849              	.LVL554:
 4850              	.LFB99:
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** 
2462:Middlewares/Third_Party/FatFs/src/ff.c **** 
2463:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 
2465:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 
2467:Middlewares/Third_Party/FatFs/src/ff.c **** --------------------------------------------------------------------------*/
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 
2471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
2473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 
2475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
2478:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* 0:Do not mount (delayed mount), 1:Mount immediately */
2479:Middlewares/Third_Party/FatFs/src/ff.c **** )
2480:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4851              		.loc 1 2480 1 is_stmt 1 view -0
 4852              		.cfi_startproc
 4853              		@ args = 0, pretend = 0, frame = 16
 4854              		@ frame_needed = 0, uses_anonymous_args = 0
 4855              		.loc 1 2480 1 is_stmt 0 view .LVU1567
 4856 0000 70B5     		push	{r4, r5, r6, lr}
 4857              	.LCFI45:
 4858              		.cfi_def_cfa_offset 16
 4859              		.cfi_offset 4, -16
 4860              		.cfi_offset 5, -12
 4861              		.cfi_offset 6, -8
 4862              		.cfi_offset 14, -4
 4863 0002 84B0     		sub	sp, sp, #16
 4864              	.LCFI46:
 4865              		.cfi_def_cfa_offset 32
 4866 0004 0190     		str	r0, [sp, #4]
 4867 0006 0091     		str	r1, [sp]
 4868 0008 1646     		mov	r6, r2
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 4869              		.loc 1 2481 2 is_stmt 1 view .LVU1568
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 4870              		.loc 1 2482 2 view .LVU1569
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4871              		.loc 1 2483 2 view .LVU1570
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 4872              		.loc 1 2484 2 view .LVU1571
 4873              		.loc 1 2484 15 is_stmt 0 view .LVU1572
 4874 000a 0391     		str	r1, [sp, #12]
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
ARM GAS  /tmp/ccLzcuV9.s 			page 151


 4875              		.loc 1 2487 2 is_stmt 1 view .LVU1573
 4876              		.loc 1 2487 8 is_stmt 0 view .LVU1574
 4877 000c 03A8     		add	r0, sp, #12
 4878              	.LVL555:
 4879              		.loc 1 2487 8 view .LVU1575
 4880 000e FFF7FEFF 		bl	get_ldnumber
 4881              	.LVL556:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 4882              		.loc 1 2488 2 is_stmt 1 view .LVU1576
 4883              		.loc 1 2488 5 is_stmt 0 view .LVU1577
 4884 0012 041E     		subs	r4, r0, #0
 4885 0014 1DDB     		blt	.L392
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 4886              		.loc 1 2489 2 is_stmt 1 view .LVU1578
 4887              		.loc 1 2489 6 is_stmt 0 view .LVU1579
 4888 0016 114B     		ldr	r3, .L397
 4889 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 4890              	.LVL557:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 4891              		.loc 1 2491 2 is_stmt 1 view .LVU1580
 4892              		.loc 1 2491 5 is_stmt 0 view .LVU1581
 4893 001c 2DB1     		cbz	r5, .L390
2492:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
 4894              		.loc 1 2493 3 is_stmt 1 view .LVU1582
 4895 001e 2846     		mov	r0, r5
 4896              	.LVL558:
 4897              		.loc 1 2493 3 is_stmt 0 view .LVU1583
 4898 0020 FFF7FEFF 		bl	clear_lock
 4899              	.LVL559:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2495:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
2496:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
2497:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 4900              		.loc 1 2498 3 is_stmt 1 view .LVU1584
 4901              		.loc 1 2498 16 is_stmt 0 view .LVU1585
 4902 0024 0023     		movs	r3, #0
 4903 0026 85F80032 		strb	r3, [r5, #512]
 4904              	.L390:
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 4905              		.loc 1 2501 2 is_stmt 1 view .LVU1586
 4906              		.loc 1 2501 6 is_stmt 0 view .LVU1587
 4907 002a 019B     		ldr	r3, [sp, #4]
 4908              		.loc 1 2501 5 view .LVU1588
 4909 002c 13B1     		cbz	r3, .L391
2502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 4910              		.loc 1 2502 3 is_stmt 1 view .LVU1589
 4911              		.loc 1 2502 15 is_stmt 0 view .LVU1590
 4912 002e 0022     		movs	r2, #0
 4913 0030 83F80022 		strb	r2, [r3, #512]
 4914              	.L391:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
ARM GAS  /tmp/ccLzcuV9.s 			page 152


2505:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 4915              		.loc 1 2507 2 is_stmt 1 view .LVU1591
 4916              		.loc 1 2507 13 is_stmt 0 view .LVU1592
 4917 0034 094A     		ldr	r2, .L397
 4918 0036 42F82430 		str	r3, [r2, r4, lsl #2]
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 4919              		.loc 1 2509 2 is_stmt 1 view .LVU1593
 4920              		.loc 1 2509 5 is_stmt 0 view .LVU1594
 4921 003a 63B1     		cbz	r3, .L393
 4922              		.loc 1 2509 10 discriminator 2 view .LVU1595
 4923 003c 012E     		cmp	r6, #1
 4924 003e 02D0     		beq	.L396
 4925              		.loc 1 2509 30 discriminator 3 view .LVU1596
 4926 0040 0020     		movs	r0, #0
 4927              	.LVL560:
 4928              	.L389:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);	/* Force mounted the volume */
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
2513:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4929              		.loc 1 2513 1 view .LVU1597
 4930 0042 04B0     		add	sp, sp, #16
 4931              	.LCFI47:
 4932              		.cfi_remember_state
 4933              		.cfi_def_cfa_offset 16
 4934              		@ sp needed
 4935 0044 70BD     		pop	{r4, r5, r6, pc}
 4936              	.LVL561:
 4937              	.L396:
 4938              	.LCFI48:
 4939              		.cfi_restore_state
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 4940              		.loc 1 2511 2 is_stmt 1 view .LVU1598
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 4941              		.loc 1 2511 8 is_stmt 0 view .LVU1599
 4942 0046 0022     		movs	r2, #0
 4943 0048 6946     		mov	r1, sp
 4944 004a 01A8     		add	r0, sp, #4
 4945 004c FFF7FEFF 		bl	find_volume
 4946              	.LVL562:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4947              		.loc 1 2512 2 is_stmt 1 view .LVU1600
 4948 0050 F7E7     		b	.L389
 4949              	.LVL563:
 4950              	.L392:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 4951              		.loc 1 2488 22 is_stmt 0 discriminator 1 view .LVU1601
 4952 0052 0B20     		movs	r0, #11
 4953              	.LVL564:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 4954              		.loc 1 2488 22 discriminator 1 view .LVU1602
 4955 0054 F5E7     		b	.L389
 4956              	.LVL565:
 4957              	.L393:
ARM GAS  /tmp/ccLzcuV9.s 			page 153


2509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4958              		.loc 1 2509 30 discriminator 3 view .LVU1603
 4959 0056 0020     		movs	r0, #0
 4960 0058 F3E7     		b	.L389
 4961              	.L398:
 4962 005a 00BF     		.align	2
 4963              	.L397:
 4964 005c 00000000 		.word	FatFs
 4965              		.cfi_endproc
 4966              	.LFE99:
 4968              		.section	.text.f_open,"ax",%progbits
 4969              		.align	1
 4970              		.global	f_open
 4971              		.syntax unified
 4972              		.thumb
 4973              		.thumb_func
 4975              	f_open:
 4976              	.LVL566:
 4977              	.LFB100:
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2519:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
2520:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 
2522:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
2526:Middlewares/Third_Party/FatFs/src/ff.c **** )
2527:Middlewares/Third_Party/FatFs/src/ff.c **** {
 4978              		.loc 1 2527 1 is_stmt 1 view -0
 4979              		.cfi_startproc
 4980              		@ args = 0, pretend = 0, frame = 568
 4981              		@ frame_needed = 0, uses_anonymous_args = 0
 4982              		.loc 1 2527 1 is_stmt 0 view .LVU1605
 4983 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 4984              	.LCFI49:
 4985              		.cfi_def_cfa_offset 28
 4986              		.cfi_offset 4, -28
 4987              		.cfi_offset 5, -24
 4988              		.cfi_offset 6, -20
 4989              		.cfi_offset 7, -16
 4990              		.cfi_offset 8, -12
 4991              		.cfi_offset 9, -8
 4992              		.cfi_offset 14, -4
 4993 0004 ADF50F7D 		sub	sp, sp, #572
 4994              	.LCFI50:
 4995              		.cfi_def_cfa_offset 600
 4996 0008 0191     		str	r1, [sp, #4]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4997              		.loc 1 2528 2 is_stmt 1 view .LVU1606
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 4998              		.loc 1 2529 2 view .LVU1607
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
ARM GAS  /tmp/ccLzcuV9.s 			page 154


 4999              		.loc 1 2530 2 view .LVU1608
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 5000              		.loc 1 2531 2 view .LVU1609
2532:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl;
 5001              		.loc 1 2533 2 view .LVU1610
2534:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** 
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 5002              		.loc 1 2537 2 view .LVU1611
 5003              		.loc 1 2537 5 is_stmt 0 view .LVU1612
 5004 000a 0028     		cmp	r0, #0
 5005 000c 00F0E580 		beq	.L408
 5006 0010 1446     		mov	r4, r2
 5007 0012 0646     		mov	r6, r0
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5008              		.loc 1 2538 2 is_stmt 1 view .LVU1613
 5009              		.loc 1 2538 9 is_stmt 0 view .LVU1614
 5010 0014 0023     		movs	r3, #0
 5011 0016 C0F80032 		str	r3, [r0, #512]
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2541:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2542:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW;
 5012              		.loc 1 2542 2 is_stmt 1 view .LVU1615
 5013              		.loc 1 2542 7 is_stmt 0 view .LVU1616
 5014 001a 02F01F08 		and	r8, r2, #31
 5015              	.LVL567:
2543:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, (BYTE)(mode & ~FA_READ));
 5016              		.loc 1 2543 2 is_stmt 1 view .LVU1617
 5017              		.loc 1 2543 8 is_stmt 0 view .LVU1618
 5018 001e 02F01E07 		and	r7, r2, #30
 5019 0022 3A46     		mov	r2, r7
 5020 0024 01A9     		add	r1, sp, #4
 5021              	.LVL568:
 5022              		.loc 1 2543 8 view .LVU1619
 5023 0026 86A8     		add	r0, sp, #536
 5024              	.LVL569:
 5025              		.loc 1 2543 8 view .LVU1620
 5026 0028 FFF7FEFF 		bl	find_volume
 5027              	.LVL570:
2544:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2545:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ;
2546:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2547:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2548:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5028              		.loc 1 2548 2 is_stmt 1 view .LVU1621
 5029              		.loc 1 2548 5 is_stmt 0 view .LVU1622
 5030 002c 0546     		mov	r5, r0
 5031 002e 20B1     		cbz	r0, .L417
 5032              	.LVL571:
 5033              	.L400:
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
ARM GAS  /tmp/ccLzcuV9.s 			page 155


2553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2557:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2559:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2566:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
2567:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
2569:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
2576:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW)	/* Cannot create as new file */
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Follow succeeded */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2607:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccLzcuV9.s 			page 156


2610:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
2613:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
2614:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
2617:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2618:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 
2620:Middlewares/Third_Party/FatFs/src/ff.c **** #else				/* R/O configuration */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow succeeded */
2622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
2623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Current directory itself */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR)	/* It is a directory */
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2630:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
2640:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;						/* Normal seek mode */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fs = dj.fs;	 					/* Validate file object */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 
2648:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
2649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5034              		.loc 1 2649 1 view .LVU1623
 5035 0030 2846     		mov	r0, r5
 5036 0032 0DF50F7D 		add	sp, sp, #572
 5037              	.LCFI51:
 5038              		.cfi_remember_state
 5039              		.cfi_def_cfa_offset 28
 5040              		@ sp needed
 5041 0036 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5042              	.LVL572:
 5043              	.L417:
 5044              	.LCFI52:
 5045              		.cfi_restore_state
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5046              		.loc 1 2549 3 is_stmt 1 view .LVU1624
 5047 003a 03AB     		add	r3, sp, #12
 5048 003c 8C93     		str	r3, [sp, #560]
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
ARM GAS  /tmp/ccLzcuV9.s 			page 157


 5049              		.loc 1 2550 3 view .LVU1625
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5050              		.loc 1 2550 9 is_stmt 0 view .LVU1626
 5051 003e 0199     		ldr	r1, [sp, #4]
 5052 0040 06A8     		add	r0, sp, #24
 5053              	.LVL573:
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5054              		.loc 1 2550 9 view .LVU1627
 5055 0042 FFF7FEFF 		bl	follow_path
 5056              	.LVL574:
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5057              		.loc 1 2551 3 is_stmt 1 view .LVU1628
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5058              		.loc 1 2551 7 is_stmt 0 view .LVU1629
 5059 0046 DDF82C92 		ldr	r9, [sp, #556]
 5060              	.LVL575:
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5061              		.loc 1 2553 3 is_stmt 1 view .LVU1630
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5062              		.loc 1 2553 6 is_stmt 0 view .LVU1631
 5063 004a 0546     		mov	r5, r0
 5064 004c 48B9     		cbnz	r0, .L401
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5065              		.loc 1 2554 4 is_stmt 1 view .LVU1632
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5066              		.loc 1 2554 7 is_stmt 0 view .LVU1633
 5067 004e B9F1000F 		cmp	r9, #0
 5068 0052 5AD0     		beq	.L409
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5069              		.loc 1 2558 5 is_stmt 1 view .LVU1634
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5070              		.loc 1 2558 11 is_stmt 0 view .LVU1635
 5071 0054 391E     		subs	r1, r7, #0
 5072 0056 18BF     		it	ne
 5073 0058 0121     		movne	r1, #1
 5074 005a 06A8     		add	r0, sp, #24
 5075              	.LVL576:
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5076              		.loc 1 2558 11 view .LVU1636
 5077 005c FFF7FEFF 		bl	chk_lock
 5078              	.LVL577:
 5079 0060 0546     		mov	r5, r0
 5080              	.LVL578:
 5081              	.L401:
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5082              		.loc 1 2562 3 is_stmt 1 view .LVU1637
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5083              		.loc 1 2562 6 is_stmt 0 view .LVU1638
 5084 0062 14F01C0F 		tst	r4, #28
 5085 0066 00F0A480 		beq	.L402
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5086              		.loc 1 2563 4 is_stmt 1 view .LVU1639
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5087              		.loc 1 2563 7 is_stmt 0 view .LVU1640
 5088 006a 002D     		cmp	r5, #0
 5089 006c 59D0     		beq	.L403
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
ARM GAS  /tmp/ccLzcuV9.s 			page 158


 5090              		.loc 1 2564 5 is_stmt 1 view .LVU1641
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5091              		.loc 1 2564 8 is_stmt 0 view .LVU1642
 5092 006e 042D     		cmp	r5, #4
 5093 0070 4DD0     		beq	.L418
 5094              	.LVL579:
 5095              	.L404:
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5096              		.loc 1 2570 5 is_stmt 1 view .LVU1643
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5097              		.loc 1 2570 10 is_stmt 0 view .LVU1644
 5098 0072 48F00808 		orr	r8, r8, #8
 5099              	.LVL580:
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5100              		.loc 1 2571 5 is_stmt 1 view .LVU1645
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5101              		.loc 1 2571 9 is_stmt 0 view .LVU1646
 5102 0076 DDF82C92 		ldr	r9, [sp, #556]
 5103              	.LVL581:
 5104              	.L405:
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5105              		.loc 1 2581 4 is_stmt 1 view .LVU1647
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5106              		.loc 1 2581 7 is_stmt 0 view .LVU1648
 5107 007a 15B9     		cbnz	r5, .L406
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5108              		.loc 1 2581 21 discriminator 1 view .LVU1649
 5109 007c 18F0080F 		tst	r8, #8
 5110 0080 5BD1     		bne	.L419
 5111              	.LVL582:
 5112              	.L406:
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5113              		.loc 1 2609 3 is_stmt 1 view .LVU1650
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5114              		.loc 1 2609 6 is_stmt 0 view .LVU1651
 5115 0082 002D     		cmp	r5, #0
 5116 0084 D4D1     		bne	.L400
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5117              		.loc 1 2610 4 is_stmt 1 view .LVU1652
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5118              		.loc 1 2610 7 is_stmt 0 view .LVU1653
 5119 0086 18F0080F 		tst	r8, #8
 5120 008a 01D0     		beq	.L407
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5121              		.loc 1 2611 5 is_stmt 1 view .LVU1654
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5122              		.loc 1 2611 10 is_stmt 0 view .LVU1655
 5123 008c 48F02008 		orr	r8, r8, #32
 5124              	.LVL583:
 5125              	.L407:
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5126              		.loc 1 2612 4 is_stmt 1 view .LVU1656
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5127              		.loc 1 2612 21 is_stmt 0 view .LVU1657
 5128 0090 869B     		ldr	r3, [sp, #536]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5129              		.loc 1 2612 24 view .LVU1658
ARM GAS  /tmp/ccLzcuV9.s 			page 159


 5130 0092 D3F82C32 		ldr	r3, [r3, #556]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5131              		.loc 1 2612 17 view .LVU1659
 5132 0096 C6F81C32 		str	r3, [r6, #540]
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5133              		.loc 1 2613 4 is_stmt 1 view .LVU1660
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5134              		.loc 1 2613 16 is_stmt 0 view .LVU1661
 5135 009a C6F82092 		str	r9, [r6, #544]
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5136              		.loc 1 2615 4 is_stmt 1 view .LVU1662
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5137              		.loc 1 2615 17 is_stmt 0 view .LVU1663
 5138 009e B8F1010F 		cmp	r8, #1
 5139 00a2 94BF     		ite	ls
 5140 00a4 0021     		movls	r1, #0
 5141 00a6 0121     		movhi	r1, #1
 5142 00a8 06A8     		add	r0, sp, #24
 5143 00aa FFF7FEFF 		bl	inc_lock
 5144              	.LVL584:
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5145              		.loc 1 2615 15 discriminator 1 view .LVU1664
 5146 00ae C6F82802 		str	r0, [r6, #552]
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5147              		.loc 1 2616 4 is_stmt 1 view .LVU1665
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5148              		.loc 1 2616 7 is_stmt 0 view .LVU1666
 5149 00b2 0028     		cmp	r0, #0
 5150 00b4 00F09380 		beq	.L415
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5151              		.loc 1 2631 13 is_stmt 1 view .LVU1667
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 5152              		.loc 1 2633 3 view .LVU1668
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5153              		.loc 1 2634 4 view .LVU1669
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5154              		.loc 1 2634 13 is_stmt 0 view .LVU1670
 5155 00b8 86F80682 		strb	r8, [r6, #518]
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5156              		.loc 1 2635 4 is_stmt 1 view .LVU1671
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5157              		.loc 1 2635 12 is_stmt 0 view .LVU1672
 5158 00bc 0024     		movs	r4, #0
 5159 00be 86F80742 		strb	r4, [r6, #519]
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5160              		.loc 1 2636 4 is_stmt 1 view .LVU1673
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5161              		.loc 1 2636 17 is_stmt 0 view .LVU1674
 5162 00c2 869F     		ldr	r7, [sp, #536]
 5163 00c4 4946     		mov	r1, r9
 5164 00c6 3846     		mov	r0, r7
 5165 00c8 FFF7FEFF 		bl	ld_clust
 5166              	.LVL585:
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5167              		.loc 1 2636 15 discriminator 1 view .LVU1675
 5168 00cc C6F81002 		str	r0, [r6, #528]
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
ARM GAS  /tmp/ccLzcuV9.s 			page 160


 5169              		.loc 1 2637 4 is_stmt 1 view .LVU1676
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5170              		.loc 1 2637 16 is_stmt 0 view .LVU1677
 5171 00d0 99F81F20 		ldrb	r2, [r9, #31]	@ zero_extendqisi2
 5172 00d4 99F81E30 		ldrb	r3, [r9, #30]	@ zero_extendqisi2
 5173 00d8 1B04     		lsls	r3, r3, #16
 5174 00da 43EA0263 		orr	r3, r3, r2, lsl #24
 5175 00de 99F81D20 		ldrb	r2, [r9, #29]	@ zero_extendqisi2
 5176 00e2 43EA0223 		orr	r3, r3, r2, lsl #8
 5177 00e6 99F81C20 		ldrb	r2, [r9, #28]	@ zero_extendqisi2
 5178 00ea 1343     		orrs	r3, r3, r2
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5179              		.loc 1 2637 14 view .LVU1678
 5180 00ec C6F80C32 		str	r3, [r6, #524]
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5181              		.loc 1 2638 4 is_stmt 1 view .LVU1679
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5182              		.loc 1 2638 13 is_stmt 0 view .LVU1680
 5183 00f0 C6F80842 		str	r4, [r6, #520]
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5184              		.loc 1 2639 4 is_stmt 1 view .LVU1681
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5185              		.loc 1 2639 14 is_stmt 0 view .LVU1682
 5186 00f4 C6F81842 		str	r4, [r6, #536]
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5187              		.loc 1 2641 4 is_stmt 1 view .LVU1683
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5188              		.loc 1 2641 14 is_stmt 0 view .LVU1684
 5189 00f8 C6F82442 		str	r4, [r6, #548]
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5190              		.loc 1 2643 4 is_stmt 1 view .LVU1685
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5191              		.loc 1 2643 11 is_stmt 0 view .LVU1686
 5192 00fc C6F80072 		str	r7, [r6, #512]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5193              		.loc 1 2644 4 is_stmt 1 view .LVU1687
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5194              		.loc 1 2644 19 is_stmt 0 view .LVU1688
 5195 0100 B7F80632 		ldrh	r3, [r7, #518]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5196              		.loc 1 2644 11 view .LVU1689
 5197 0104 A6F80432 		strh	r3, [r6, #516]	@ movhi
 5198 0108 92E7     		b	.L400
 5199              	.LVL586:
 5200              	.L409:
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5201              		.loc 1 2555 9 view .LVU1690
 5202 010a 0625     		movs	r5, #6
 5203 010c A9E7     		b	.L401
 5204              	.LVL587:
 5205              	.L418:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5206              		.loc 1 2566 6 is_stmt 1 view .LVU1691
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5207              		.loc 1 2566 12 is_stmt 0 view .LVU1692
 5208 010e FFF7FEFF 		bl	enq_lock
 5209              	.LVL588:
ARM GAS  /tmp/ccLzcuV9.s 			page 161


2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5210              		.loc 1 2566 43 discriminator 1 view .LVU1693
 5211 0112 08B9     		cbnz	r0, .L420
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5212              		.loc 1 2566 43 discriminator 2 view .LVU1694
 5213 0114 1225     		movs	r5, #18
 5214              	.LVL589:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5215              		.loc 1 2566 43 discriminator 2 view .LVU1695
 5216 0116 ACE7     		b	.L404
 5217              	.LVL590:
 5218              	.L420:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5219              		.loc 1 2566 25 discriminator 1 view .LVU1696
 5220 0118 06A8     		add	r0, sp, #24
 5221 011a FFF7FEFF 		bl	dir_register
 5222              	.LVL591:
 5223 011e 0546     		mov	r5, r0
 5224              	.LVL592:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5225              		.loc 1 2566 25 discriminator 1 view .LVU1697
 5226 0120 A7E7     		b	.L404
 5227              	.LVL593:
 5228              	.L403:
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5229              		.loc 1 2574 5 is_stmt 1 view .LVU1698
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5230              		.loc 1 2574 12 is_stmt 0 view .LVU1699
 5231 0122 99F80B30 		ldrb	r3, [r9, #11]	@ zero_extendqisi2
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5232              		.loc 1 2574 8 view .LVU1700
 5233 0126 13F0110F 		tst	r3, #17
 5234 012a 04D1     		bne	.L411
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5235              		.loc 1 2577 6 is_stmt 1 view .LVU1701
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5236              		.loc 1 2577 9 is_stmt 0 view .LVU1702
 5237 012c 14F0040F 		tst	r4, #4
 5238 0130 A3D0     		beq	.L405
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5239              		.loc 1 2578 11 view .LVU1703
 5240 0132 0825     		movs	r5, #8
 5241              	.LVL594:
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5242              		.loc 1 2578 11 view .LVU1704
 5243 0134 A1E7     		b	.L405
 5244              	.LVL595:
 5245              	.L411:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5246              		.loc 1 2575 10 view .LVU1705
 5247 0136 0725     		movs	r5, #7
 5248              	.LVL596:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5249              		.loc 1 2575 10 view .LVU1706
 5250 0138 9FE7     		b	.L405
 5251              	.LVL597:
 5252              	.L419:
ARM GAS  /tmp/ccLzcuV9.s 			page 162


2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5253              		.loc 1 2582 5 is_stmt 1 view .LVU1707
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5254              		.loc 1 2582 10 is_stmt 0 view .LVU1708
 5255 013a FFF7FEFF 		bl	get_fattime
 5256              	.LVL598:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5257              		.loc 1 2583 5 is_stmt 1 view .LVU1709
 5258 013e 89F80E00 		strb	r0, [r9, #14]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5259              		.loc 1 2583 5 view .LVU1710
 5260 0142 C0F30723 		ubfx	r3, r0, #8, #8
 5261 0146 89F80F30 		strb	r3, [r9, #15]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5262              		.loc 1 2583 5 view .LVU1711
 5263 014a C0F30743 		ubfx	r3, r0, #16, #8
 5264 014e 89F81030 		strb	r3, [r9, #16]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5265              		.loc 1 2583 5 view .LVU1712
 5266 0152 000E     		lsrs	r0, r0, #24
 5267              	.LVL599:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5268              		.loc 1 2583 5 is_stmt 0 view .LVU1713
 5269 0154 89F81100 		strb	r0, [r9, #17]
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5270              		.loc 1 2584 5 is_stmt 1 view .LVU1714
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5271              		.loc 1 2584 19 is_stmt 0 view .LVU1715
 5272 0158 0024     		movs	r4, #0
 5273 015a 89F80B40 		strb	r4, [r9, #11]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5274              		.loc 1 2585 5 is_stmt 1 view .LVU1716
 5275 015e 89F81C40 		strb	r4, [r9, #28]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5276              		.loc 1 2585 5 view .LVU1717
 5277 0162 89F81D40 		strb	r4, [r9, #29]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5278              		.loc 1 2585 5 view .LVU1718
 5279 0166 89F81E40 		strb	r4, [r9, #30]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5280              		.loc 1 2585 5 view .LVU1719
 5281 016a 89F81F40 		strb	r4, [r9, #31]
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5282              		.loc 1 2586 5 view .LVU1720
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5283              		.loc 1 2586 10 is_stmt 0 view .LVU1721
 5284 016e 4946     		mov	r1, r9
 5285 0170 8698     		ldr	r0, [sp, #536]
 5286 0172 FFF7FEFF 		bl	ld_clust
 5287              	.LVL600:
 5288 0176 0746     		mov	r7, r0
 5289              	.LVL601:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5290              		.loc 1 2587 5 is_stmt 1 view .LVU1722
 5291 0178 2146     		mov	r1, r4
 5292 017a 4846     		mov	r0, r9
 5293              	.LVL602:
ARM GAS  /tmp/ccLzcuV9.s 			page 163


2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5294              		.loc 1 2587 5 is_stmt 0 view .LVU1723
 5295 017c FFF7FEFF 		bl	st_clust
 5296              	.LVL603:
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5297              		.loc 1 2588 5 is_stmt 1 view .LVU1724
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5298              		.loc 1 2588 7 is_stmt 0 view .LVU1725
 5299 0180 8698     		ldr	r0, [sp, #536]
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5300              		.loc 1 2588 18 view .LVU1726
 5301 0182 0123     		movs	r3, #1
 5302 0184 80F80432 		strb	r3, [r0, #516]
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5303              		.loc 1 2589 5 is_stmt 1 view .LVU1727
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5304              		.loc 1 2589 8 is_stmt 0 view .LVU1728
 5305 0188 002F     		cmp	r7, #0
 5306 018a 3FF47AAF 		beq	.L406
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5307              		.loc 1 2590 6 is_stmt 1 view .LVU1729
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5308              		.loc 1 2590 9 is_stmt 0 view .LVU1730
 5309 018e D0F82C42 		ldr	r4, [r0, #556]
 5310              	.LVL604:
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5311              		.loc 1 2591 6 is_stmt 1 view .LVU1731
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5312              		.loc 1 2591 12 is_stmt 0 view .LVU1732
 5313 0192 3946     		mov	r1, r7
 5314 0194 FFF7FEFF 		bl	remove_chain
 5315              	.LVL605:
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5316              		.loc 1 2592 6 is_stmt 1 view .LVU1733
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5317              		.loc 1 2592 9 is_stmt 0 view .LVU1734
 5318 0198 0546     		mov	r5, r0
 5319 019a 0028     		cmp	r0, #0
 5320 019c 7FF471AF 		bne	.L406
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5321              		.loc 1 2593 7 is_stmt 1 view .LVU1735
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5322              		.loc 1 2593 9 is_stmt 0 view .LVU1736
 5323 01a0 8698     		ldr	r0, [sp, #536]
 5324              	.LVL606:
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5325              		.loc 1 2593 30 view .LVU1737
 5326 01a2 013F     		subs	r7, r7, #1
 5327              	.LVL607:
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5328              		.loc 1 2593 25 view .LVU1738
 5329 01a4 C0F80C72 		str	r7, [r0, #524]
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5330              		.loc 1 2594 7 is_stmt 1 view .LVU1739
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5331              		.loc 1 2594 13 is_stmt 0 view .LVU1740
 5332 01a8 2146     		mov	r1, r4
ARM GAS  /tmp/ccLzcuV9.s 			page 164


 5333 01aa FFF7FEFF 		bl	move_window
 5334              	.LVL608:
 5335 01ae 0546     		mov	r5, r0
 5336              	.LVL609:
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5337              		.loc 1 2594 13 view .LVU1741
 5338 01b0 67E7     		b	.L406
 5339              	.LVL610:
 5340              	.L402:
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5341              		.loc 1 2600 4 is_stmt 1 view .LVU1742
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5342              		.loc 1 2600 7 is_stmt 0 view .LVU1743
 5343 01b2 002D     		cmp	r5, #0
 5344 01b4 7FF465AF 		bne	.L406
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5345              		.loc 1 2601 5 is_stmt 1 view .LVU1744
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5346              		.loc 1 2601 12 is_stmt 0 view .LVU1745
 5347 01b8 99F80B30 		ldrb	r3, [r9, #11]	@ zero_extendqisi2
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5348              		.loc 1 2601 8 view .LVU1746
 5349 01bc 13F0100F 		tst	r3, #16
 5350 01c0 09D1     		bne	.L413
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5351              		.loc 1 2604 6 is_stmt 1 view .LVU1747
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5352              		.loc 1 2604 9 is_stmt 0 view .LVU1748
 5353 01c2 14F0020F 		tst	r4, #2
 5354 01c6 3FF45CAF 		beq	.L406
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5355              		.loc 1 2604 28 discriminator 1 view .LVU1749
 5356 01ca 13F0010F 		tst	r3, #1
 5357 01ce 3FF458AF 		beq	.L406
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5358              		.loc 1 2605 11 view .LVU1750
 5359 01d2 0725     		movs	r5, #7
 5360              	.LVL611:
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5361              		.loc 1 2605 11 view .LVU1751
 5362 01d4 55E7     		b	.L406
 5363              	.LVL612:
 5364              	.L413:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5365              		.loc 1 2602 10 view .LVU1752
 5366 01d6 0425     		movs	r5, #4
 5367              	.LVL613:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5368              		.loc 1 2602 10 view .LVU1753
 5369 01d8 53E7     		b	.L406
 5370              	.LVL614:
 5371              	.L408:
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5372              		.loc 1 2537 18 discriminator 1 view .LVU1754
 5373 01da 0925     		movs	r5, #9
 5374 01dc 28E7     		b	.L400
 5375              	.LVL615:
ARM GAS  /tmp/ccLzcuV9.s 			page 165


 5376              	.L415:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5377              		.loc 1 2616 25 discriminator 1 view .LVU1755
 5378 01de 0225     		movs	r5, #2
 5379              	.LVL616:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5380              		.loc 1 2616 25 discriminator 1 view .LVU1756
 5381 01e0 26E7     		b	.L400
 5382              		.cfi_endproc
 5383              	.LFE100:
 5385              		.section	.text.f_read,"ax",%progbits
 5386              		.align	1
 5387              		.global	f_read
 5388              		.syntax unified
 5389              		.thumb
 5390              		.thumb_func
 5392              	f_read:
 5393              	.LVL617:
 5394              	.LFB101:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 
2654:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2655:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
2656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 
2658:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 		/* Pointer to the file object */
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,		/* Pointer to data buffer */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,		/* Number of bytes to read */
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br		/* Pointer to number of bytes read */
2663:Middlewares/Third_Party/FatFs/src/ff.c **** )
2664:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5395              		.loc 1 2664 1 is_stmt 1 view -0
 5396              		.cfi_startproc
 5397              		@ args = 0, pretend = 0, frame = 8
 5398              		@ frame_needed = 0, uses_anonymous_args = 0
 5399              		.loc 1 2664 1 is_stmt 0 view .LVU1758
 5400 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5401              	.LCFI53:
 5402              		.cfi_def_cfa_offset 36
 5403              		.cfi_offset 4, -36
 5404              		.cfi_offset 5, -32
 5405              		.cfi_offset 6, -28
 5406              		.cfi_offset 7, -24
 5407              		.cfi_offset 8, -20
 5408              		.cfi_offset 9, -16
 5409              		.cfi_offset 10, -12
 5410              		.cfi_offset 11, -8
 5411              		.cfi_offset 14, -4
 5412 0004 83B0     		sub	sp, sp, #12
 5413              	.LCFI54:
 5414              		.cfi_def_cfa_offset 48
 5415 0006 0446     		mov	r4, r0
 5416 0008 0F46     		mov	r7, r1
 5417 000a 1646     		mov	r6, r2
ARM GAS  /tmp/ccLzcuV9.s 			page 166


 5418 000c 9846     		mov	r8, r3
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5419              		.loc 1 2665 2 is_stmt 1 view .LVU1759
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect, remain;
 5420              		.loc 1 2666 2 view .LVU1760
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc;
 5421              		.loc 1 2667 2 view .LVU1761
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect, *rbuff = (BYTE*)buff;
 5422              		.loc 1 2668 2 view .LVU1762
 5423              	.LVL618:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 5424              		.loc 1 2671 2 view .LVU1763
 5425              		.loc 1 2671 6 is_stmt 0 view .LVU1764
 5426 000e 0023     		movs	r3, #0
 5427              	.LVL619:
 5428              		.loc 1 2671 6 view .LVU1765
 5429 0010 C8F80030 		str	r3, [r8]
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);							/* Check validity */
 5430              		.loc 1 2673 2 is_stmt 1 view .LVU1766
 5431              		.loc 1 2673 8 is_stmt 0 view .LVU1767
 5432 0014 FFF7FEFF 		bl	validate
 5433              	.LVL620:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5434              		.loc 1 2674 2 is_stmt 1 view .LVU1768
 5435              		.loc 1 2674 5 is_stmt 0 view .LVU1769
 5436 0018 0190     		str	r0, [sp, #4]
 5437 001a 0028     		cmp	r0, #0
 5438 001c 40F0D180 		bne	.L422
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)								/* Check error */
 5439              		.loc 1 2675 2 is_stmt 1 view .LVU1770
 5440              		.loc 1 2675 8 is_stmt 0 view .LVU1771
 5441 0020 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
 5442 0024 0193     		str	r3, [sp, #4]
 5443              		.loc 1 2675 5 view .LVU1772
 5444 0026 002B     		cmp	r3, #0
 5445 0028 40F0CB80 		bne	.L422
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) 					/* Check access mode */
 5446              		.loc 1 2677 2 is_stmt 1 view .LVU1773
 5447              		.loc 1 2677 10 is_stmt 0 view .LVU1774
 5448 002c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5449              		.loc 1 2677 5 view .LVU1775
 5450 0030 13F0010F 		tst	r3, #1
 5451 0034 00F0D780 		beq	.L444
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5452              		.loc 1 2679 2 is_stmt 1 view .LVU1776
 5453              		.loc 1 2679 13 is_stmt 0 view .LVU1777
 5454 0038 D4F80C52 		ldr	r5, [r4, #524]
 5455              		.loc 1 2679 25 view .LVU1778
 5456 003c D4F80832 		ldr	r3, [r4, #520]
 5457              		.loc 1 2679 9 view .LVU1779
 5458 0040 ED1A     		subs	r5, r5, r3
 5459              	.LVL621:
ARM GAS  /tmp/ccLzcuV9.s 			page 167


2680:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5460              		.loc 1 2680 2 is_stmt 1 view .LVU1780
 5461              		.loc 1 2680 5 is_stmt 0 view .LVU1781
 5462 0042 B542     		cmp	r5, r6
 5463 0044 76D3     		bcc	.L442
 5464 0046 3546     		mov	r5, r6
 5465              	.LVL622:
 5466              		.loc 1 2680 5 view .LVU1782
 5467 0048 74E0     		b	.L442
 5468              	.LVL623:
 5469              	.L427:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
2690:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 5470              		.loc 1 2691 6 is_stmt 1 view .LVU1783
 5471              		.loc 1 2691 12 is_stmt 0 view .LVU1784
 5472 004a D4F82432 		ldr	r3, [r4, #548]
 5473              		.loc 1 2691 9 view .LVU1785
 5474 004e 1BB1     		cbz	r3, .L429
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5475              		.loc 1 2692 7 is_stmt 1 view .LVU1786
 5476              		.loc 1 2692 14 is_stmt 0 view .LVU1787
 5477 0050 2046     		mov	r0, r4
 5478 0052 FFF7FEFF 		bl	clmt_clust
 5479              	.LVL624:
 5480              		.loc 1 2692 14 view .LVU1788
 5481 0056 83E0     		b	.L428
 5482              	.LVL625:
 5483              	.L429:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2694:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, fp->clust);	/* Follow cluster chain on the FAT */
 5484              		.loc 1 2695 7 is_stmt 1 view .LVU1789
 5485              		.loc 1 2695 14 is_stmt 0 view .LVU1790
 5486 0058 D4F81412 		ldr	r1, [r4, #532]
 5487 005c FFF7FEFF 		bl	get_fat
 5488              	.LVL626:
 5489              		.loc 1 2695 14 view .LVU1791
 5490 0060 7EE0     		b	.L428
 5491              	.L451:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fp->fs, FR_INT_ERR);
 5492              		.loc 1 2697 19 is_stmt 1 discriminator 1 view .LVU1792
 5493 0062 4FF0020A 		mov	r10, #2
 5494 0066 84F807A2 		strb	r10, [r4, #519]
 5495              		.loc 1 2697 19 discriminator 1 view .LVU1793
 5496 006a CDF804A0 		str	r10, [sp, #4]
 5497              		.loc 1 2697 19 is_stmt 0 view .LVU1794
 5498 006e A8E0     		b	.L422
ARM GAS  /tmp/ccLzcuV9.s 			page 168


 5499              	.L452:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5500              		.loc 1 2698 29 is_stmt 1 discriminator 1 view .LVU1795
 5501 0070 4FF0010A 		mov	r10, #1
 5502 0074 84F807A2 		strb	r10, [r4, #519]
 5503              		.loc 1 2698 29 discriminator 1 view .LVU1796
 5504 0078 CDF804A0 		str	r10, [sp, #4]
 5505              		.loc 1 2698 29 is_stmt 0 view .LVU1797
 5506 007c A1E0     		b	.L422
 5507              	.LVL627:
 5508              	.L453:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5509              		.loc 1 2702 15 is_stmt 1 discriminator 1 view .LVU1798
 5510 007e 4FF0020A 		mov	r10, #2
 5511 0082 84F807A2 		strb	r10, [r4, #519]
 5512              		.loc 1 2702 15 discriminator 1 view .LVU1799
 5513 0086 CDF804A0 		str	r10, [sp, #4]
 5514              		.loc 1 2702 15 is_stmt 0 view .LVU1800
 5515 008a 9AE0     		b	.L422
 5516              	.LVL628:
 5517              	.L435:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5518              		.loc 1 2709 32 is_stmt 1 view .LVU1801
2710:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
2711:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->wflag && fp->fs->winsect - sect < cc)
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), fp->fs->win.d8, SS(fp->fs));
2714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA__DIRTY) && fp->dsect - sect < cc)
 5519              		.loc 1 2715 5 view .LVU1802
 5520              		.loc 1 2715 12 is_stmt 0 view .LVU1803
 5521 008c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5522              		.loc 1 2715 8 view .LVU1804
 5523 0090 13F0400F 		tst	r3, #64
 5524 0094 05D0     		beq	.L436
 5525              		.loc 1 2715 37 discriminator 1 view .LVU1805
 5526 0096 D4F81802 		ldr	r0, [r4, #536]
 5527              		.loc 1 2715 45 discriminator 1 view .LVU1806
 5528 009a A0EB0900 		sub	r0, r0, r9
 5529              		.loc 1 2715 32 discriminator 1 view .LVU1807
 5530 009e 5045     		cmp	r0, r10
 5531 00a0 02D3     		bcc	.L448
 5532              	.L436:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
2717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2718:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fp->fs) * cc;			/* Number of bytes transferred */
 5533              		.loc 1 2719 5 is_stmt 1 view .LVU1808
ARM GAS  /tmp/ccLzcuV9.s 			page 169


 5534              		.loc 1 2719 10 is_stmt 0 view .LVU1809
 5535 00a2 4FEA4A26 		lsl	r6, r10, #9
 5536              	.LVL629:
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5537              		.loc 1 2720 5 is_stmt 1 view .LVU1810
 5538 00a6 39E0     		b	.L437
 5539              	.LVL630:
 5540              	.L448:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5541              		.loc 1 2716 6 view .LVU1811
 5542 00a8 4FF40072 		mov	r2, #512
 5543 00ac 2146     		mov	r1, r4
 5544 00ae 07EB4020 		add	r0, r7, r0, lsl #9
 5545 00b2 FFF7FEFF 		bl	mem_cpy
 5546              	.LVL631:
 5547 00b6 F4E7     		b	.L436
 5548              	.L433:
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {			/* Load data sector if not in cache */
 5549              		.loc 1 2723 4 view .LVU1812
 5550              		.loc 1 2723 10 is_stmt 0 view .LVU1813
 5551 00b8 D4F81822 		ldr	r2, [r4, #536]
 5552              		.loc 1 2723 7 view .LVU1814
 5553 00bc 4A45     		cmp	r2, r9
 5554 00be 1DD0     		beq	.L438
2724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
 5555              		.loc 1 2725 5 is_stmt 1 view .LVU1815
 5556              		.loc 1 2725 11 is_stmt 0 view .LVU1816
 5557 00c0 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5558              		.loc 1 2725 8 view .LVU1817
 5559 00c4 13F0400F 		tst	r3, #64
 5560 00c8 0DD0     		beq	.L439
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 5561              		.loc 1 2726 6 is_stmt 1 view .LVU1818
 5562              		.loc 1 2726 10 is_stmt 0 view .LVU1819
 5563 00ca 0123     		movs	r3, #1
 5564 00cc 2146     		mov	r1, r4
 5565 00ce 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 5566 00d2 FFF7FEFF 		bl	disk_write
 5567              	.LVL632:
 5568              		.loc 1 2726 9 discriminator 1 view .LVU1820
 5569 00d6 0028     		cmp	r0, #0
 5570 00d8 77D1     		bne	.L449
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 5571              		.loc 1 2727 33 is_stmt 1 view .LVU1821
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5572              		.loc 1 2728 6 view .LVU1822
 5573              		.loc 1 2728 8 is_stmt 0 view .LVU1823
 5574 00da 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5575              		.loc 1 2728 15 view .LVU1824
 5576 00de 23F04003 		bic	r3, r3, #64
 5577 00e2 84F80632 		strb	r3, [r4, #518]
 5578              	.L439:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2730:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccLzcuV9.s 			page 170


2731:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)	/* Fill sector cache */
 5579              		.loc 1 2731 5 is_stmt 1 view .LVU1825
 5580              		.loc 1 2731 21 is_stmt 0 view .LVU1826
 5581 00e6 D4F80002 		ldr	r0, [r4, #512]
 5582              		.loc 1 2731 9 view .LVU1827
 5583 00ea 0123     		movs	r3, #1
 5584 00ec 4A46     		mov	r2, r9
 5585 00ee 2146     		mov	r1, r4
 5586 00f0 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 5587 00f4 FFF7FEFF 		bl	disk_read
 5588              	.LVL633:
 5589              		.loc 1 2731 8 discriminator 1 view .LVU1828
 5590 00f8 0028     		cmp	r0, #0
 5591 00fa 6DD1     		bne	.L450
 5592              	.L438:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5593              		.loc 1 2732 32 is_stmt 1 view .LVU1829
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2734:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
 5594              		.loc 1 2735 4 view .LVU1830
 5595              		.loc 1 2735 14 is_stmt 0 view .LVU1831
 5596 00fc C4F81892 		str	r9, [r4, #536]
 5597              	.LVL634:
 5598              	.L425:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));	/* Get partial sector data from sector buffer 
 5599              		.loc 1 2737 3 is_stmt 1 view .LVU1832
 5600              		.loc 1 2737 32 is_stmt 0 view .LVU1833
 5601 0100 D4F80812 		ldr	r1, [r4, #520]
 5602              		.loc 1 2737 39 view .LVU1834
 5603 0104 C1F30801 		ubfx	r1, r1, #0, #9
 5604              		.loc 1 2737 8 view .LVU1835
 5605 0108 C1F50076 		rsb	r6, r1, #512
 5606              	.LVL635:
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;
 5607              		.loc 1 2738 3 is_stmt 1 view .LVU1836
 5608              		.loc 1 2738 6 is_stmt 0 view .LVU1837
 5609 010c B542     		cmp	r5, r6
 5610 010e 00D2     		bcs	.L441
 5611              		.loc 1 2738 24 discriminator 1 view .LVU1838
 5612 0110 2E46     		mov	r6, r5
 5613              	.LVL636:
 5614              	.L441:
2739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)		/* Move sector window */
2741:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->fs->win.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
2743:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->buf.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
 5615              		.loc 1 2744 3 is_stmt 1 view .LVU1839
 5616 0112 3246     		mov	r2, r6
 5617 0114 2144     		add	r1, r1, r4
 5618 0116 3846     		mov	r0, r7
 5619 0118 FFF7FEFF 		bl	mem_cpy
 5620              	.LVL637:
 5621              	.L437:
ARM GAS  /tmp/ccLzcuV9.s 			page 171


2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5622              		.loc 1 2683 47 view .LVU1840
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5623              		.loc 1 2683 9 is_stmt 0 view .LVU1841
 5624 011c 3744     		add	r7, r7, r6
 5625              	.LVL638:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5626              		.loc 1 2683 20 view .LVU1842
 5627 011e D4F80832 		ldr	r3, [r4, #520]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5628              		.loc 1 2683 27 view .LVU1843
 5629 0122 3344     		add	r3, r3, r6
 5630 0124 C4F80832 		str	r3, [r4, #520]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5631              		.loc 1 2683 36 view .LVU1844
 5632 0128 D8F80030 		ldr	r3, [r8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5633              		.loc 1 2683 40 view .LVU1845
 5634 012c 3344     		add	r3, r3, r6
 5635 012e C8F80030 		str	r3, [r8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 5636              		.loc 1 2683 53 view .LVU1846
 5637 0132 AD1B     		subs	r5, r5, r6
 5638              	.LVL639:
 5639              	.L442:
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 5640              		.loc 1 2682 11 is_stmt 1 view .LVU1847
 5641 0134 002D     		cmp	r5, #0
 5642 0136 44D0     		beq	.L422
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5643              		.loc 1 2684 3 view .LVU1848
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5644              		.loc 1 2684 10 is_stmt 0 view .LVU1849
 5645 0138 D4F80812 		ldr	r1, [r4, #520]
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5646              		.loc 1 2684 17 view .LVU1850
 5647 013c C1F30803 		ubfx	r3, r1, #0, #9
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 5648              		.loc 1 2684 6 view .LVU1851
 5649 0140 002B     		cmp	r3, #0
 5650 0142 DDD1     		bne	.L425
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5651              		.loc 1 2685 4 is_stmt 1 view .LVU1852
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5652              		.loc 1 2685 46 is_stmt 0 view .LVU1853
 5653 0144 D4F80002 		ldr	r0, [r4, #512]
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5654              		.loc 1 2685 50 view .LVU1854
 5655 0148 90F80262 		ldrb	r6, [r0, #514]	@ zero_extendqisi2
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 5656              		.loc 1 2685 58 view .LVU1855
 5657 014c 013E     		subs	r6, r6, #1
 5658 014e F6B2     		uxtb	r6, r6
 5659              	.LVL640:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5660              		.loc 1 2686 4 is_stmt 1 view .LVU1856
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
ARM GAS  /tmp/ccLzcuV9.s 			page 172


 5661              		.loc 1 2686 7 is_stmt 0 view .LVU1857
 5662 0150 16EA5126 		ands	r6, r6, r1, lsr #9
 5663              	.LVL641:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5664              		.loc 1 2686 7 view .LVU1858
 5665 0154 0CD1     		bne	.L426
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 5666              		.loc 1 2687 5 is_stmt 1 view .LVU1859
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 5667              		.loc 1 2687 8 is_stmt 0 view .LVU1860
 5668 0156 0029     		cmp	r1, #0
 5669 0158 7FF477AF 		bne	.L427
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 5670              		.loc 1 2688 6 is_stmt 1 view .LVU1861
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 5671              		.loc 1 2688 11 is_stmt 0 view .LVU1862
 5672 015c D4F81002 		ldr	r0, [r4, #528]
 5673              	.LVL642:
 5674              	.L428:
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5675              		.loc 1 2697 5 is_stmt 1 view .LVU1863
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5676              		.loc 1 2697 8 is_stmt 0 view .LVU1864
 5677 0160 0128     		cmp	r0, #1
 5678 0162 7FF67EAF 		bls	.L451
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5679              		.loc 1 2697 44 is_stmt 1 discriminator 2 view .LVU1865
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5680              		.loc 1 2698 5 view .LVU1866
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5681              		.loc 1 2698 8 is_stmt 0 view .LVU1867
 5682 0166 B0F1FF3F 		cmp	r0, #-1
 5683 016a 81D0     		beq	.L452
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5684              		.loc 1 2698 55 is_stmt 1 discriminator 2 view .LVU1868
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5685              		.loc 1 2699 5 view .LVU1869
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5686              		.loc 1 2699 15 is_stmt 0 view .LVU1870
 5687 016c C4F81402 		str	r0, [r4, #532]
 5688              	.LVL643:
 5689              	.L426:
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5690              		.loc 1 2701 4 is_stmt 1 view .LVU1871
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5691              		.loc 1 2701 11 is_stmt 0 view .LVU1872
 5692 0170 D4F800B2 		ldr	fp, [r4, #512]
 5693 0174 D4F81412 		ldr	r1, [r4, #532]
 5694 0178 5846     		mov	r0, fp
 5695 017a FFF7FEFF 		bl	clust2sect
 5696              	.LVL644:
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5697              		.loc 1 2702 4 is_stmt 1 view .LVU1873
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5698              		.loc 1 2702 7 is_stmt 0 view .LVU1874
 5699 017e 8146     		mov	r9, r0
 5700 0180 0028     		cmp	r0, #0
ARM GAS  /tmp/ccLzcuV9.s 			page 173


 5701 0182 3FF47CAF 		beq	.L453
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5702              		.loc 1 2702 40 is_stmt 1 discriminator 2 view .LVU1875
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 5703              		.loc 1 2703 4 view .LVU1876
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 5704              		.loc 1 2703 9 is_stmt 0 view .LVU1877
 5705 0186 B144     		add	r9, r9, r6
 5706              	.LVL645:
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5707              		.loc 1 2704 4 is_stmt 1 view .LVU1878
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5708              		.loc 1 2704 7 is_stmt 0 view .LVU1879
 5709 0188 4FEA552A 		lsr	r10, r5, #9
 5710              	.LVL646:
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 5711              		.loc 1 2705 4 is_stmt 1 view .LVU1880
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 5712              		.loc 1 2705 7 is_stmt 0 view .LVU1881
 5713 018c B5F5007F 		cmp	r5, #512
 5714 0190 92D3     		bcc	.L433
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5715              		.loc 1 2706 5 is_stmt 1 view .LVU1882
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5716              		.loc 1 2706 15 is_stmt 0 view .LVU1883
 5717 0192 06EB0A03 		add	r3, r6, r10
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5718              		.loc 1 2706 28 view .LVU1884
 5719 0196 9BF80222 		ldrb	r2, [fp, #514]	@ zero_extendqisi2
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5720              		.loc 1 2706 8 view .LVU1885
 5721 019a 9342     		cmp	r3, r2
 5722 019c 01D9     		bls	.L434
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 5723              		.loc 1 2707 6 is_stmt 1 view .LVU1886
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 5724              		.loc 1 2707 25 is_stmt 0 view .LVU1887
 5725 019e A2EB060A 		sub	r10, r2, r6
 5726              	.LVL647:
 5727              	.L434:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5728              		.loc 1 2708 5 is_stmt 1 view .LVU1888
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5729              		.loc 1 2708 9 is_stmt 0 view .LVU1889
 5730 01a2 5346     		mov	r3, r10
 5731 01a4 4A46     		mov	r2, r9
 5732 01a6 3946     		mov	r1, r7
 5733 01a8 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 5734 01ac FFF7FEFF 		bl	disk_read
 5735              	.LVL648:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5736              		.loc 1 2708 8 discriminator 1 view .LVU1890
 5737 01b0 0028     		cmp	r0, #0
 5738 01b2 3FF46BAF 		beq	.L435
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5739              		.loc 1 2709 6 is_stmt 1 view .LVU1891
 5740 01b6 4FF0010A 		mov	r10, #1
ARM GAS  /tmp/ccLzcuV9.s 			page 174


 5741              	.LVL649:
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5742              		.loc 1 2709 6 is_stmt 0 view .LVU1892
 5743 01ba 84F807A2 		strb	r10, [r4, #519]
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5744              		.loc 1 2709 6 is_stmt 1 view .LVU1893
 5745 01be CDF804A0 		str	r10, [sp, #4]
 5746              	.LVL650:
 5747              	.L422:
2745:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5748              		.loc 1 2749 1 is_stmt 0 view .LVU1894
 5749 01c2 0198     		ldr	r0, [sp, #4]
 5750 01c4 03B0     		add	sp, sp, #12
 5751              	.LCFI55:
 5752              		.cfi_remember_state
 5753              		.cfi_def_cfa_offset 36
 5754              		@ sp needed
 5755 01c6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5756              	.LVL651:
 5757              	.L449:
 5758              	.LCFI56:
 5759              		.cfi_restore_state
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5760              		.loc 1 2727 7 is_stmt 1 view .LVU1895
 5761 01ca 4FF0010A 		mov	r10, #1
 5762              	.LVL652:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5763              		.loc 1 2727 7 is_stmt 0 view .LVU1896
 5764 01ce 84F807A2 		strb	r10, [r4, #519]
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 5765              		.loc 1 2727 7 is_stmt 1 view .LVU1897
 5766 01d2 CDF804A0 		str	r10, [sp, #4]
 5767 01d6 F4E7     		b	.L422
 5768              	.LVL653:
 5769              	.L450:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5770              		.loc 1 2732 6 view .LVU1898
 5771 01d8 4FF0010A 		mov	r10, #1
 5772              	.LVL654:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5773              		.loc 1 2732 6 is_stmt 0 view .LVU1899
 5774 01dc 84F807A2 		strb	r10, [r4, #519]
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5775              		.loc 1 2732 6 is_stmt 1 view .LVU1900
 5776 01e0 CDF804A0 		str	r10, [sp, #4]
 5777 01e4 EDE7     		b	.L422
 5778              	.LVL655:
 5779              	.L444:
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5780              		.loc 1 2678 3 is_stmt 0 view .LVU1901
 5781 01e6 0723     		movs	r3, #7
 5782 01e8 0193     		str	r3, [sp, #4]
 5783 01ea EAE7     		b	.L422
ARM GAS  /tmp/ccLzcuV9.s 			page 175


 5784              		.cfi_endproc
 5785              	.LFE101:
 5787              		.section	.text.f_write,"ax",%progbits
 5788              		.align	1
 5789              		.global	f_write
 5790              		.syntax unified
 5791              		.thumb
 5792              		.thumb_func
 5794              	f_write:
 5795              	.LVL656:
 5796              	.LFB102:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** 
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 
2754:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2755:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2756:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
2757:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 
2759:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void *buff,	/* Pointer to the data to be written */
2762:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
2764:Middlewares/Third_Party/FatFs/src/ff.c **** )
2765:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5797              		.loc 1 2765 1 is_stmt 1 view -0
 5798              		.cfi_startproc
 5799              		@ args = 0, pretend = 0, frame = 8
 5800              		@ frame_needed = 0, uses_anonymous_args = 0
 5801              		.loc 1 2765 1 is_stmt 0 view .LVU1903
 5802 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5803              	.LCFI57:
 5804              		.cfi_def_cfa_offset 36
 5805              		.cfi_offset 4, -36
 5806              		.cfi_offset 5, -32
 5807              		.cfi_offset 6, -28
 5808              		.cfi_offset 7, -24
 5809              		.cfi_offset 8, -20
 5810              		.cfi_offset 9, -16
 5811              		.cfi_offset 10, -12
 5812              		.cfi_offset 11, -8
 5813              		.cfi_offset 14, -4
 5814 0004 83B0     		sub	sp, sp, #12
 5815              	.LCFI58:
 5816              		.cfi_def_cfa_offset 48
 5817 0006 0446     		mov	r4, r0
 5818 0008 0F46     		mov	r7, r1
 5819 000a 1546     		mov	r5, r2
 5820 000c 9846     		mov	r8, r3
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5821              		.loc 1 2766 2 is_stmt 1 view .LVU1904
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 5822              		.loc 1 2767 2 view .LVU1905
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc;
 5823              		.loc 1 2768 2 view .LVU1906
ARM GAS  /tmp/ccLzcuV9.s 			page 176


2769:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 5824              		.loc 1 2769 2 view .LVU1907
 5825              	.LVL657:
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
 5826              		.loc 1 2770 2 view .LVU1908
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 5827              		.loc 1 2773 2 view .LVU1909
 5828              		.loc 1 2773 6 is_stmt 0 view .LVU1910
 5829 000e 0023     		movs	r3, #0
 5830              	.LVL658:
 5831              		.loc 1 2773 6 view .LVU1911
 5832 0010 C8F80030 		str	r3, [r8]
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity */
 5833              		.loc 1 2775 2 is_stmt 1 view .LVU1912
 5834              		.loc 1 2775 8 is_stmt 0 view .LVU1913
 5835 0014 FFF7FEFF 		bl	validate
 5836              	.LVL659:
2776:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5837              		.loc 1 2776 2 is_stmt 1 view .LVU1914
 5838              		.loc 1 2776 5 is_stmt 0 view .LVU1915
 5839 0018 0190     		str	r0, [sp, #4]
 5840 001a 0028     		cmp	r0, #0
 5841 001c 53D1     		bne	.L455
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)							/* Check error */
 5842              		.loc 1 2777 2 is_stmt 1 view .LVU1916
 5843              		.loc 1 2777 8 is_stmt 0 view .LVU1917
 5844 001e 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
 5845 0022 0193     		str	r3, [sp, #4]
 5846              		.loc 1 2777 5 view .LVU1918
 5847 0024 002B     		cmp	r3, #0
 5848 0026 4ED1     		bne	.L455
2778:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2779:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE))				/* Check access mode */
 5849              		.loc 1 2779 2 is_stmt 1 view .LVU1919
 5850              		.loc 1 2779 10 is_stmt 0 view .LVU1920
 5851 0028 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5852              		.loc 1 2779 5 view .LVU1921
 5853 002c 13F0020F 		tst	r3, #2
 5854 0030 00F00081 		beq	.L480
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2781:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 5855              		.loc 1 2781 2 is_stmt 1 view .LVU1922
 5856              		.loc 1 2781 8 is_stmt 0 view .LVU1923
 5857 0034 D4F80832 		ldr	r3, [r4, #520]
 5858              		.loc 1 2781 5 view .LVU1924
 5859 0038 EB42     		cmn	r3, r5
 5860 003a C0F0BF80 		bcc	.L477
 5861              		.loc 1 2781 37 discriminator 1 view .LVU1925
 5862 003e 0025     		movs	r5, #0
 5863              	.LVL660:
 5864              		.loc 1 2781 37 discriminator 1 view .LVU1926
 5865 0040 BCE0     		b	.L477
 5866              	.LVL661:
 5867              	.L460:
ARM GAS  /tmp/ccLzcuV9.s 			page 177


2782:Middlewares/Third_Party/FatFs/src/ff.c **** 
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
2793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 5868              		.loc 1 2794 6 is_stmt 1 view .LVU1927
 5869              		.loc 1 2794 12 is_stmt 0 view .LVU1928
 5870 0042 D4F82432 		ldr	r3, [r4, #548]
 5871              		.loc 1 2794 9 view .LVU1929
 5872 0046 002B     		cmp	r3, #0
 5873 0048 41D0     		beq	.L463
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5874              		.loc 1 2795 7 is_stmt 1 view .LVU1930
 5875              		.loc 1 2795 14 is_stmt 0 view .LVU1931
 5876 004a 2046     		mov	r0, r4
 5877 004c FFF7FEFF 		bl	clmt_clust
 5878              	.LVL662:
 5879 0050 0346     		mov	r3, r0
 5880              	.LVL663:
 5881              	.L462:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
2797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, fp->clust);	/* Follow or stretch cluster chain on the FAT */
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 5882              		.loc 1 2800 5 is_stmt 1 view .LVU1932
 5883              		.loc 1 2800 8 is_stmt 0 view .LVU1933
 5884 0052 002B     		cmp	r3, #0
 5885 0054 00F0DF80 		beq	.L464
 5886              	.LVL664:
 5887              	.L461:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 5888              		.loc 1 2801 5 is_stmt 1 view .LVU1934
 5889              		.loc 1 2801 8 is_stmt 0 view .LVU1935
 5890 0058 012B     		cmp	r3, #1
 5891 005a 3ED0     		beq	.L484
 5892              		.loc 1 2801 45 is_stmt 1 discriminator 2 view .LVU1936
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5893              		.loc 1 2802 5 view .LVU1937
 5894              		.loc 1 2802 8 is_stmt 0 view .LVU1938
 5895 005c B3F1FF3F 		cmp	r3, #-1
 5896 0060 42D0     		beq	.L485
 5897              		.loc 1 2802 55 is_stmt 1 discriminator 2 view .LVU1939
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 5898              		.loc 1 2803 5 view .LVU1940
 5899              		.loc 1 2803 15 is_stmt 0 view .LVU1941
 5900 0062 C4F81432 		str	r3, [r4, #532]
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
 5901              		.loc 1 2804 5 is_stmt 1 view .LVU1942
ARM GAS  /tmp/ccLzcuV9.s 			page 178


 5902              		.loc 1 2804 11 is_stmt 0 view .LVU1943
 5903 0066 D4F81022 		ldr	r2, [r4, #528]
 5904              		.loc 1 2804 8 view .LVU1944
 5905 006a 0AB9     		cbnz	r2, .L459
 5906              		.loc 1 2804 26 is_stmt 1 discriminator 1 view .LVU1945
 5907              		.loc 1 2804 37 is_stmt 0 discriminator 1 view .LVU1946
 5908 006c C4F81032 		str	r3, [r4, #528]
 5909              	.L459:
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fs->winsect == fp->dsect && sync_window(fp->fs))	/* Write-back sector cache */
2808:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
2809:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {		/* Write-back sector cache */
 5910              		.loc 1 2810 4 is_stmt 1 view .LVU1947
 5911              		.loc 1 2810 10 is_stmt 0 view .LVU1948
 5912 0070 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
 5913              		.loc 1 2810 7 view .LVU1949
 5914 0074 13F0400F 		tst	r3, #64
 5915 0078 3DD1     		bne	.L486
 5916              	.L467:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2816:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
 5917              		.loc 1 2816 4 is_stmt 1 view .LVU1950
 5918              		.loc 1 2816 11 is_stmt 0 view .LVU1951
 5919 007a D4F800B2 		ldr	fp, [r4, #512]
 5920 007e D4F81412 		ldr	r1, [r4, #532]
 5921 0082 5846     		mov	r0, fp
 5922 0084 FFF7FEFF 		bl	clust2sect
 5923              	.LVL665:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5924              		.loc 1 2817 4 is_stmt 1 view .LVU1952
 5925              		.loc 1 2817 7 is_stmt 0 view .LVU1953
 5926 0088 8146     		mov	r9, r0
 5927 008a 0028     		cmp	r0, #0
 5928 008c 4CD0     		beq	.L487
 5929              		.loc 1 2817 40 is_stmt 1 discriminator 2 view .LVU1954
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5930              		.loc 1 2818 4 view .LVU1955
 5931              		.loc 1 2818 9 is_stmt 0 view .LVU1956
 5932 008e B144     		add	r9, r9, r6
 5933              	.LVL666:
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fp->fs);			/* When remaining bytes >= sector size, */
 5934              		.loc 1 2819 4 is_stmt 1 view .LVU1957
 5935              		.loc 1 2819 7 is_stmt 0 view .LVU1958
 5936 0090 4FEA552A 		lsr	r10, r5, #9
 5937              	.LVL667:
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 5938              		.loc 1 2820 4 is_stmt 1 view .LVU1959
 5939              		.loc 1 2820 7 is_stmt 0 view .LVU1960
 5940 0094 B5F5007F 		cmp	r5, #512
 5941 0098 64D3     		bcc	.L470
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
ARM GAS  /tmp/ccLzcuV9.s 			page 179


 5942              		.loc 1 2821 5 is_stmt 1 view .LVU1961
 5943              		.loc 1 2821 15 is_stmt 0 view .LVU1962
 5944 009a 06EB0A03 		add	r3, r6, r10
 5945              		.loc 1 2821 28 view .LVU1963
 5946 009e 9BF80222 		ldrb	r2, [fp, #514]	@ zero_extendqisi2
 5947              		.loc 1 2821 8 view .LVU1964
 5948 00a2 9342     		cmp	r3, r2
 5949 00a4 01D9     		bls	.L471
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 5950              		.loc 1 2822 6 is_stmt 1 view .LVU1965
 5951              		.loc 1 2822 25 is_stmt 0 view .LVU1966
 5952 00a6 A2EB060A 		sub	r10, r2, r6
 5953              	.LVL668:
 5954              	.L471:
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
 5955              		.loc 1 2823 5 is_stmt 1 view .LVU1967
 5956              		.loc 1 2823 9 is_stmt 0 view .LVU1968
 5957 00aa 5346     		mov	r3, r10
 5958 00ac 4A46     		mov	r2, r9
 5959 00ae 3946     		mov	r1, r7
 5960 00b0 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 5961 00b4 FFF7FEFF 		bl	disk_write
 5962              	.LVL669:
 5963              		.loc 1 2823 8 discriminator 1 view .LVU1969
 5964 00b8 E8B3     		cbz	r0, .L472
2824:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5965              		.loc 1 2824 6 is_stmt 1 view .LVU1970
 5966 00ba 4FF0010A 		mov	r10, #1
 5967              	.LVL670:
 5968              		.loc 1 2824 6 is_stmt 0 view .LVU1971
 5969 00be 84F807A2 		strb	r10, [r4, #519]
 5970              		.loc 1 2824 6 is_stmt 1 view .LVU1972
 5971 00c2 CDF804A0 		str	r10, [sp, #4]
 5972              	.LVL671:
 5973              	.L455:
2825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
2826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct 
2828:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->fs->win.d8, wbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), SS(fp->fs));
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fs->wflag = 0;
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2831:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->dsect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write 
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
2835:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2837:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fp->fs) * cc;		/* Number of bytes transferred */
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->fsize) {	/* Avoid silly cache filling at growing edge */
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fp->fs)) ABORT(fp->fs, FR_DISK_ERR);
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->winsect = sect;
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2846:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccLzcuV9.s 			page 180


2847:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {		/* Fill sector cache with file data */
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2852:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));/* Put partial sector into file I/O buffer */
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
2857:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)	/* Move sector window */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->fs->win.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fs->wflag = 1;
2862:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->buf.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr > fp->fsize) fp->fsize = fp->fptr;	/* Update file size if needed */
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5974              		.loc 1 2872 1 is_stmt 0 view .LVU1973
 5975 00c6 0198     		ldr	r0, [sp, #4]
 5976 00c8 03B0     		add	sp, sp, #12
 5977              	.LCFI59:
 5978              		.cfi_remember_state
 5979              		.cfi_def_cfa_offset 36
 5980              		@ sp needed
 5981 00ca BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5982              	.LVL672:
 5983              	.L463:
 5984              	.LCFI60:
 5985              		.cfi_restore_state
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5986              		.loc 1 2798 7 is_stmt 1 view .LVU1974
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5987              		.loc 1 2798 14 is_stmt 0 view .LVU1975
 5988 00ce D4F81412 		ldr	r1, [r4, #532]
 5989 00d2 FFF7FEFF 		bl	create_chain
 5990              	.LVL673:
 5991 00d6 0346     		mov	r3, r0
 5992              	.LVL674:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5993              		.loc 1 2798 14 view .LVU1976
 5994 00d8 BBE7     		b	.L462
 5995              	.LVL675:
 5996              	.L484:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5997              		.loc 1 2801 20 is_stmt 1 discriminator 1 view .LVU1977
 5998 00da 4FF0020A 		mov	r10, #2
 5999 00de 84F807A2 		strb	r10, [r4, #519]
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/ccLzcuV9.s 			page 181


 6000              		.loc 1 2801 20 discriminator 1 view .LVU1978
 6001 00e2 CDF804A0 		str	r10, [sp, #4]
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6002              		.loc 1 2801 20 is_stmt 0 view .LVU1979
 6003 00e6 EEE7     		b	.L455
 6004              	.L485:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6005              		.loc 1 2802 29 is_stmt 1 discriminator 1 view .LVU1980
 6006 00e8 4FF0010A 		mov	r10, #1
 6007 00ec 84F807A2 		strb	r10, [r4, #519]
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6008              		.loc 1 2802 29 discriminator 1 view .LVU1981
 6009 00f0 CDF804A0 		str	r10, [sp, #4]
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6010              		.loc 1 2802 29 is_stmt 0 view .LVU1982
 6011 00f4 E7E7     		b	.L455
 6012              	.L486:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6013              		.loc 1 2811 5 is_stmt 1 view .LVU1983
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6014              		.loc 1 2811 22 is_stmt 0 view .LVU1984
 6015 00f6 D4F80002 		ldr	r0, [r4, #512]
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6016              		.loc 1 2811 9 view .LVU1985
 6017 00fa 0123     		movs	r3, #1
 6018 00fc D4F81822 		ldr	r2, [r4, #536]
 6019 0100 2146     		mov	r1, r4
 6020 0102 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 6021 0106 FFF7FEFF 		bl	disk_write
 6022              	.LVL676:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6023              		.loc 1 2811 8 discriminator 1 view .LVU1986
 6024 010a 30B9     		cbnz	r0, .L488
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6025              		.loc 1 2812 32 is_stmt 1 view .LVU1987
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6026              		.loc 1 2813 5 view .LVU1988
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6027              		.loc 1 2813 7 is_stmt 0 view .LVU1989
 6028 010c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6029              		.loc 1 2813 14 view .LVU1990
 6030 0110 23F04003 		bic	r3, r3, #64
 6031 0114 84F80632 		strb	r3, [r4, #518]
 6032 0118 AFE7     		b	.L467
 6033              	.L488:
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6034              		.loc 1 2812 6 is_stmt 1 view .LVU1991
 6035 011a 4FF0010A 		mov	r10, #1
 6036 011e 84F807A2 		strb	r10, [r4, #519]
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6037              		.loc 1 2812 6 view .LVU1992
 6038 0122 CDF804A0 		str	r10, [sp, #4]
 6039 0126 CEE7     		b	.L455
 6040              	.LVL677:
 6041              	.L487:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
ARM GAS  /tmp/ccLzcuV9.s 			page 182


 6042              		.loc 1 2817 15 discriminator 1 view .LVU1993
 6043 0128 4FF0020A 		mov	r10, #2
 6044 012c 84F807A2 		strb	r10, [r4, #519]
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6045              		.loc 1 2817 15 discriminator 1 view .LVU1994
 6046 0130 CDF804A0 		str	r10, [sp, #4]
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6047              		.loc 1 2817 15 is_stmt 0 view .LVU1995
 6048 0134 C7E7     		b	.L455
 6049              	.LVL678:
 6050              	.L472:
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6051              		.loc 1 2824 32 is_stmt 1 view .LVU1996
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6052              		.loc 1 2832 5 view .LVU1997
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6053              		.loc 1 2832 11 is_stmt 0 view .LVU1998
 6054 0136 D4F81812 		ldr	r1, [r4, #536]
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6055              		.loc 1 2832 19 view .LVU1999
 6056 013a A1EB0901 		sub	r1, r1, r9
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6057              		.loc 1 2832 8 view .LVU2000
 6058 013e 5145     		cmp	r1, r10
 6059 0140 02D3     		bcc	.L489
 6060              	.L473:
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6061              		.loc 1 2838 5 is_stmt 1 view .LVU2001
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6062              		.loc 1 2838 10 is_stmt 0 view .LVU2002
 6063 0142 4FEA4A26 		lsl	r6, r10, #9
 6064              	.LVL679:
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6065              		.loc 1 2839 5 is_stmt 1 view .LVU2003
 6066 0146 2DE0     		b	.L474
 6067              	.LVL680:
 6068              	.L489:
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6069              		.loc 1 2833 6 view .LVU2004
 6070 0148 4FF40072 		mov	r2, #512
 6071 014c 07EB4121 		add	r1, r7, r1, lsl #9
 6072 0150 2046     		mov	r0, r4
 6073 0152 FFF7FEFF 		bl	mem_cpy
 6074              	.LVL681:
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6075              		.loc 1 2834 6 view .LVU2005
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6076              		.loc 1 2834 8 is_stmt 0 view .LVU2006
 6077 0156 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6078              		.loc 1 2834 15 view .LVU2007
 6079 015a 23F04003 		bic	r3, r3, #64
 6080 015e 84F80632 		strb	r3, [r4, #518]
 6081 0162 EEE7     		b	.L473
 6082              	.L470:
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6083              		.loc 1 2847 4 is_stmt 1 view .LVU2008
ARM GAS  /tmp/ccLzcuV9.s 			page 183


2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6084              		.loc 1 2847 10 is_stmt 0 view .LVU2009
 6085 0164 D4F81832 		ldr	r3, [r4, #536]
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6086              		.loc 1 2847 7 view .LVU2010
 6087 0168 4B45     		cmp	r3, r9
 6088 016a 05D0     		beq	.L475
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6089              		.loc 1 2848 5 is_stmt 1 view .LVU2011
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6090              		.loc 1 2848 11 is_stmt 0 view .LVU2012
 6091 016c D4F80822 		ldr	r2, [r4, #520]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6092              		.loc 1 2848 22 view .LVU2013
 6093 0170 D4F80C32 		ldr	r3, [r4, #524]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6094              		.loc 1 2848 8 view .LVU2014
 6095 0174 9A42     		cmp	r2, r3
 6096 0176 3ED3     		bcc	.L490
 6097              	.L475:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6098              		.loc 1 2850 33 is_stmt 1 view .LVU2015
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6099              		.loc 1 2853 4 view .LVU2016
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6100              		.loc 1 2853 14 is_stmt 0 view .LVU2017
 6101 0178 C4F81892 		str	r9, [r4, #536]
 6102              	.LVL682:
 6103              	.L458:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6104              		.loc 1 2855 3 is_stmt 1 view .LVU2018
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6105              		.loc 1 2855 32 is_stmt 0 view .LVU2019
 6106 017c D4F80802 		ldr	r0, [r4, #520]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6107              		.loc 1 2855 39 view .LVU2020
 6108 0180 C0F30800 		ubfx	r0, r0, #0, #9
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6109              		.loc 1 2855 8 view .LVU2021
 6110 0184 C0F50076 		rsb	r6, r0, #512
 6111              	.LVL683:
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6112              		.loc 1 2856 3 is_stmt 1 view .LVU2022
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6113              		.loc 1 2856 6 is_stmt 0 view .LVU2023
 6114 0188 B542     		cmp	r5, r6
 6115 018a 00D2     		bcs	.L476
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6116              		.loc 1 2856 24 discriminator 1 view .LVU2024
 6117 018c 2E46     		mov	r6, r5
 6118              	.LVL684:
 6119              	.L476:
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
 6120              		.loc 1 2863 3 is_stmt 1 view .LVU2025
 6121 018e 3246     		mov	r2, r6
 6122 0190 3946     		mov	r1, r7
 6123 0192 2044     		add	r0, r0, r4
ARM GAS  /tmp/ccLzcuV9.s 			page 184


 6124 0194 FFF7FEFF 		bl	mem_cpy
 6125              	.LVL685:
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6126              		.loc 1 2864 3 view .LVU2026
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6127              		.loc 1 2864 5 is_stmt 0 view .LVU2027
 6128 0198 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6129              		.loc 1 2864 12 view .LVU2028
 6130 019c 43F04003 		orr	r3, r3, #64
 6131 01a0 84F80632 		strb	r3, [r4, #518]
 6132              	.L474:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6133              		.loc 1 2784 47 is_stmt 1 view .LVU2029
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6134              		.loc 1 2784 9 is_stmt 0 view .LVU2030
 6135 01a4 3744     		add	r7, r7, r6
 6136              	.LVL686:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6137              		.loc 1 2784 20 view .LVU2031
 6138 01a6 D4F80832 		ldr	r3, [r4, #520]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6139              		.loc 1 2784 27 view .LVU2032
 6140 01aa 3344     		add	r3, r3, r6
 6141 01ac C4F80832 		str	r3, [r4, #520]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6142              		.loc 1 2784 36 view .LVU2033
 6143 01b0 D8F80030 		ldr	r3, [r8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6144              		.loc 1 2784 40 view .LVU2034
 6145 01b4 3344     		add	r3, r3, r6
 6146 01b6 C8F80030 		str	r3, [r8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6147              		.loc 1 2784 53 view .LVU2035
 6148 01ba AD1B     		subs	r5, r5, r6
 6149              	.LVL687:
 6150              	.L477:
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
 6151              		.loc 1 2783 11 is_stmt 1 view .LVU2036
 6152 01bc 5DB3     		cbz	r5, .L464
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6153              		.loc 1 2785 3 view .LVU2037
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6154              		.loc 1 2785 10 is_stmt 0 view .LVU2038
 6155 01be D4F80812 		ldr	r1, [r4, #520]
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6156              		.loc 1 2785 17 view .LVU2039
 6157 01c2 C1F30803 		ubfx	r3, r1, #0, #9
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6158              		.loc 1 2785 6 view .LVU2040
 6159 01c6 002B     		cmp	r3, #0
 6160 01c8 D8D1     		bne	.L458
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6161              		.loc 1 2786 4 is_stmt 1 view .LVU2041
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6162              		.loc 1 2786 46 is_stmt 0 view .LVU2042
 6163 01ca D4F80002 		ldr	r0, [r4, #512]
ARM GAS  /tmp/ccLzcuV9.s 			page 185


2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6164              		.loc 1 2786 50 view .LVU2043
 6165 01ce 90F80262 		ldrb	r6, [r0, #514]	@ zero_extendqisi2
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6166              		.loc 1 2786 58 view .LVU2044
 6167 01d2 013E     		subs	r6, r6, #1
 6168 01d4 F6B2     		uxtb	r6, r6
 6169              	.LVL688:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6170              		.loc 1 2787 4 is_stmt 1 view .LVU2045
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6171              		.loc 1 2787 7 is_stmt 0 view .LVU2046
 6172 01d6 16EA5126 		ands	r6, r6, r1, lsr #9
 6173              	.LVL689:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6174              		.loc 1 2787 7 view .LVU2047
 6175 01da 7FF449AF 		bne	.L459
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6176              		.loc 1 2788 5 is_stmt 1 view .LVU2048
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6177              		.loc 1 2788 8 is_stmt 0 view .LVU2049
 6178 01de 0029     		cmp	r1, #0
 6179 01e0 7FF42FAF 		bne	.L460
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6180              		.loc 1 2789 6 is_stmt 1 view .LVU2050
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6181              		.loc 1 2789 11 is_stmt 0 view .LVU2051
 6182 01e4 D4F81032 		ldr	r3, [r4, #528]
 6183              	.LVL690:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6184              		.loc 1 2790 6 is_stmt 1 view .LVU2052
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6185              		.loc 1 2790 9 is_stmt 0 view .LVU2053
 6186 01e8 002B     		cmp	r3, #0
 6187 01ea 7FF435AF 		bne	.L461
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6188              		.loc 1 2791 7 is_stmt 1 view .LVU2054
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6189              		.loc 1 2791 14 is_stmt 0 view .LVU2055
 6190 01ee FFF7FEFF 		bl	create_chain
 6191              	.LVL691:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6192              		.loc 1 2791 14 view .LVU2056
 6193 01f2 0346     		mov	r3, r0
 6194              	.LVL692:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6195              		.loc 1 2791 14 view .LVU2057
 6196 01f4 2DE7     		b	.L462
 6197              	.LVL693:
 6198              	.L490:
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6199              		.loc 1 2849 6 view .LVU2058
 6200 01f6 0123     		movs	r3, #1
 6201 01f8 4A46     		mov	r2, r9
 6202 01fa 2146     		mov	r1, r4
 6203 01fc 9BF80102 		ldrb	r0, [fp, #513]	@ zero_extendqisi2
 6204 0200 FFF7FEFF 		bl	disk_read
ARM GAS  /tmp/ccLzcuV9.s 			page 186


 6205              	.LVL694:
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6206              		.loc 1 2848 30 discriminator 1 view .LVU2059
 6207 0204 0028     		cmp	r0, #0
 6208 0206 B7D0     		beq	.L475
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6209              		.loc 1 2850 7 is_stmt 1 view .LVU2060
 6210 0208 4FF0010A 		mov	r10, #1
 6211              	.LVL695:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6212              		.loc 1 2850 7 is_stmt 0 view .LVU2061
 6213 020c 84F807A2 		strb	r10, [r4, #519]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6214              		.loc 1 2850 7 is_stmt 1 view .LVU2062
 6215 0210 CDF804A0 		str	r10, [sp, #4]
 6216 0214 57E7     		b	.L455
 6217              	.LVL696:
 6218              	.L464:
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6219              		.loc 1 2868 2 view .LVU2063
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6220              		.loc 1 2868 8 is_stmt 0 view .LVU2064
 6221 0216 D4F80832 		ldr	r3, [r4, #520]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6222              		.loc 1 2868 19 view .LVU2065
 6223 021a D4F80C22 		ldr	r2, [r4, #524]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6224              		.loc 1 2868 5 view .LVU2066
 6225 021e 9342     		cmp	r3, r2
 6226 0220 01D9     		bls	.L479
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6227              		.loc 1 2868 28 is_stmt 1 discriminator 1 view .LVU2067
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6228              		.loc 1 2868 38 is_stmt 0 discriminator 1 view .LVU2068
 6229 0222 C4F80C32 		str	r3, [r4, #524]
 6230              	.L479:
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6231              		.loc 1 2869 2 is_stmt 1 view .LVU2069
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6232              		.loc 1 2869 4 is_stmt 0 view .LVU2070
 6233 0226 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6234              		.loc 1 2869 11 view .LVU2071
 6235 022a 43F02003 		orr	r3, r3, #32
 6236 022e 84F80632 		strb	r3, [r4, #518]
2871:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6237              		.loc 1 2871 2 is_stmt 1 view .LVU2072
 6238 0232 48E7     		b	.L455
 6239              	.LVL697:
 6240              	.L480:
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 6241              		.loc 1 2780 3 is_stmt 0 view .LVU2073
 6242 0234 0723     		movs	r3, #7
 6243 0236 0193     		str	r3, [sp, #4]
 6244 0238 45E7     		b	.L455
 6245              		.cfi_endproc
 6246              	.LFE102:
ARM GAS  /tmp/ccLzcuV9.s 			page 187


 6248              		.section	.text.putc_bfd,"ax",%progbits
 6249              		.align	1
 6250              		.syntax unified
 6251              		.thumb
 6252              		.thumb_func
 6254              	putc_bfd:
 6255              	.LVL698:
 6256              	.LFB119:
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 
2877:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2878:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 
2881:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** )
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
2894:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2901:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fp->fs, fp->dir_sect);
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2916:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 
2921:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
ARM GAS  /tmp/ccLzcuV9.s 			page 188


2922:Middlewares/Third_Party/FatFs/src/ff.c **** 
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 
2926:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2927:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
2928:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 
2930:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp		/* Pointer to the file object to be closed */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** )
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 
2937:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
2940:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(fp);				/* Lock volume */
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2944:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2945:Middlewares/Third_Party/FatFs/src/ff.c **** 			FATFS *fs = fp->fs;
2946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->lockid);	/* Decrement file open counter */
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs = 0;				/* Invalidate file object */
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
2954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2958:Middlewares/Third_Party/FatFs/src/ff.c **** }
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** 
2961:Middlewares/Third_Party/FatFs/src/ff.c **** 
2962:Middlewares/Third_Party/FatFs/src/ff.c **** 
2963:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2964:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
2965:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 
2967:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
2968:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
2969:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** )
2972:Middlewares/Third_Party/FatFs/src/ff.c **** {
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 189


2979:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 
2981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
2983:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
2988:Middlewares/Third_Party/FatFs/src/ff.c **** )
2989:Middlewares/Third_Party/FatFs/src/ff.c **** {
2990:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
2992:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
2993:Middlewares/Third_Party/FatFs/src/ff.c **** 
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dj.dir) {
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->cdir = dj.sclust;	/* Start directory itself */
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.dir[DIR_Attr] & AM_DIR)	/* Reached to the directory */
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->cdir = ld_clust(dj.fs, dj.dir);
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3015:Middlewares/Third_Party/FatFs/src/ff.c **** }
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 
3018:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3019:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** )
3023:Middlewares/Third_Party/FatFs/src/ff.c **** {
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, (const TCHAR**)&buff, 0);	/* Get current volume */
ARM GAS  /tmp/ccLzcuV9.s 			page 190


3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = dj.fs->cdir;			/* Start to follow upper directory from current directory */
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((ccl = dj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 1);			/* Get parent directory */
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3043:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 0);
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.sclust = ld_clust(dj.fs, dj.dir);	/* Goto parent directory */
3046:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 0);
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {							/* Find the entry links to the child directory */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_read(&dj, 0);
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ccl == ld_clust(dj.fs, dj.dir)) break;	/* Found the entry */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(&dj, 0);	
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3056:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfname = buff;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfsize = i;
3059:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = fno.fname;
3062:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*buff) tp = buff;
3064:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (n = 0; tp[n]; n++) ;
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < n + 3) {
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE; break;
3068:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (n) buff[--i] = tp[--n];
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 			buff[--i] = '/';
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3074:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3077:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3091:Middlewares/Third_Party/FatFs/src/ff.c **** }
3092:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
ARM GAS  /tmp/ccLzcuV9.s 			page 191


3093:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 
3097:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3098:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3099:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3100:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 
3102:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File pointer from top of file */
3105:Middlewares/Third_Party/FatFs/src/ff.c **** )
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 
3119:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fp->fs->n_fatent);	/* Repeat until end of chain */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->fsize)		/* Clip offset at the file size */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
ARM GAS  /tmp/ccLzcuV9.s 			page 192


3150:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3157:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fp->fs->drv, fp->buf.d8, dsc, 1) != RES_OK)	/* Load current sector */
3165:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
3166:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->dsect = dsc;
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3169:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3172:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->fsize					/* In read-only mode, clip offset with the file size */
3177:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			 && !(fp->flag & FA_WRITE)
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 			) ofs = fp->fsize;
3181:Middlewares/Third_Party/FatFs/src/ff.c **** 
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->sclust;						/* start from the first cluster */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
3199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3202:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
3204:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
3205:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
ARM GAS  /tmp/ccLzcuV9.s 			page 193


3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3211:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3212:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, clst);	/* Follow cluster chain if not in write mode */
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
3219:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
3225:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
3229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {			/* Write-back dirty sector cache */
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
3235:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3236:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fp->fs->drv, fp->buf.d8, nsect, 1) != RES_OK)	/* Fill sector cache */
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = nsect;
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3242:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr > fp->fsize) {			/* Set file change flag if the file size is extended */
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3248:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3251:Middlewares/Third_Party/FatFs/src/ff.c **** }
3252:Middlewares/Third_Party/FatFs/src/ff.c **** 
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/ccLzcuV9.s 			page 194


3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
3283:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = 0;	/* Root directory need not to be locked */
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3299:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->fs = 0;		/* Invalidate the directory object if function faild */
3305:Middlewares/Third_Party/FatFs/src/ff.c **** 
3306:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3307:Middlewares/Third_Party/FatFs/src/ff.c **** }
3308:Middlewares/Third_Party/FatFs/src/ff.c **** 
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 
3312:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3313:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
3314:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 
3316:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
3317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
3318:Middlewares/Third_Party/FatFs/src/ff.c **** )
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccLzcuV9.s 			page 195


3321:Middlewares/Third_Party/FatFs/src/ff.c **** 
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3325:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 		FATFS *fs = dp->fs;
3327:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3328:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->lockid)				/* Decrement sub-directory open counter */
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3333:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs = 0;				/* Invalidate directory object */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3339:Middlewares/Third_Party/FatFs/src/ff.c **** }
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 
3342:Middlewares/Third_Party/FatFs/src/ff.c **** 
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 
3344:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3345:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
3346:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 
3348:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
3350:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3351:Middlewares/Third_Party/FatFs/src/ff.c **** )
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);						/* Check validity of the object */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_BUF(*dp);
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_BUF();
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccLzcuV9.s 			page 196


3378:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dp->fs, res);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** }
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 
3385:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
3386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3387:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find next file                                                        */
3388:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3389:Middlewares/Third_Party/FatFs/src/ff.c **** 
3390:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** )
3394:Middlewares/Third_Party/FatFs/src/ff.c **** {
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
3401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fno->lfname && pattern_matching(dp->pat, fno->lfname, 0, 0)) break;	/* Test for LFN if exist 
3403:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;	/* Test for SFN */
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 
3408:Middlewares/Third_Party/FatFs/src/ff.c **** }
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 
3412:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3413:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find first file                                                       */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 
3416:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
3421:Middlewares/Third_Party/FatFs/src/ff.c **** )
3422:Middlewares/Third_Party/FatFs/src/ff.c **** {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
3427:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
3430:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3431:Middlewares/Third_Party/FatFs/src/ff.c **** }
3432:Middlewares/Third_Party/FatFs/src/ff.c **** 
3433:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 197


3435:Middlewares/Third_Party/FatFs/src/ff.c **** 
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 
3437:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
3438:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3439:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
3440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 
3442:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3445:Middlewares/Third_Party/FatFs/src/ff.c **** )
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3468:Middlewares/Third_Party/FatFs/src/ff.c **** }
3469:Middlewares/Third_Party/FatFs/src/ff.c **** 
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 
3471:Middlewares/Third_Party/FatFs/src/ff.c **** 
3472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3474:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 
3477:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
3481:Middlewares/Third_Party/FatFs/src/ff.c **** )
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 
3489:Middlewares/Third_Party/FatFs/src/ff.c **** 
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(fatfs, &path, 0);
ARM GAS  /tmp/ccLzcuV9.s 			page 198


3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust <= fs->n_fatent - 2) {
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			fat = fs->fs_type;
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
3509:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fs->n_fatent;
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fat == FS_FAT16) {
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (--clst);
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = n;
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3535:Middlewares/Third_Party/FatFs/src/ff.c **** }
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 
3540:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3541:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
3542:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 
3544:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
3545:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3546:Middlewares/Third_Party/FatFs/src/ff.c **** )
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccLzcuV9.s 			page 199


3549:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity of the object */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(fp->flag & FA_WRITE))		/* Check access mode */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
3568:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (fp->flag & FA__DIRTY)) {
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
3584:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) fp->err = (FRESULT)res;
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3591:Middlewares/Third_Party/FatFs/src/ff.c **** }
3592:Middlewares/Third_Party/FatFs/src/ff.c **** 
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 
3595:Middlewares/Third_Party/FatFs/src/ff.c **** 
3596:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3597:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File or Directory                                            */
3598:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
3602:Middlewares/Third_Party/FatFs/src/ff.c **** )
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
ARM GAS  /tmp/ccLzcuV9.s 			page 200


3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3609:Middlewares/Third_Party/FatFs/src/ff.c **** 
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
3618:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
3620:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_RDO)
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
3632:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == dj.fs->cdir) {		 		/* Is it the current directory? */
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3636:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(&sdj, &dj, sizeof (DIR));	/* Open the sub-directory */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3646:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3660:Middlewares/Third_Party/FatFs/src/ff.c **** }
3661:Middlewares/Third_Party/FatFs/src/ff.c **** 
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 201


3663:Middlewares/Third_Party/FatFs/src/ff.c **** 
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 
3665:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3666:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
3667:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3668:Middlewares/Third_Party/FatFs/src/ff.c **** 
3669:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
3671:Middlewares/Third_Party/FatFs/src/ff.c **** )
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3678:Middlewares/Third_Party/FatFs/src/ff.c **** 
3679:Middlewares/Third_Party/FatFs/src/ff.c **** 
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3717:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = dir_register(&dj);	/* Register the object to the directoy */
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
ARM GAS  /tmp/ccLzcuV9.s 			page 202


3720:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3728:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3732:Middlewares/Third_Party/FatFs/src/ff.c **** 
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3734:Middlewares/Third_Party/FatFs/src/ff.c **** }
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 
3739:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3740:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
3741:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 
3743:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
3747:Middlewares/Third_Party/FatFs/src/ff.c **** )
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3753:Middlewares/Third_Party/FatFs/src/ff.c **** 
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
ARM GAS  /tmp/ccLzcuV9.s 			page 203


3777:Middlewares/Third_Party/FatFs/src/ff.c **** }
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 
3782:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3783:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename File/Directory                                                 */
3784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 
3786:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object to be renamed */
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** )
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number of the source object */
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
3808:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Old object is found */
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about object except name */
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_INVALID_DRIVE;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3823:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(djo.fs, dw);
ARM GAS  /tmp/ccLzcuV9.s 			page 204


3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
3845:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of critical section */
3847:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3848:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3850:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3853:Middlewares/Third_Party/FatFs/src/ff.c **** 
3854:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(djo.fs, res);
3855:Middlewares/Third_Party/FatFs/src/ff.c **** }
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 
3860:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3861:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
3862:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
3865:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
3866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
3867:Middlewares/Third_Party/FatFs/src/ff.c **** )
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3887:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtTime, fno->ftime);
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
ARM GAS  /tmp/ccLzcuV9.s 			page 205


3891:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 
3896:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3897:Middlewares/Third_Party/FatFs/src/ff.c **** }
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 
3899:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
3901:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
3902:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
3903:Middlewares/Third_Party/FatFs/src/ff.c **** 
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 
3907:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
3908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get volume label                                                      */
3910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 
3912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
3916:Middlewares/Third_Party/FatFs/src/ff.c **** )
3917:Middlewares/Third_Party/FatFs/src/ff.c **** {
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3920:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
3921:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3924:Middlewares/Third_Party/FatFs/src/ff.c **** 
3925:Middlewares/Third_Party/FatFs/src/ff.c **** 
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = 0;					/* Open root directory */
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {			/* A volume label is exist */
3936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = j = 0;
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (i < 11) ? dj.dir[i++] : ' ';
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsDBCS1(w) && i < 11 && IsDBCS2(dj.dir[i]))
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = w << 8 | dj.dir[i++];
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j++] = ff_convert(w, 1);	/* OEM -> Unicode */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (j < 11);
3944:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(label, dj.dir, 11);
3946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				j = 11;
ARM GAS  /tmp/ccLzcuV9.s 			page 206


3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j] = 0;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!j) break;
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (label[--j] == ' ');
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {	/* No label, return nul string */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 				label[0] = 0;
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dj.fs, dj.fs->volbase);
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = dj.fs->fs_type == FS_FAT32 ? BS_VolID32 : BS_VolID;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = LD_DWORD(&dj.fs->win.d8[i]);
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3970:Middlewares/Third_Party/FatFs/src/ff.c **** }
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 
3972:Middlewares/Third_Party/FatFs/src/ff.c **** 
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 
3974:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3976:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set volume label                                                      */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 
3979:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
3981:Middlewares/Third_Party/FatFs/src/ff.c **** )
3982:Middlewares/Third_Party/FatFs/src/ff.c **** {
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE vn[11];
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, sl;
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3989:Middlewares/Third_Party/FatFs/src/ff.c **** 
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &label, 1);
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res) LEAVE_FF(dj.fs, res);
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create a volume label in directory form */
3996:Middlewares/Third_Party/FatFs/src/ff.c **** 	vn[0] = 0;
3997:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (sl = 0; label[sl]; sl++) ;				/* Get name length */
3998:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ; sl && label[sl - 1] == ' '; sl--) ;	/* Remove trailing spaces */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sl) {	/* Create volume label in directory form */
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = j = 0;
4001:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4002:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(label[i++]), 0);
4004:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/ccLzcuV9.s 			page 207


4005:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (BYTE)label[i++];
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w))
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (j < 10 && i < sl && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
4014:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4017:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4018:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("\"*+,.:;<=>\?[]|\x7F", w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) /* Reject i
4020:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(dj.fs, FR_INVALID_NAME);
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x100) vn[j++] = (BYTE)(w >> 8);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 			vn[j++] = (BYTE)w;
4023:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i < sl);
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j < 11) vn[j++] = ' ';	/* Fill remaining name field */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (vn[0] == DDEM) LEAVE_FF(dj.fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.sclust = 0;					/* Open root directory */
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* A volume label is found */
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (vn[0]) {
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir, vn, 11);	/* Change the volume label name */
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dj.dir + DIR_WrtTime, tm);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[0] = DDEM;			/* Remove the volume label */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.fs->wflag = 1;
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(dj.fs);
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {					/* No volume label is found or error */
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (vn[0]) {				/* Create volume label as new */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry for volume label */
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZ_DIRE);	/* Set volume label */
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dj.dir, vn, 11);
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.dir[DIR_Attr] = AM_VOL;
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 						tm = GET_FATTIME();
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 						ST_DWORD(dj.dir + DIR_WrtTime, tm);
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->wflag = 1;
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(dj.fs);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4059:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4060:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 208


4062:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** }
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
4067:Middlewares/Third_Party/FatFs/src/ff.c **** 
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 
4070:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4071:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly (available on only tiny cfg)      */
4072:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD && _FS_TINY
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
4077:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
4079:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
4080:Middlewares/Third_Party/FatFs/src/ff.c **** )
4081:Middlewares/Third_Party/FatFs/src/ff.c **** {
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD remain, clst, sect;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);								/* Check validity of the object */
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)									/* Check error */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
4094:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ))						/* Check access mode */
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream becomes busy */
4101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {			/* On the sector boundary? */
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {							/* On the cluster boundary? */
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust : get_fat(fp->fs, fp->clust);
4107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fp->fs, FR_INT_ERR);
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fp->fs, fp->clust);		/* Get current data sector */
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fp->fs, FR_INT_ERR);
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, sect) != FR_OK)		/* Move sector window */
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->dsect = sect;
4118:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - (WORD)(fp->fptr % SS(fp->fs));	/* Forward data from sector window */
ARM GAS  /tmp/ccLzcuV9.s 			page 209


4119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(&fp->fs->win.d8[(WORD)fp->fptr % SS(fp->fs)], rcnt);
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fp->fs, FR_INT_ERR);
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
4125:Middlewares/Third_Party/FatFs/src/ff.c **** }
4126:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 
4130:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
4131:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4132:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create file system on the logical drive                               */
4133:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4134:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_ROOTDIR	512		/* Number of root directory entries for FAT12/16 */
4135:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_FATS		1		/* Number of FATs (1 or 2) */
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 
4138:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
4139:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
4140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sfd,			/* Partitioning rule 0:FDISK, 1:SFD */
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT au				/* Size of allocation unit in unit of byte or sector */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** )
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD eb[2];
4156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4157:Middlewares/Third_Party/FatFs/src/ff.c **** 
4158:Middlewares/Third_Party/FatFs/src/ff.c **** 
4159:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get disk statics */
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4173:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK || SS(fs) > _MAX_SS || SS(fs) < _MIN_SS)
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
ARM GAS  /tmp/ccLzcuV9.s 			page 210


4176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, fs->win.d8, 0, 1) != RES_OK) return FR_DISK_ERR;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!tbl[4]) return FR_MKFS_ABORTED;	/* No partition? */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = LD_DWORD(tbl + 8);	/* Volume start sector */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol = LD_DWORD(tbl + 12);	/* Volume size */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a partition in this function */
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-compute number of clusters and FAT sub-type */
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = n_vol / au;
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine offset and size of FAT structure */
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
4214:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Align data start sector to erase block boundary (for flash memory media) */
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
4232:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
ARM GAS  /tmp/ccLzcuV9.s 			page 211


4233:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat += n;
4234:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine number of clusters and final check of validity of the FAT sub-type */
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 
4242:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT12 && n_vol < 0x10000) {
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[4] = sys;
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to teh MBR */
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 		md = 0xF8;
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sfd) {	/* No partition table (SFD) */
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
4263:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create BPB in the VBR */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fs->win.d8;							/* Clear sector */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
ARM GAS  /tmp/ccLzcuV9.s 			page 212


4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
4296:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_TotSec32, n_vol);
4298:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_Media] = md;					/* Media descriptor */
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BS_55AA, 0xAA55);			/* Signature (Offset is fixed here regardless of sector size) */
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize FAT area */
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	wsect = b_fat;
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < N_FATS; i++) {		/* Initialize each FAT copy */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= 0xFFFFFF00;
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccLzcuV9.s 			page 213


4347:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4348:Middlewares/Third_Party/FatFs/src/ff.c **** 
4349:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize root directory */
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? au : (UINT)n_dir;
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 
4356:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM	/* Erase data area if needed */
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 		eb[0] = wsect; eb[1] = wsect + (n_clst - ((fmt == FS_FAT32) ? 1 : 0)) * au - 1;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, eb);
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4361:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create FSINFO if needed */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_ioctl(pdrv, CTRL_SYNC, 0) == RES_OK) ? FR_OK : FR_DISK_ERR;
4375:Middlewares/Third_Party/FatFs/src/ff.c **** }
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 
4379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
4380:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4381:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
4382:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4383:Middlewares/Third_Party/FatFs/src/ff.c **** 
4384:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
4385:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD szt[],	/* Pointer to the size table for each partitions */
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
4388:Middlewares/Third_Party/FatFs/src/ff.c **** )
4389:Middlewares/Third_Party/FatFs/src/ff.c **** {
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
4392:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine CHS in the table regardless of the drive geometry */
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
ARM GAS  /tmp/ccLzcuV9.s 			page 214


4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
4421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x06;						/* System type (temporary setting) */
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 8, s_part);			/* Start sector in LBA */
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 12, sz_part);			/* Partition size */
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
4438:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(p, 0xAA55);
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
4443:Middlewares/Third_Party/FatFs/src/ff.c **** }
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 
4446:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
4447:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 
4452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
4453:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
4455:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 
4457:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
ARM GAS  /tmp/ccLzcuV9.s 			page 215


4461:Middlewares/Third_Party/FatFs/src/ff.c **** )
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
4470:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4471:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
4472:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4473:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4475:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence */
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence */
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4493:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
4497:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
4501:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
4511:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
4512:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4513:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4517:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/ccLzcuV9.s 			page 216


4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
4522:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 
4527:Middlewares/Third_Party/FatFs/src/ff.c **** 
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 
4530:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4531:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
4532:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4533:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
4534:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4535:Middlewares/Third_Party/FatFs/src/ff.c **** 
4536:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp;
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];
4540:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 
4543:Middlewares/Third_Party/FatFs/src/ff.c **** static
4544:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
4547:Middlewares/Third_Party/FatFs/src/ff.c **** )
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6257              		.loc 1 4548 1 is_stmt 1 view -0
 6258              		.cfi_startproc
 6259              		@ args = 0, pretend = 0, frame = 8
 6260              		@ frame_needed = 0, uses_anonymous_args = 0
 6261              		.loc 1 4548 1 is_stmt 0 view .LVU2075
 6262 0000 70B5     		push	{r4, r5, r6, lr}
 6263              	.LCFI61:
 6264              		.cfi_def_cfa_offset 16
 6265              		.cfi_offset 4, -16
 6266              		.cfi_offset 5, -12
 6267              		.cfi_offset 6, -8
 6268              		.cfi_offset 14, -4
 6269 0002 82B0     		sub	sp, sp, #8
 6270              	.LCFI62:
 6271              		.cfi_def_cfa_offset 24
 6272 0004 0446     		mov	r4, r0
 6273 0006 0D46     		mov	r5, r1
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 6274              		.loc 1 4549 2 is_stmt 1 view .LVU2076
4550:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 6275              		.loc 1 4550 2 view .LVU2077
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n')	 /* LF -> CRLF conversion */
 6276              		.loc 1 4553 2 view .LVU2078
 6277              		.loc 1 4553 5 is_stmt 0 view .LVU2079
ARM GAS  /tmp/ccLzcuV9.s 			page 217


 6278 0008 0A29     		cmp	r1, #10
 6279 000a 0DD0     		beq	.L498
 6280              	.LVL699:
 6281              	.L492:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;	/* Buffer write index (-1:error) */
 6282              		.loc 1 4556 2 is_stmt 1 view .LVU2080
 6283              		.loc 1 4556 4 is_stmt 0 view .LVU2081
 6284 000c 6368     		ldr	r3, [r4, #4]
 6285              	.LVL700:
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 6286              		.loc 1 4557 2 is_stmt 1 view .LVU2082
 6287              		.loc 1 4557 5 is_stmt 0 view .LVU2083
 6288 000e 002B     		cmp	r3, #0
 6289 0010 08DB     		blt	.L491
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
4567:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
4576:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4578:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
4580:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 6290              		.loc 1 4586 2 is_stmt 1 view .LVU2084
 6291              		.loc 1 4586 11 is_stmt 0 view .LVU2085
 6292 0012 5E1C     		adds	r6, r3, #1
 6293              	.LVL701:
 6294              		.loc 1 4586 15 view .LVU2086
 6295 0014 2344     		add	r3, r3, r4
 6296 0016 1D73     		strb	r5, [r3, #12]
4587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 6297              		.loc 1 4589 2 is_stmt 1 view .LVU2087
 6298              		.loc 1 4589 5 is_stmt 0 view .LVU2088
ARM GAS  /tmp/ccLzcuV9.s 			page 218


 6299 0018 3C2E     		cmp	r6, #60
 6300 001a 09DC     		bgt	.L499
 6301              	.LVL702:
 6302              	.L495:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 6303              		.loc 1 4593 2 is_stmt 1 view .LVU2089
 6304              		.loc 1 4593 10 is_stmt 0 view .LVU2090
 6305 001c 6660     		str	r6, [r4, #4]
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 6306              		.loc 1 4594 2 is_stmt 1 view .LVU2091
 6307              		.loc 1 4594 4 is_stmt 0 view .LVU2092
 6308 001e A368     		ldr	r3, [r4, #8]
 6309              		.loc 1 4594 10 view .LVU2093
 6310 0020 0133     		adds	r3, r3, #1
 6311 0022 A360     		str	r3, [r4, #8]
 6312              	.LVL703:
 6313              	.L491:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6314              		.loc 1 4595 1 view .LVU2094
 6315 0024 02B0     		add	sp, sp, #8
 6316              	.LCFI63:
 6317              		.cfi_remember_state
 6318              		.cfi_def_cfa_offset 16
 6319              		@ sp needed
 6320 0026 70BD     		pop	{r4, r5, r6, pc}
 6321              	.LVL704:
 6322              	.L498:
 6323              	.LCFI64:
 6324              		.cfi_restore_state
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6325              		.loc 1 4554 3 is_stmt 1 view .LVU2095
 6326 0028 0D21     		movs	r1, #13
 6327              	.LVL705:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6328              		.loc 1 4554 3 is_stmt 0 view .LVU2096
 6329 002a FFF7E9FF 		bl	putc_bfd
 6330              	.LVL706:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6331              		.loc 1 4554 3 view .LVU2097
 6332 002e EDE7     		b	.L492
 6333              	.LVL707:
 6334              	.L499:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6335              		.loc 1 4590 3 is_stmt 1 view .LVU2098
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6336              		.loc 1 4590 21 is_stmt 0 view .LVU2099
 6337 0030 2146     		mov	r1, r4
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6338              		.loc 1 4590 3 view .LVU2100
 6339 0032 51F80C0B 		ldr	r0, [r1], #12
 6340 0036 01AB     		add	r3, sp, #4
 6341 0038 3246     		mov	r2, r6
 6342 003a FFF7FEFF 		bl	f_write
 6343              	.LVL708:
ARM GAS  /tmp/ccLzcuV9.s 			page 219


4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6344              		.loc 1 4591 3 is_stmt 1 view .LVU2101
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6345              		.loc 1 4591 11 is_stmt 0 view .LVU2102
 6346 003e 019B     		ldr	r3, [sp, #4]
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6347              		.loc 1 4591 27 view .LVU2103
 6348 0040 9E42     		cmp	r6, r3
 6349 0042 02D0     		beq	.L500
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6350              		.loc 1 4591 27 discriminator 2 view .LVU2104
 6351 0044 4FF0FF36 		mov	r6, #-1
 6352              	.LVL709:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6353              		.loc 1 4591 27 discriminator 2 view .LVU2105
 6354 0048 E8E7     		b	.L495
 6355              	.LVL710:
 6356              	.L500:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6357              		.loc 1 4591 27 discriminator 1 view .LVU2106
 6358 004a 0026     		movs	r6, #0
 6359              	.LVL711:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6360              		.loc 1 4591 27 discriminator 1 view .LVU2107
 6361 004c E6E7     		b	.L495
 6362              		.cfi_endproc
 6363              	.LFE119:
 6365              		.section	.text.f_sync,"ax",%progbits
 6366              		.align	1
 6367              		.global	f_sync
 6368              		.syntax unified
 6369              		.thumb
 6370              		.thumb_func
 6372              	f_sync:
 6373              	.LVL712:
 6374              	.LFB103:
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6375              		.loc 1 2884 1 is_stmt 1 view -0
 6376              		.cfi_startproc
 6377              		@ args = 0, pretend = 0, frame = 0
 6378              		@ frame_needed = 0, uses_anonymous_args = 0
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6379              		.loc 1 2884 1 is_stmt 0 view .LVU2109
 6380 0000 38B5     		push	{r3, r4, r5, lr}
 6381              	.LCFI65:
 6382              		.cfi_def_cfa_offset 16
 6383              		.cfi_offset 3, -16
 6384              		.cfi_offset 4, -12
 6385              		.cfi_offset 5, -8
 6386              		.cfi_offset 14, -4
 6387 0002 0446     		mov	r4, r0
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 6388              		.loc 1 2885 2 is_stmt 1 view .LVU2110
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 6389              		.loc 1 2886 2 view .LVU2111
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6390              		.loc 1 2887 2 view .LVU2112
ARM GAS  /tmp/ccLzcuV9.s 			page 220


2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6391              		.loc 1 2890 2 view .LVU2113
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6392              		.loc 1 2890 8 is_stmt 0 view .LVU2114
 6393 0004 FFF7FEFF 		bl	validate
 6394              	.LVL713:
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6395              		.loc 1 2891 2 is_stmt 1 view .LVU2115
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6396              		.loc 1 2891 5 is_stmt 0 view .LVU2116
 6397 0008 00BB     		cbnz	r0, .L502
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6398              		.loc 1 2892 3 is_stmt 1 view .LVU2117
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6399              		.loc 1 2892 9 is_stmt 0 view .LVU2118
 6400 000a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6401              		.loc 1 2892 6 view .LVU2119
 6402 000e 13F0200F 		tst	r3, #32
 6403 0012 1BD0     		beq	.L502
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6404              		.loc 1 2895 4 is_stmt 1 view .LVU2120
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6405              		.loc 1 2895 7 is_stmt 0 view .LVU2121
 6406 0014 13F0400F 		tst	r3, #64
 6407 0018 11D0     		beq	.L503
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6408              		.loc 1 2896 5 is_stmt 1 view .LVU2122
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6409              		.loc 1 2896 22 is_stmt 0 view .LVU2123
 6410 001a D4F80002 		ldr	r0, [r4, #512]
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6411              		.loc 1 2896 9 view .LVU2124
 6412 001e 0123     		movs	r3, #1
 6413 0020 D4F81822 		ldr	r2, [r4, #536]
 6414 0024 2146     		mov	r1, r4
 6415 0026 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 6416 002a FFF7FEFF 		bl	disk_write
 6417              	.LVL714:
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6418              		.loc 1 2896 8 discriminator 1 view .LVU2125
 6419 002e 0028     		cmp	r0, #0
 6420 0030 43D1     		bne	.L504
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6421              		.loc 1 2898 5 is_stmt 1 view .LVU2126
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6422              		.loc 1 2898 7 is_stmt 0 view .LVU2127
 6423 0032 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6424              		.loc 1 2898 14 view .LVU2128
 6425 0036 23F04003 		bic	r3, r3, #64
 6426 003a 84F80632 		strb	r3, [r4, #518]
 6427              	.L503:
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6428              		.loc 1 2902 4 is_stmt 1 view .LVU2129
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6429              		.loc 1 2902 10 is_stmt 0 view .LVU2130
ARM GAS  /tmp/ccLzcuV9.s 			page 221


 6430 003e D4F81C12 		ldr	r1, [r4, #540]
 6431 0042 D4F80002 		ldr	r0, [r4, #512]
 6432 0046 FFF7FEFF 		bl	move_window
 6433              	.LVL715:
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6434              		.loc 1 2903 4 is_stmt 1 view .LVU2131
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6435              		.loc 1 2903 7 is_stmt 0 view .LVU2132
 6436 004a 00B1     		cbz	r0, .L506
 6437              	.LVL716:
 6438              	.L502:
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6439              		.loc 1 2919 1 view .LVU2133
 6440 004c 38BD     		pop	{r3, r4, r5, pc}
 6441              	.LVL717:
 6442              	.L506:
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 6443              		.loc 1 2904 5 is_stmt 1 view .LVU2134
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 6444              		.loc 1 2904 9 is_stmt 0 view .LVU2135
 6445 004e D4F82052 		ldr	r5, [r4, #544]
 6446              	.LVL718:
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6447              		.loc 1 2905 5 is_stmt 1 view .LVU2136
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6448              		.loc 1 2905 8 is_stmt 0 view .LVU2137
 6449 0052 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 6450              		.loc 1 2905 19 view .LVU2138
 6451 0054 43F02003 		orr	r3, r3, #32
 6452 0058 EB72     		strb	r3, [r5, #11]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6453              		.loc 1 2906 5 is_stmt 1 view .LVU2139
 6454 005a 94F80C32 		ldrb	r3, [r4, #524]	@ zero_extendqisi2
 6455 005e 2B77     		strb	r3, [r5, #28]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6456              		.loc 1 2906 5 view .LVU2140
 6457 0060 B4F80C32 		ldrh	r3, [r4, #524]
 6458 0064 1B0A     		lsrs	r3, r3, #8
 6459 0066 6B77     		strb	r3, [r5, #29]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6460              		.loc 1 2906 5 view .LVU2141
 6461 0068 94F80E32 		ldrb	r3, [r4, #526]	@ zero_extendqisi2
 6462 006c AB77     		strb	r3, [r5, #30]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 6463              		.loc 1 2906 5 view .LVU2142
 6464 006e 94F80F32 		ldrb	r3, [r4, #527]	@ zero_extendqisi2
 6465 0072 EB77     		strb	r3, [r5, #31]
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 6466              		.loc 1 2907 5 view .LVU2143
 6467 0074 D4F81012 		ldr	r1, [r4, #528]
 6468 0078 2846     		mov	r0, r5
 6469              	.LVL719:
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 6470              		.loc 1 2907 5 is_stmt 0 view .LVU2144
 6471 007a FFF7FEFF 		bl	st_clust
 6472              	.LVL720:
ARM GAS  /tmp/ccLzcuV9.s 			page 222


2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6473              		.loc 1 2908 5 is_stmt 1 view .LVU2145
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 6474              		.loc 1 2908 10 is_stmt 0 view .LVU2146
 6475 007e FFF7FEFF 		bl	get_fattime
 6476              	.LVL721:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6477              		.loc 1 2909 5 is_stmt 1 view .LVU2147
 6478 0082 A875     		strb	r0, [r5, #22]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6479              		.loc 1 2909 5 view .LVU2148
 6480 0084 C0F30723 		ubfx	r3, r0, #8, #8
 6481 0088 EB75     		strb	r3, [r5, #23]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6482              		.loc 1 2909 5 view .LVU2149
 6483 008a C0F30743 		ubfx	r3, r0, #16, #8
 6484 008e 2B76     		strb	r3, [r5, #24]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6485              		.loc 1 2909 5 view .LVU2150
 6486 0090 000E     		lsrs	r0, r0, #24
 6487              	.LVL722:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 6488              		.loc 1 2909 5 is_stmt 0 view .LVU2151
 6489 0092 6876     		strb	r0, [r5, #25]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 6490              		.loc 1 2910 5 is_stmt 1 view .LVU2152
 6491 0094 0023     		movs	r3, #0
 6492 0096 AB74     		strb	r3, [r5, #18]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 6493              		.loc 1 2910 5 view .LVU2153
 6494 0098 EB74     		strb	r3, [r5, #19]
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6495              		.loc 1 2911 5 view .LVU2154
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6496              		.loc 1 2911 7 is_stmt 0 view .LVU2155
 6497 009a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 6498              		.loc 1 2911 14 view .LVU2156
 6499 009e 23F02003 		bic	r3, r3, #32
 6500 00a2 84F80632 		strb	r3, [r4, #518]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6501              		.loc 1 2912 5 is_stmt 1 view .LVU2157
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6502              		.loc 1 2912 7 is_stmt 0 view .LVU2158
 6503 00a6 D4F80032 		ldr	r3, [r4, #512]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 6504              		.loc 1 2912 19 view .LVU2159
 6505 00aa 0122     		movs	r2, #1
 6506 00ac 83F80422 		strb	r2, [r3, #516]
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6507              		.loc 1 2913 5 is_stmt 1 view .LVU2160
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6508              		.loc 1 2913 11 is_stmt 0 view .LVU2161
 6509 00b0 D4F80002 		ldr	r0, [r4, #512]
 6510 00b4 FFF7FEFF 		bl	sync_fs
 6511              	.LVL723:
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/ccLzcuV9.s 			page 223


 6512              		.loc 1 2913 11 view .LVU2162
 6513 00b8 C8E7     		b	.L502
 6514              	.LVL724:
 6515              	.L504:
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6516              		.loc 1 2897 6 view .LVU2163
 6517 00ba 0120     		movs	r0, #1
 6518 00bc C6E7     		b	.L502
 6519              		.cfi_endproc
 6520              	.LFE103:
 6522              		.section	.text.f_close,"ax",%progbits
 6523              		.align	1
 6524              		.global	f_close
 6525              		.syntax unified
 6526              		.thumb
 6527              		.thumb_func
 6529              	f_close:
 6530              	.LVL725:
 6531              	.LFB104:
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6532              		.loc 1 2933 1 is_stmt 1 view -0
 6533              		.cfi_startproc
 6534              		@ args = 0, pretend = 0, frame = 0
 6535              		@ frame_needed = 0, uses_anonymous_args = 0
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6536              		.loc 1 2933 1 is_stmt 0 view .LVU2165
 6537 0000 10B5     		push	{r4, lr}
 6538              	.LCFI66:
 6539              		.cfi_def_cfa_offset 8
 6540              		.cfi_offset 4, -8
 6541              		.cfi_offset 14, -4
 6542 0002 0446     		mov	r4, r0
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6543              		.loc 1 2934 2 is_stmt 1 view .LVU2166
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 6544              		.loc 1 2938 2 view .LVU2167
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 6545              		.loc 1 2938 8 is_stmt 0 view .LVU2168
 6546 0004 FFF7FEFF 		bl	f_sync
 6547              	.LVL726:
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6548              		.loc 1 2939 2 is_stmt 1 view .LVU2169
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6549              		.loc 1 2939 5 is_stmt 0 view .LVU2170
 6550 0008 00B1     		cbz	r0, .L510
 6551              	.L508:
 6552              	.LVL727:
2957:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6553              		.loc 1 2957 2 is_stmt 1 view .LVU2171
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6554              		.loc 1 2958 1 is_stmt 0 view .LVU2172
 6555 000a 10BD     		pop	{r4, pc}
 6556              	.LVL728:
 6557              	.L510:
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6558              		.loc 1 2942 3 is_stmt 1 view .LVU2173
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  /tmp/ccLzcuV9.s 			page 224


 6559              		.loc 1 2942 9 is_stmt 0 view .LVU2174
 6560 000c 2046     		mov	r0, r4
 6561 000e FFF7FEFF 		bl	validate
 6562              	.LVL729:
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6563              		.loc 1 2943 3 is_stmt 1 view .LVU2175
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6564              		.loc 1 2943 6 is_stmt 0 view .LVU2176
 6565 0012 0028     		cmp	r0, #0
 6566 0014 F9D1     		bne	.L508
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6567              		.loc 1 2948 4 is_stmt 1 view .LVU2177
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6568              		.loc 1 2948 10 is_stmt 0 view .LVU2178
 6569 0016 D4F82802 		ldr	r0, [r4, #552]
 6570              	.LVL730:
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 6571              		.loc 1 2948 10 view .LVU2179
 6572 001a FFF7FEFF 		bl	dec_lock
 6573              	.LVL731:
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6574              		.loc 1 2949 4 is_stmt 1 view .LVU2180
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6575              		.loc 1 2949 7 is_stmt 0 view .LVU2181
 6576 001e 0028     		cmp	r0, #0
 6577 0020 F3D1     		bne	.L508
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6578              		.loc 1 2951 5 is_stmt 1 view .LVU2182
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 6579              		.loc 1 2951 12 is_stmt 0 view .LVU2183
 6580 0022 C4F80002 		str	r0, [r4, #512]
 6581 0026 F0E7     		b	.L508
 6582              		.cfi_endproc
 6583              	.LFE104:
 6585              		.section	.text.f_lseek,"ax",%progbits
 6586              		.align	1
 6587              		.global	f_lseek
 6588              		.syntax unified
 6589              		.thumb
 6590              		.thumb_func
 6592              	f_lseek:
 6593              	.LVL732:
 6594              	.LFB105:
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6595              		.loc 1 3106 1 is_stmt 1 view -0
 6596              		.cfi_startproc
 6597              		@ args = 0, pretend = 0, frame = 0
 6598              		@ frame_needed = 0, uses_anonymous_args = 0
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6599              		.loc 1 3106 1 is_stmt 0 view .LVU2185
 6600 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6601              	.LCFI67:
 6602              		.cfi_def_cfa_offset 40
 6603              		.cfi_offset 3, -40
 6604              		.cfi_offset 4, -36
 6605              		.cfi_offset 5, -32
 6606              		.cfi_offset 6, -28
ARM GAS  /tmp/ccLzcuV9.s 			page 225


 6607              		.cfi_offset 7, -24
 6608              		.cfi_offset 8, -20
 6609              		.cfi_offset 9, -16
 6610              		.cfi_offset 10, -12
 6611              		.cfi_offset 11, -8
 6612              		.cfi_offset 14, -4
 6613 0004 0446     		mov	r4, r0
 6614 0006 0D46     		mov	r5, r1
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
 6615              		.loc 1 3107 2 is_stmt 1 view .LVU2186
3108:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 6616              		.loc 1 3108 2 view .LVU2187
3110:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6617              		.loc 1 3110 2 view .LVU2188
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6618              		.loc 1 3114 2 view .LVU2189
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6619              		.loc 1 3114 8 is_stmt 0 view .LVU2190
 6620 0008 FFF7FEFF 		bl	validate
 6621              	.LVL733:
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 6622              		.loc 1 3115 2 is_stmt 1 view .LVU2191
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 6623              		.loc 1 3115 5 is_stmt 0 view .LVU2192
 6624 000c 0646     		mov	r6, r0
 6625 000e 0028     		cmp	r0, #0
 6626 0010 40F07981 		bne	.L512
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6627              		.loc 1 3116 2 is_stmt 1 view .LVU2193
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6628              		.loc 1 3116 8 is_stmt 0 view .LVU2194
 6629 0014 94F80732 		ldrb	r3, [r4, #519]	@ zero_extendqisi2
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 6630              		.loc 1 3116 5 view .LVU2195
 6631 0018 002B     		cmp	r3, #0
 6632 001a 40F07381 		bne	.L546
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6633              		.loc 1 3120 2 is_stmt 1 view .LVU2196
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6634              		.loc 1 3120 8 is_stmt 0 view .LVU2197
 6635 001e D4F82432 		ldr	r3, [r4, #548]
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 6636              		.loc 1 3120 5 view .LVU2198
 6637 0022 002B     		cmp	r3, #0
 6638 0024 00F09D80 		beq	.L513
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 6639              		.loc 1 3121 3 is_stmt 1 view .LVU2199
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 6640              		.loc 1 3121 6 is_stmt 0 view .LVU2200
 6641 0028 B5F1FF3F 		cmp	r5, #-1
 6642 002c 4BD0     		beq	.L554
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6643              		.loc 1 3147 4 is_stmt 1 view .LVU2201
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 6644              		.loc 1 3147 16 is_stmt 0 view .LVU2202
 6645 002e D4F80C72 		ldr	r7, [r4, #524]
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
ARM GAS  /tmp/ccLzcuV9.s 			page 226


 6646              		.loc 1 3147 7 view .LVU2203
 6647 0032 AF42     		cmp	r7, r5
 6648 0034 00D3     		bcc	.L521
 6649 0036 2F46     		mov	r7, r5
 6650              	.L521:
 6651              	.LVL734:
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 6652              		.loc 1 3149 4 is_stmt 1 view .LVU2204
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 6653              		.loc 1 3149 13 is_stmt 0 view .LVU2205
 6654 0038 C4F80872 		str	r7, [r4, #520]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 6655              		.loc 1 3150 4 is_stmt 1 view .LVU2206
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 6656              		.loc 1 3150 7 is_stmt 0 view .LVU2207
 6657 003c 002F     		cmp	r7, #0
 6658 003e 00F06281 		beq	.L512
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6659              		.loc 1 3151 5 is_stmt 1 view .LVU2208
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6660              		.loc 1 3151 17 is_stmt 0 view .LVU2209
 6661 0042 07F1FF38 		add	r8, r7, #-1
 6662 0046 4146     		mov	r1, r8
 6663 0048 2046     		mov	r0, r4
 6664              	.LVL735:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6665              		.loc 1 3151 17 view .LVU2210
 6666 004a FFF7FEFF 		bl	clmt_clust
 6667              	.LVL736:
 6668 004e 0146     		mov	r1, r0
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 6669              		.loc 1 3151 15 discriminator 1 view .LVU2211
 6670 0050 C4F81402 		str	r0, [r4, #532]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 6671              		.loc 1 3152 5 is_stmt 1 view .LVU2212
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 6672              		.loc 1 3152 11 is_stmt 0 view .LVU2213
 6673 0054 D4F80052 		ldr	r5, [r4, #512]
 6674 0058 2846     		mov	r0, r5
 6675 005a FFF7FEFF 		bl	clust2sect
 6676              	.LVL737:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6677              		.loc 1 3153 5 is_stmt 1 view .LVU2214
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6678              		.loc 1 3153 8 is_stmt 0 view .LVU2215
 6679 005e 0028     		cmp	r0, #0
 6680 0060 73D0     		beq	.L555
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6681              		.loc 1 3153 40 is_stmt 1 discriminator 2 view .LVU2216
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6682              		.loc 1 3154 5 view .LVU2217
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6683              		.loc 1 3154 44 is_stmt 0 view .LVU2218
 6684 0062 95F80212 		ldrb	r1, [r5, #514]	@ zero_extendqisi2
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6685              		.loc 1 3154 52 view .LVU2219
 6686 0066 0139     		subs	r1, r1, #1
ARM GAS  /tmp/ccLzcuV9.s 			page 227


3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6687              		.loc 1 3154 35 view .LVU2220
 6688 0068 01EA5821 		and	r1, r1, r8, lsr #9
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 6689              		.loc 1 3154 9 view .LVU2221
 6690 006c 01EB0008 		add	r8, r1, r0
 6691              	.LVL738:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6692              		.loc 1 3155 5 is_stmt 1 view .LVU2222
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6693              		.loc 1 3155 18 is_stmt 0 view .LVU2223
 6694 0070 C7F30807 		ubfx	r7, r7, #0, #9
 6695              	.LVL739:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6696              		.loc 1 3155 8 view .LVU2224
 6697 0074 002F     		cmp	r7, #0
 6698 0076 00F04681 		beq	.L512
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6699              		.loc 1 3155 43 discriminator 1 view .LVU2225
 6700 007a D4F81822 		ldr	r2, [r4, #536]
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6701              		.loc 1 3155 31 discriminator 1 view .LVU2226
 6702 007e 4245     		cmp	r2, r8
 6703 0080 00F04181 		beq	.L512
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6704              		.loc 1 3158 6 is_stmt 1 view .LVU2227
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6705              		.loc 1 3158 12 is_stmt 0 view .LVU2228
 6706 0084 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6707              		.loc 1 3158 9 view .LVU2229
 6708 0088 13F0400F 		tst	r3, #64
 6709 008c 0DD0     		beq	.L523
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6710              		.loc 1 3159 7 is_stmt 1 view .LVU2230
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6711              		.loc 1 3159 11 is_stmt 0 view .LVU2231
 6712 008e 0123     		movs	r3, #1
 6713 0090 2146     		mov	r1, r4
 6714 0092 95F80102 		ldrb	r0, [r5, #513]	@ zero_extendqisi2
 6715 0096 FFF7FEFF 		bl	disk_write
 6716              	.LVL740:
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 6717              		.loc 1 3159 10 discriminator 1 view .LVU2232
 6718 009a 0028     		cmp	r0, #0
 6719 009c 59D1     		bne	.L556
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6720              		.loc 1 3160 34 is_stmt 1 view .LVU2233
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6721              		.loc 1 3161 7 view .LVU2234
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6722              		.loc 1 3161 9 is_stmt 0 view .LVU2235
 6723 009e 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6724              		.loc 1 3161 16 view .LVU2236
 6725 00a2 23F04003 		bic	r3, r3, #64
 6726 00a6 84F80632 		strb	r3, [r4, #518]
ARM GAS  /tmp/ccLzcuV9.s 			page 228


 6727              	.L523:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6728              		.loc 1 3164 6 is_stmt 1 view .LVU2237
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6729              		.loc 1 3164 22 is_stmt 0 view .LVU2238
 6730 00aa D4F80002 		ldr	r0, [r4, #512]
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6731              		.loc 1 3164 10 view .LVU2239
 6732 00ae 0123     		movs	r3, #1
 6733 00b0 4246     		mov	r2, r8
 6734 00b2 2146     		mov	r1, r4
 6735 00b4 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 6736 00b8 FFF7FEFF 		bl	disk_read
 6737              	.LVL741:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6738              		.loc 1 3164 9 discriminator 1 view .LVU2240
 6739 00bc 0028     		cmp	r0, #0
 6740 00be 4CD1     		bne	.L557
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6741              		.loc 1 3165 33 is_stmt 1 view .LVU2241
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6742              		.loc 1 3167 6 view .LVU2242
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6743              		.loc 1 3167 16 is_stmt 0 view .LVU2243
 6744 00c0 C4F81882 		str	r8, [r4, #536]
 6745 00c4 1FE1     		b	.L512
 6746              	.LVL742:
 6747              	.L554:
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 6748              		.loc 1 3122 4 is_stmt 1 view .LVU2244
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6749              		.loc 1 3123 4 view .LVU2245
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6750              		.loc 1 3123 15 is_stmt 0 view .LVU2246
 6751 00c6 9846     		mov	r8, r3
 6752              	.LVL743:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6753              		.loc 1 3123 9 view .LVU2247
 6754 00c8 58F804BB 		ldr	fp, [r8], #4
 6755              	.LVL744:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6756              		.loc 1 3123 19 is_stmt 1 view .LVU2248
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 6757              		.loc 1 3124 4 view .LVU2249
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 6758              		.loc 1 3124 7 is_stmt 0 view .LVU2250
 6759 00cc D4F810A2 		ldr	r10, [r4, #528]
 6760              	.LVL745:
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6761              		.loc 1 3125 4 is_stmt 1 view .LVU2251
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6762              		.loc 1 3125 7 is_stmt 0 view .LVU2252
 6763 00d0 BAF1000F 		cmp	r10, #0
 6764 00d4 2CD0     		beq	.L547
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6765              		.loc 1 3123 24 view .LVU2253
 6766 00d6 4FF00209 		mov	r9, #2
ARM GAS  /tmp/ccLzcuV9.s 			page 229


 6767              	.LVL746:
 6768              	.L520:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 6769              		.loc 1 3126 5 is_stmt 1 view .LVU2254
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6770              		.loc 1 3128 6 view .LVU2255
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6771              		.loc 1 3128 16 view .LVU2256
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6772              		.loc 1 3128 25 view .LVU2257
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6773              		.loc 1 3128 30 is_stmt 0 view .LVU2258
 6774 00da 09F10209 		add	r9, r9, #2
 6775              	.LVL747:
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6776              		.loc 1 3128 30 view .LVU2259
 6777 00de 5146     		mov	r1, r10
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6778              		.loc 1 3128 20 view .LVU2260
 6779 00e0 0027     		movs	r7, #0
 6780              	.LVL748:
 6781              	.L518:
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 6782              		.loc 1 3129 6 is_stmt 1 view .LVU2261
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6783              		.loc 1 3130 7 view .LVU2262
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6784              		.loc 1 3130 17 view .LVU2263
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 6785              		.loc 1 3130 20 is_stmt 0 view .LVU2264
 6786 00e2 0137     		adds	r7, r7, #1
 6787              	.LVL749:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6788              		.loc 1 3131 7 is_stmt 1 view .LVU2265
 6789 00e4 0D46     		mov	r5, r1
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6790              		.loc 1 3131 12 is_stmt 0 view .LVU2266
 6791 00e6 D4F80002 		ldr	r0, [r4, #512]
 6792 00ea FFF7FEFF 		bl	get_fat
 6793              	.LVL750:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6794              		.loc 1 3131 12 view .LVU2267
 6795 00ee 0146     		mov	r1, r0
 6796              	.LVL751:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6797              		.loc 1 3132 7 is_stmt 1 view .LVU2268
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6798              		.loc 1 3132 10 is_stmt 0 view .LVU2269
 6799 00f0 0128     		cmp	r0, #1
 6800 00f2 15D9     		bls	.L558
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6801              		.loc 1 3132 45 is_stmt 1 discriminator 2 view .LVU2270
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6802              		.loc 1 3133 7 view .LVU2271
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6803              		.loc 1 3133 10 is_stmt 0 view .LVU2272
 6804 00f4 B0F1FF3F 		cmp	r0, #-1
ARM GAS  /tmp/ccLzcuV9.s 			page 230


 6805 00f8 16D0     		beq	.L559
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6806              		.loc 1 3133 55 is_stmt 1 discriminator 2 view .LVU2273
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6807              		.loc 1 3134 18 view .LVU2274
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6808              		.loc 1 3134 25 is_stmt 0 view .LVU2275
 6809 00fa 0135     		adds	r5, r5, #1
 6810              	.LVL752:
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 6811              		.loc 1 3134 18 view .LVU2276
 6812 00fc 8542     		cmp	r5, r0
 6813 00fe F0D0     		beq	.L518
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 6814              		.loc 1 3135 6 is_stmt 1 view .LVU2277
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 6815              		.loc 1 3135 9 is_stmt 0 view .LVU2278
 6816 0100 CB45     		cmp	fp, r9
 6817 0102 05D3     		bcc	.L519
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6818              		.loc 1 3136 7 is_stmt 1 view .LVU2279
 6819              	.LVL753:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6820              		.loc 1 3136 14 is_stmt 0 view .LVU2280
 6821 0104 4346     		mov	r3, r8
 6822 0106 43F8087B 		str	r7, [r3], #8
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6823              		.loc 1 3136 21 is_stmt 1 view .LVU2281
 6824              	.LVL754:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6825              		.loc 1 3136 28 is_stmt 0 view .LVU2282
 6826 010a C8F804A0 		str	r10, [r8, #4]
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6827              		.loc 1 3136 25 view .LVU2283
 6828 010e 9846     		mov	r8, r3
 6829              	.LVL755:
 6830              	.L519:
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6831              		.loc 1 3138 17 is_stmt 1 view .LVU2284
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6832              		.loc 1 3138 21 is_stmt 0 view .LVU2285
 6833 0110 D4F80032 		ldr	r3, [r4, #512]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6834              		.loc 1 3138 25 view .LVU2286
 6835 0114 D3F81432 		ldr	r3, [r3, #532]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6836              		.loc 1 3138 17 view .LVU2287
 6837 0118 8B42     		cmp	r3, r1
 6838 011a 0BD9     		bls	.L515
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6839              		.loc 1 3131 12 view .LVU2288
 6840 011c 8A46     		mov	r10, r1
 6841              	.LVL756:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 6842              		.loc 1 3131 12 view .LVU2289
 6843 011e DCE7     		b	.L520
 6844              	.LVL757:
ARM GAS  /tmp/ccLzcuV9.s 			page 231


 6845              	.L558:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6846              		.loc 1 3132 20 is_stmt 1 discriminator 1 view .LVU2290
 6847 0120 0226     		movs	r6, #2
 6848              	.LVL758:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6849              		.loc 1 3132 20 is_stmt 0 discriminator 1 view .LVU2291
 6850 0122 84F80762 		strb	r6, [r4, #519]
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6851              		.loc 1 3132 20 is_stmt 1 discriminator 1 view .LVU2292
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6852              		.loc 1 3132 20 is_stmt 0 view .LVU2293
 6853 0126 EEE0     		b	.L512
 6854              	.LVL759:
 6855              	.L559:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6856              		.loc 1 3133 29 is_stmt 1 discriminator 1 view .LVU2294
 6857 0128 0126     		movs	r6, #1
 6858              	.LVL760:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6859              		.loc 1 3133 29 is_stmt 0 discriminator 1 view .LVU2295
 6860 012a 84F80762 		strb	r6, [r4, #519]
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6861              		.loc 1 3133 29 is_stmt 1 discriminator 1 view .LVU2296
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 6862              		.loc 1 3133 29 is_stmt 0 view .LVU2297
 6863 012e EAE0     		b	.L512
 6864              	.LVL761:
 6865              	.L547:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 6866              		.loc 1 3123 24 view .LVU2298
 6867 0130 4FF00209 		mov	r9, #2
 6868              	.LVL762:
 6869              	.L515:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 6870              		.loc 1 3140 4 is_stmt 1 view .LVU2299
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 6871              		.loc 1 3140 7 is_stmt 0 view .LVU2300
 6872 0134 D4F82432 		ldr	r3, [r4, #548]
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 6873              		.loc 1 3140 15 view .LVU2301
 6874 0138 C3F80090 		str	r9, [r3]
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 6875              		.loc 1 3141 4 is_stmt 1 view .LVU2302
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 6876              		.loc 1 3141 7 is_stmt 0 view .LVU2303
 6877 013c D945     		cmp	r9, fp
 6878 013e 00F2E580 		bhi	.L549
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 6879              		.loc 1 3142 5 is_stmt 1 view .LVU2304
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 6880              		.loc 1 3142 10 is_stmt 0 view .LVU2305
 6881 0142 0023     		movs	r3, #0
 6882 0144 C8F80030 		str	r3, [r8]
 6883 0148 DDE0     		b	.L512
 6884              	.LVL763:
 6885              	.L555:
ARM GAS  /tmp/ccLzcuV9.s 			page 232


3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6886              		.loc 1 3153 15 is_stmt 1 discriminator 1 view .LVU2306
 6887 014a 0226     		movs	r6, #2
 6888              	.LVL764:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6889              		.loc 1 3153 15 is_stmt 0 discriminator 1 view .LVU2307
 6890 014c 84F80762 		strb	r6, [r4, #519]
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6891              		.loc 1 3153 15 is_stmt 1 discriminator 1 view .LVU2308
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 6892              		.loc 1 3153 15 is_stmt 0 view .LVU2309
 6893 0150 D9E0     		b	.L512
 6894              	.LVL765:
 6895              	.L556:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6896              		.loc 1 3160 8 is_stmt 1 view .LVU2310
 6897 0152 0126     		movs	r6, #1
 6898              	.LVL766:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6899              		.loc 1 3160 8 is_stmt 0 view .LVU2311
 6900 0154 84F80762 		strb	r6, [r4, #519]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 6901              		.loc 1 3160 8 is_stmt 1 view .LVU2312
 6902 0158 D5E0     		b	.L512
 6903              	.LVL767:
 6904              	.L557:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6905              		.loc 1 3165 7 view .LVU2313
 6906 015a 0126     		movs	r6, #1
 6907              	.LVL768:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6908              		.loc 1 3165 7 is_stmt 0 view .LVU2314
 6909 015c 84F80762 		strb	r6, [r4, #519]
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6910              		.loc 1 3165 7 is_stmt 1 view .LVU2315
 6911 0160 D1E0     		b	.L512
 6912              	.LVL769:
 6913              	.L513:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6914              		.loc 1 3176 3 view .LVU2316
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6915              		.loc 1 3176 15 is_stmt 0 view .LVU2317
 6916 0162 D4F80C32 		ldr	r3, [r4, #524]
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6917              		.loc 1 3176 6 view .LVU2318
 6918 0166 AB42     		cmp	r3, r5
 6919 0168 05D2     		bcs	.L526
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6920              		.loc 1 3178 12 view .LVU2319
 6921 016a 94F80622 		ldrb	r2, [r4, #518]	@ zero_extendqisi2
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6922              		.loc 1 3178 5 view .LVU2320
 6923 016e 12F0020F 		tst	r2, #2
 6924 0172 00D1     		bne	.L526
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6925              		.loc 1 3180 10 view .LVU2321
 6926 0174 1D46     		mov	r5, r3
ARM GAS  /tmp/ccLzcuV9.s 			page 233


 6927              	.LVL770:
 6928              	.L526:
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 6929              		.loc 1 3182 3 is_stmt 1 view .LVU2322
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 6930              		.loc 1 3182 9 is_stmt 0 view .LVU2323
 6931 0176 D4F80832 		ldr	r3, [r4, #520]
 6932              	.LVL771:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6933              		.loc 1 3183 3 is_stmt 1 view .LVU2324
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6934              		.loc 1 3183 12 is_stmt 0 view .LVU2325
 6935 017a 0022     		movs	r2, #0
 6936 017c C4F80822 		str	r2, [r4, #520]
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 6937              		.loc 1 3184 3 is_stmt 1 view .LVU2326
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 6938              		.loc 1 3184 6 is_stmt 0 view .LVU2327
 6939 0180 0DB3     		cbz	r5, .L527
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6940              		.loc 1 3185 4 is_stmt 1 view .LVU2328
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6941              		.loc 1 3185 19 is_stmt 0 view .LVU2329
 6942 0182 D4F80002 		ldr	r0, [r4, #512]
 6943              	.LVL772:
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6944              		.loc 1 3185 23 view .LVU2330
 6945 0186 90F80282 		ldrb	r8, [r0, #514]	@ zero_extendqisi2
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6946              		.loc 1 3185 8 view .LVU2331
 6947 018a 4FEA4828 		lsl	r8, r8, #9
 6948              	.LVL773:
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6949              		.loc 1 3186 4 is_stmt 1 view .LVU2332
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6950              		.loc 1 3186 7 is_stmt 0 view .LVU2333
 6951 018e 83B1     		cbz	r3, .L528
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 6952              		.loc 1 3187 10 view .LVU2334
 6953 0190 6A1E     		subs	r2, r5, #1
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 6954              		.loc 1 3187 15 view .LVU2335
 6955 0192 B2FBF8F2 		udiv	r2, r2, r8
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 6956              		.loc 1 3187 31 view .LVU2336
 6957 0196 013B     		subs	r3, r3, #1
 6958              	.LVL774:
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 6959              		.loc 1 3187 36 view .LVU2337
 6960 0198 B3FBF8F1 		udiv	r1, r3, r8
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6961              		.loc 1 3186 18 discriminator 1 view .LVU2338
 6962 019c 8A42     		cmp	r2, r1
 6963 019e 08D3     		bcc	.L528
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 6964              		.loc 1 3188 5 is_stmt 1 view .LVU2339
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
ARM GAS  /tmp/ccLzcuV9.s 			page 234


 6965              		.loc 1 3188 30 is_stmt 0 view .LVU2340
 6966 01a0 C8F10002 		rsb	r2, r8, #0
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 6967              		.loc 1 3188 28 view .LVU2341
 6968 01a4 1340     		ands	r3, r3, r2
 6969              	.LVL775:
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 6970              		.loc 1 3188 14 view .LVU2342
 6971 01a6 C4F80832 		str	r3, [r4, #520]
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 6972              		.loc 1 3189 5 is_stmt 1 view .LVU2343
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 6973              		.loc 1 3189 9 is_stmt 0 view .LVU2344
 6974 01aa EF1A     		subs	r7, r5, r3
 6975              	.LVL776:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 6976              		.loc 1 3190 5 is_stmt 1 view .LVU2345
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 6977              		.loc 1 3190 10 is_stmt 0 view .LVU2346
 6978 01ac D4F81452 		ldr	r5, [r4, #532]
 6979              	.LVL777:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 6980              		.loc 1 3190 10 view .LVU2347
 6981 01b0 07E0     		b	.L529
 6982              	.LVL778:
 6983              	.L528:
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6984              		.loc 1 3192 5 is_stmt 1 view .LVU2348
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6985              		.loc 1 3192 10 is_stmt 0 view .LVU2349
 6986 01b2 D4F81032 		ldr	r3, [r4, #528]
 6987              	.LVL779:
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 6988              		.loc 1 3194 5 is_stmt 1 view .LVU2350
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 6989              		.loc 1 3194 8 is_stmt 0 view .LVU2351
 6990 01b6 002B     		cmp	r3, #0
 6991 01b8 3FD0     		beq	.L560
 6992              	.L530:
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6993              		.loc 1 3201 5 is_stmt 1 view .LVU2352
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6994              		.loc 1 3201 15 is_stmt 0 view .LVU2353
 6995 01ba C4F81432 		str	r3, [r4, #532]
 6996 01be 2F46     		mov	r7, r5
 6997 01c0 1D46     		mov	r5, r3
 6998              	.LVL780:
 6999              	.L529:
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7000              		.loc 1 3203 4 is_stmt 1 view .LVU2354
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7001              		.loc 1 3203 7 is_stmt 0 view .LVU2355
 7002 01c2 002D     		cmp	r5, #0
 7003 01c4 67D1     		bne	.L533
 7004              	.LVL781:
 7005              	.L527:
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
ARM GAS  /tmp/ccLzcuV9.s 			page 235


 7006              		.loc 1 3228 3 is_stmt 1 view .LVU2356
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7007              		.loc 1 3228 9 is_stmt 0 view .LVU2357
 7008 01c6 D4F80832 		ldr	r3, [r4, #520]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7009              		.loc 1 3228 16 view .LVU2358
 7010 01ca C3F30803 		ubfx	r3, r3, #0, #9
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7011              		.loc 1 3228 6 view .LVU2359
 7012 01ce 2BB3     		cbz	r3, .L542
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7013              		.loc 1 3228 43 discriminator 1 view .LVU2360
 7014 01d0 D4F81822 		ldr	r2, [r4, #536]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7015              		.loc 1 3228 29 discriminator 1 view .LVU2361
 7016 01d4 AA42     		cmp	r2, r5
 7017 01d6 21D0     		beq	.L542
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7018              		.loc 1 3231 4 is_stmt 1 view .LVU2362
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7019              		.loc 1 3231 10 is_stmt 0 view .LVU2363
 7020 01d8 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7021              		.loc 1 3231 7 view .LVU2364
 7022 01dc 13F0400F 		tst	r3, #64
 7023 01e0 0FD0     		beq	.L543
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7024              		.loc 1 3232 5 is_stmt 1 view .LVU2365
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7025              		.loc 1 3232 22 is_stmt 0 view .LVU2366
 7026 01e2 D4F80002 		ldr	r0, [r4, #512]
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7027              		.loc 1 3232 9 view .LVU2367
 7028 01e6 0123     		movs	r3, #1
 7029 01e8 2146     		mov	r1, r4
 7030 01ea 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 7031 01ee FFF7FEFF 		bl	disk_write
 7032              	.LVL782:
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7033              		.loc 1 3232 8 discriminator 1 view .LVU2368
 7034 01f2 0028     		cmp	r0, #0
 7035 01f4 7ED1     		bne	.L561
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7036              		.loc 1 3233 32 is_stmt 1 view .LVU2369
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7037              		.loc 1 3234 5 view .LVU2370
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7038              		.loc 1 3234 7 is_stmt 0 view .LVU2371
 7039 01f6 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7040              		.loc 1 3234 14 view .LVU2372
 7041 01fa 23F04003 		bic	r3, r3, #64
 7042 01fe 84F80632 		strb	r3, [r4, #518]
 7043              	.L543:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7044              		.loc 1 3237 4 is_stmt 1 view .LVU2373
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/ccLzcuV9.s 			page 236


 7045              		.loc 1 3237 20 is_stmt 0 view .LVU2374
 7046 0202 D4F80002 		ldr	r0, [r4, #512]
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7047              		.loc 1 3237 8 view .LVU2375
 7048 0206 0123     		movs	r3, #1
 7049 0208 2A46     		mov	r2, r5
 7050 020a 2146     		mov	r1, r4
 7051 020c 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 7052 0210 FFF7FEFF 		bl	disk_read
 7053              	.LVL783:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7054              		.loc 1 3237 7 discriminator 1 view .LVU2376
 7055 0214 0028     		cmp	r0, #0
 7056 0216 71D1     		bne	.L562
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7057              		.loc 1 3238 31 is_stmt 1 view .LVU2377
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7058              		.loc 1 3240 4 view .LVU2378
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7059              		.loc 1 3240 14 is_stmt 0 view .LVU2379
 7060 0218 C4F81852 		str	r5, [r4, #536]
 7061              	.L542:
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7062              		.loc 1 3243 3 is_stmt 1 view .LVU2380
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7063              		.loc 1 3243 9 is_stmt 0 view .LVU2381
 7064 021c D4F80832 		ldr	r3, [r4, #520]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7065              		.loc 1 3243 20 view .LVU2382
 7066 0220 D4F80C22 		ldr	r2, [r4, #524]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7067              		.loc 1 3243 6 view .LVU2383
 7068 0224 9342     		cmp	r3, r2
 7069 0226 6ED9     		bls	.L512
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7070              		.loc 1 3244 4 is_stmt 1 view .LVU2384
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7071              		.loc 1 3244 14 is_stmt 0 view .LVU2385
 7072 0228 C4F80C32 		str	r3, [r4, #524]
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7073              		.loc 1 3245 4 is_stmt 1 view .LVU2386
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7074              		.loc 1 3245 6 is_stmt 0 view .LVU2387
 7075 022c 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7076              		.loc 1 3245 13 view .LVU2388
 7077 0230 43F02003 		orr	r3, r3, #32
 7078 0234 84F80632 		strb	r3, [r4, #518]
 7079 0238 65E0     		b	.L512
 7080              	.LVL784:
 7081              	.L560:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7082              		.loc 1 3195 6 is_stmt 1 view .LVU2389
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7083              		.loc 1 3195 13 is_stmt 0 view .LVU2390
 7084 023a 0021     		movs	r1, #0
 7085 023c FFF7FEFF 		bl	create_chain
ARM GAS  /tmp/ccLzcuV9.s 			page 237


 7086              	.LVL785:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7087              		.loc 1 3195 13 view .LVU2391
 7088 0240 0346     		mov	r3, r0
 7089              	.LVL786:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7090              		.loc 1 3196 6 is_stmt 1 view .LVU2392
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7091              		.loc 1 3196 9 is_stmt 0 view .LVU2393
 7092 0242 0128     		cmp	r0, #1
 7093 0244 05D0     		beq	.L563
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7094              		.loc 1 3196 46 is_stmt 1 discriminator 2 view .LVU2394
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7095              		.loc 1 3197 6 view .LVU2395
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7096              		.loc 1 3197 9 is_stmt 0 view .LVU2396
 7097 0246 B0F1FF3F 		cmp	r0, #-1
 7098 024a 06D0     		beq	.L564
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7099              		.loc 1 3197 56 is_stmt 1 discriminator 2 view .LVU2397
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7100              		.loc 1 3198 6 view .LVU2398
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7101              		.loc 1 3198 17 is_stmt 0 view .LVU2399
 7102 024c C4F81002 		str	r0, [r4, #528]
 7103 0250 B3E7     		b	.L530
 7104              	.L563:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7105              		.loc 1 3196 21 is_stmt 1 discriminator 1 view .LVU2400
 7106 0252 0226     		movs	r6, #2
 7107              	.LVL787:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7108              		.loc 1 3196 21 is_stmt 0 discriminator 1 view .LVU2401
 7109 0254 84F80762 		strb	r6, [r4, #519]
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7110              		.loc 1 3196 21 is_stmt 1 discriminator 1 view .LVU2402
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7111              		.loc 1 3196 21 is_stmt 0 view .LVU2403
 7112 0258 55E0     		b	.L512
 7113              	.LVL788:
 7114              	.L564:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7115              		.loc 1 3197 30 is_stmt 1 discriminator 1 view .LVU2404
 7116 025a 0126     		movs	r6, #1
 7117              	.LVL789:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7118              		.loc 1 3197 30 is_stmt 0 discriminator 1 view .LVU2405
 7119 025c 84F80762 		strb	r6, [r4, #519]
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7120              		.loc 1 3197 30 is_stmt 1 discriminator 1 view .LVU2406
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7121              		.loc 1 3197 30 is_stmt 0 view .LVU2407
 7122 0260 51E0     		b	.L512
 7123              	.LVL790:
 7124              	.L534:
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
ARM GAS  /tmp/ccLzcuV9.s 			page 238


 7125              		.loc 1 3213 7 is_stmt 1 view .LVU2408
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7126              		.loc 1 3213 14 is_stmt 0 view .LVU2409
 7127 0262 2946     		mov	r1, r5
 7128 0264 D4F80002 		ldr	r0, [r4, #512]
 7129 0268 FFF7FEFF 		bl	get_fat
 7130              	.LVL791:
 7131 026c 0546     		mov	r5, r0
 7132              	.LVL792:
 7133              	.L536:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7134              		.loc 1 3214 6 is_stmt 1 view .LVU2410
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7135              		.loc 1 3214 9 is_stmt 0 view .LVU2411
 7136 026e B5F1FF3F 		cmp	r5, #-1
 7137 0272 31D0     		beq	.L565
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7138              		.loc 1 3214 56 is_stmt 1 discriminator 2 view .LVU2412
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7139              		.loc 1 3215 6 view .LVU2413
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7140              		.loc 1 3215 9 is_stmt 0 view .LVU2414
 7141 0274 012D     		cmp	r5, #1
 7142 0276 33D9     		bls	.L538
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7143              		.loc 1 3215 33 discriminator 2 view .LVU2415
 7144 0278 D4F80032 		ldr	r3, [r4, #512]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7145              		.loc 1 3215 37 discriminator 2 view .LVU2416
 7146 027c D3F81432 		ldr	r3, [r3, #532]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7147              		.loc 1 3215 20 discriminator 2 view .LVU2417
 7148 0280 AB42     		cmp	r3, r5
 7149 0282 2DD9     		bls	.L538
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7150              		.loc 1 3215 74 is_stmt 1 discriminator 4 view .LVU2418
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7151              		.loc 1 3216 6 view .LVU2419
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7152              		.loc 1 3216 16 is_stmt 0 view .LVU2420
 7153 0284 C4F81452 		str	r5, [r4, #532]
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7154              		.loc 1 3217 6 is_stmt 1 view .LVU2421
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7155              		.loc 1 3217 8 is_stmt 0 view .LVU2422
 7156 0288 D4F80832 		ldr	r3, [r4, #520]
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7157              		.loc 1 3217 15 view .LVU2423
 7158 028c 4344     		add	r3, r3, r8
 7159 028e C4F80832 		str	r3, [r4, #520]
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7160              		.loc 1 3218 6 is_stmt 1 view .LVU2424
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7161              		.loc 1 3218 10 is_stmt 0 view .LVU2425
 7162 0292 A7EB0807 		sub	r7, r7, r8
 7163              	.LVL793:
 7164              	.L533:
ARM GAS  /tmp/ccLzcuV9.s 			page 239


3204:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7165              		.loc 1 3204 16 is_stmt 1 view .LVU2426
 7166 0296 4745     		cmp	r7, r8
 7167 0298 0DD9     		bls	.L535
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7168              		.loc 1 3206 6 view .LVU2427
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7169              		.loc 1 3206 12 is_stmt 0 view .LVU2428
 7170 029a 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7171              		.loc 1 3206 9 view .LVU2429
 7172 029e 13F0020F 		tst	r3, #2
 7173 02a2 DED0     		beq	.L534
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7174              		.loc 1 3207 7 is_stmt 1 view .LVU2430
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7175              		.loc 1 3207 14 is_stmt 0 view .LVU2431
 7176 02a4 2946     		mov	r1, r5
 7177 02a6 D4F80002 		ldr	r0, [r4, #512]
 7178 02aa FFF7FEFF 		bl	create_chain
 7179              	.LVL794:
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7180              		.loc 1 3208 7 is_stmt 1 view .LVU2432
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7181              		.loc 1 3208 10 is_stmt 0 view .LVU2433
 7182 02ae 0546     		mov	r5, r0
 7183 02b0 0028     		cmp	r0, #0
 7184 02b2 DCD1     		bne	.L536
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7185              		.loc 1 3209 12 view .LVU2434
 7186 02b4 4746     		mov	r7, r8
 7187              	.LVL795:
 7188              	.L535:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7189              		.loc 1 3220 5 is_stmt 1 view .LVU2435
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7190              		.loc 1 3220 7 is_stmt 0 view .LVU2436
 7191 02b6 D4F80832 		ldr	r3, [r4, #520]
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7192              		.loc 1 3220 14 view .LVU2437
 7193 02ba 3B44     		add	r3, r3, r7
 7194 02bc C4F80832 		str	r3, [r4, #520]
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7195              		.loc 1 3221 5 is_stmt 1 view .LVU2438
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7196              		.loc 1 3221 13 is_stmt 0 view .LVU2439
 7197 02c0 C7F30803 		ubfx	r3, r7, #0, #9
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7198              		.loc 1 3221 8 view .LVU2440
 7199 02c4 A3B1     		cbz	r3, .L552
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7200              		.loc 1 3222 6 is_stmt 1 view .LVU2441
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7201              		.loc 1 3222 14 is_stmt 0 view .LVU2442
 7202 02c6 2946     		mov	r1, r5
 7203 02c8 D4F80002 		ldr	r0, [r4, #512]
 7204 02cc FFF7FEFF 		bl	clust2sect
ARM GAS  /tmp/ccLzcuV9.s 			page 240


 7205              	.LVL796:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7206              		.loc 1 3223 6 is_stmt 1 view .LVU2443
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7207              		.loc 1 3223 9 is_stmt 0 view .LVU2444
 7208 02d0 50B1     		cbz	r0, .L566
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7209              		.loc 1 3223 43 is_stmt 1 discriminator 2 view .LVU2445
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7210              		.loc 1 3224 6 view .LVU2446
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7211              		.loc 1 3224 12 is_stmt 0 view .LVU2447
 7212 02d2 00EB5725 		add	r5, r0, r7, lsr #9
 7213              	.LVL797:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7214              		.loc 1 3224 12 view .LVU2448
 7215 02d6 76E7     		b	.L527
 7216              	.LVL798:
 7217              	.L565:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7218              		.loc 1 3214 30 is_stmt 1 discriminator 1 view .LVU2449
 7219 02d8 0126     		movs	r6, #1
 7220              	.LVL799:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7221              		.loc 1 3214 30 is_stmt 0 discriminator 1 view .LVU2450
 7222 02da 84F80762 		strb	r6, [r4, #519]
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7223              		.loc 1 3214 30 is_stmt 1 discriminator 1 view .LVU2451
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7224              		.loc 1 3214 30 is_stmt 0 view .LVU2452
 7225 02de 12E0     		b	.L512
 7226              	.LVL800:
 7227              	.L538:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7228              		.loc 1 3215 49 is_stmt 1 discriminator 3 view .LVU2453
 7229 02e0 0226     		movs	r6, #2
 7230              	.LVL801:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7231              		.loc 1 3215 49 is_stmt 0 discriminator 3 view .LVU2454
 7232 02e2 84F80762 		strb	r6, [r4, #519]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7233              		.loc 1 3215 49 is_stmt 1 discriminator 3 view .LVU2455
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7234              		.loc 1 3215 49 is_stmt 0 view .LVU2456
 7235 02e6 0EE0     		b	.L512
 7236              	.LVL802:
 7237              	.L566:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7238              		.loc 1 3223 18 is_stmt 1 discriminator 1 view .LVU2457
 7239 02e8 0226     		movs	r6, #2
 7240              	.LVL803:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7241              		.loc 1 3223 18 is_stmt 0 discriminator 1 view .LVU2458
 7242 02ea 84F80762 		strb	r6, [r4, #519]
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7243              		.loc 1 3223 18 is_stmt 1 discriminator 1 view .LVU2459
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
ARM GAS  /tmp/ccLzcuV9.s 			page 241


 7244              		.loc 1 3223 18 is_stmt 0 view .LVU2460
 7245 02ee 0AE0     		b	.L512
 7246              	.LVL804:
 7247              	.L552:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7248              		.loc 1 3183 20 view .LVU2461
 7249 02f0 1D46     		mov	r5, r3
 7250              	.LVL805:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7251              		.loc 1 3183 20 view .LVU2462
 7252 02f2 68E7     		b	.L527
 7253              	.LVL806:
 7254              	.L561:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7255              		.loc 1 3233 6 is_stmt 1 view .LVU2463
 7256 02f4 0126     		movs	r6, #1
 7257              	.LVL807:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7258              		.loc 1 3233 6 is_stmt 0 view .LVU2464
 7259 02f6 84F80762 		strb	r6, [r4, #519]
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7260              		.loc 1 3233 6 is_stmt 1 view .LVU2465
 7261 02fa 04E0     		b	.L512
 7262              	.LVL808:
 7263              	.L562:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7264              		.loc 1 3238 5 view .LVU2466
 7265 02fc 0126     		movs	r6, #1
 7266              	.LVL809:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7267              		.loc 1 3238 5 is_stmt 0 view .LVU2467
 7268 02fe 84F80762 		strb	r6, [r4, #519]
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7269              		.loc 1 3238 5 is_stmt 1 view .LVU2468
 7270 0302 00E0     		b	.L512
 7271              	.LVL810:
 7272              	.L546:
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7273              		.loc 1 3117 3 is_stmt 0 view .LVU2469
 7274 0304 1E46     		mov	r6, r3
 7275              	.LVL811:
 7276              	.L512:
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7277              		.loc 1 3251 1 view .LVU2470
 7278 0306 3046     		mov	r0, r6
 7279 0308 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7280              	.LVL812:
 7281              	.L549:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7282              		.loc 1 3144 9 view .LVU2471
 7283 030c 1126     		movs	r6, #17
 7284              	.LVL813:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7285              		.loc 1 3144 9 view .LVU2472
 7286 030e FAE7     		b	.L512
 7287              		.cfi_endproc
 7288              	.LFE105:
ARM GAS  /tmp/ccLzcuV9.s 			page 242


 7290              		.section	.text.f_opendir,"ax",%progbits
 7291              		.align	1
 7292              		.global	f_opendir
 7293              		.syntax unified
 7294              		.thumb
 7295              		.thumb_func
 7297              	f_opendir:
 7298              	.LVL814:
 7299              	.LFB106:
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7300              		.loc 1 3264 1 is_stmt 1 view -0
 7301              		.cfi_startproc
 7302              		@ args = 0, pretend = 0, frame = 24
 7303              		@ frame_needed = 0, uses_anonymous_args = 0
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7304              		.loc 1 3264 1 is_stmt 0 view .LVU2474
 7305 0000 30B5     		push	{r4, r5, lr}
 7306              	.LCFI68:
 7307              		.cfi_def_cfa_offset 12
 7308              		.cfi_offset 4, -12
 7309              		.cfi_offset 5, -8
 7310              		.cfi_offset 14, -4
 7311 0002 87B0     		sub	sp, sp, #28
 7312              	.LCFI69:
 7313              		.cfi_def_cfa_offset 40
 7314 0004 0191     		str	r1, [sp, #4]
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
 7315              		.loc 1 3265 2 is_stmt 1 view .LVU2475
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7316              		.loc 1 3266 2 view .LVU2476
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7317              		.loc 1 3267 2 view .LVU2477
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7318              		.loc 1 3270 2 view .LVU2478
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7319              		.loc 1 3270 5 is_stmt 0 view .LVU2479
 7320 0006 0028     		cmp	r0, #0
 7321 0008 48D0     		beq	.L574
 7322 000a 0446     		mov	r4, r0
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7323              		.loc 1 3273 2 is_stmt 1 view .LVU2480
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7324              		.loc 1 3273 8 is_stmt 0 view .LVU2481
 7325 000c 0022     		movs	r2, #0
 7326 000e 01A9     		add	r1, sp, #4
 7327              	.LVL815:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7328              		.loc 1 3273 8 view .LVU2482
 7329 0010 05A8     		add	r0, sp, #20
 7330              	.LVL816:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7331              		.loc 1 3273 8 view .LVU2483
 7332 0012 FFF7FEFF 		bl	find_volume
 7333              	.LVL817:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7334              		.loc 1 3274 2 is_stmt 1 view .LVU2484
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
ARM GAS  /tmp/ccLzcuV9.s 			page 243


 7335              		.loc 1 3274 5 is_stmt 0 view .LVU2485
 7336 0016 0546     		mov	r5, r0
 7337 0018 28B1     		cbz	r0, .L579
 7338              	.LVL818:
 7339              	.L569:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7340              		.loc 1 3304 20 is_stmt 1 discriminator 1 view .LVU2486
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7341              		.loc 1 3304 27 is_stmt 0 discriminator 1 view .LVU2487
 7342 001a 0023     		movs	r3, #0
 7343 001c C4F80032 		str	r3, [r4, #512]
 7344              	.LVL819:
 7345              	.L568:
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7346              		.loc 1 3307 1 view .LVU2488
 7347 0020 2846     		mov	r0, r5
 7348 0022 07B0     		add	sp, sp, #28
 7349              	.LCFI70:
 7350              		.cfi_remember_state
 7351              		.cfi_def_cfa_offset 12
 7352              		@ sp needed
 7353 0024 30BD     		pop	{r4, r5, pc}
 7354              	.LVL820:
 7355              	.L579:
 7356              	.LCFI71:
 7357              		.cfi_restore_state
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 7358              		.loc 1 3275 3 is_stmt 1 view .LVU2489
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 7359              		.loc 1 3275 10 is_stmt 0 view .LVU2490
 7360 0026 059B     		ldr	r3, [sp, #20]
 7361 0028 C4F80032 		str	r3, [r4, #512]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 7362              		.loc 1 3276 3 is_stmt 1 view .LVU2491
 7363 002c 02AB     		add	r3, sp, #8
 7364 002e C4F81832 		str	r3, [r4, #536]
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7365              		.loc 1 3277 3 view .LVU2492
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7366              		.loc 1 3277 9 is_stmt 0 view .LVU2493
 7367 0032 0199     		ldr	r1, [sp, #4]
 7368 0034 2046     		mov	r0, r4
 7369              	.LVL821:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 7370              		.loc 1 3277 9 view .LVU2494
 7371 0036 FFF7FEFF 		bl	follow_path
 7372              	.LVL822:
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 7373              		.loc 1 3278 13 is_stmt 1 view .LVU2495
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 7374              		.loc 1 3279 3 view .LVU2496
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 7375              		.loc 1 3279 6 is_stmt 0 view .LVU2497
 7376 003a 0546     		mov	r5, r0
 7377 003c 38BB     		cbnz	r0, .L570
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7378              		.loc 1 3280 4 is_stmt 1 view .LVU2498
ARM GAS  /tmp/ccLzcuV9.s 			page 244


3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7379              		.loc 1 3280 10 is_stmt 0 view .LVU2499
 7380 003e D4F81412 		ldr	r1, [r4, #532]
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 7381              		.loc 1 3280 7 view .LVU2500
 7382 0042 41B1     		cbz	r1, .L571
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7383              		.loc 1 3281 5 is_stmt 1 view .LVU2501
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7384              		.loc 1 3281 16 is_stmt 0 view .LVU2502
 7385 0044 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 7386              		.loc 1 3281 8 view .LVU2503
 7387 0046 13F0100F 		tst	r3, #16
 7388 004a 1FD0     		beq	.L575
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7389              		.loc 1 3282 6 is_stmt 1 view .LVU2504
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7390              		.loc 1 3282 19 is_stmt 0 view .LVU2505
 7391 004c 0598     		ldr	r0, [sp, #20]
 7392              	.LVL823:
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7393              		.loc 1 3282 19 view .LVU2506
 7394 004e FFF7FEFF 		bl	ld_clust
 7395              	.LVL824:
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 7396              		.loc 1 3282 17 discriminator 1 view .LVU2507
 7397 0052 C4F80802 		str	r0, [r4, #520]
 7398              	.L571:
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
 7399              		.loc 1 3286 4 is_stmt 1 view .LVU2508
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7400              		.loc 1 3287 5 view .LVU2509
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7401              		.loc 1 3287 16 is_stmt 0 view .LVU2510
 7402 0056 059B     		ldr	r3, [sp, #20]
 7403 0058 B3F80632 		ldrh	r3, [r3, #518]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 7404              		.loc 1 3287 12 view .LVU2511
 7405 005c A4F80432 		strh	r3, [r4, #516]	@ movhi
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 7406              		.loc 1 3288 5 is_stmt 1 view .LVU2512
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 7407              		.loc 1 3288 11 is_stmt 0 view .LVU2513
 7408 0060 0021     		movs	r1, #0
 7409 0062 2046     		mov	r0, r4
 7410 0064 FFF7FEFF 		bl	dir_sdi
 7411              	.LVL825:
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 7412              		.loc 1 3290 5 is_stmt 1 view .LVU2514
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 7413              		.loc 1 3290 8 is_stmt 0 view .LVU2515
 7414 0068 0546     		mov	r5, r0
 7415 006a 80B9     		cbnz	r0, .L570
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7416              		.loc 1 3291 6 is_stmt 1 view .LVU2516
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
ARM GAS  /tmp/ccLzcuV9.s 			page 245


 7417              		.loc 1 3291 12 is_stmt 0 view .LVU2517
 7418 006c D4F80832 		ldr	r3, [r4, #520]
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 7419              		.loc 1 3291 9 view .LVU2518
 7420 0070 1BB9     		cbnz	r3, .L580
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7421              		.loc 1 3296 7 is_stmt 1 view .LVU2519
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7422              		.loc 1 3296 18 is_stmt 0 view .LVU2520
 7423 0072 0023     		movs	r3, #0
 7424 0074 C4F81C32 		str	r3, [r4, #540]
 7425 0078 09E0     		b	.L570
 7426              	.L580:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7427              		.loc 1 3292 7 is_stmt 1 view .LVU2521
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7428              		.loc 1 3292 20 is_stmt 0 view .LVU2522
 7429 007a 0021     		movs	r1, #0
 7430 007c 2046     		mov	r0, r4
 7431              	.LVL826:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7432              		.loc 1 3292 20 view .LVU2523
 7433 007e FFF7FEFF 		bl	inc_lock
 7434              	.LVL827:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 7435              		.loc 1 3292 18 discriminator 1 view .LVU2524
 7436 0082 C4F81C02 		str	r0, [r4, #540]
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 7437              		.loc 1 3293 7 is_stmt 1 view .LVU2525
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 7438              		.loc 1 3293 10 is_stmt 0 view .LVU2526
 7439 0086 10B9     		cbnz	r0, .L570
 7440              	.LVL828:
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7441              		.loc 1 3294 12 view .LVU2527
 7442 0088 1225     		movs	r5, #18
 7443 008a 02E0     		b	.L573
 7444              	.LVL829:
 7445              	.L575:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7446              		.loc 1 3284 10 view .LVU2528
 7447 008c 0525     		movs	r5, #5
 7448              	.LVL830:
 7449              	.L570:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7450              		.loc 1 3302 3 is_stmt 1 view .LVU2529
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7451              		.loc 1 3302 6 is_stmt 0 view .LVU2530
 7452 008e 042D     		cmp	r5, #4
 7453 0090 02D0     		beq	.L581
 7454              	.LVL831:
 7455              	.L573:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7456              		.loc 1 3304 2 is_stmt 1 view .LVU2531
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7457              		.loc 1 3304 5 is_stmt 0 view .LVU2532
 7458 0092 002D     		cmp	r5, #0
ARM GAS  /tmp/ccLzcuV9.s 			page 246


 7459 0094 C4D0     		beq	.L568
 7460 0096 C0E7     		b	.L569
 7461              	.L581:
 7462              	.LVL832:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7463              		.loc 1 3302 30 discriminator 1 view .LVU2533
 7464 0098 0525     		movs	r5, #5
 7465 009a BEE7     		b	.L569
 7466              	.LVL833:
 7467              	.L574:
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7468              		.loc 1 3270 18 discriminator 1 view .LVU2534
 7469 009c 0925     		movs	r5, #9
 7470 009e BFE7     		b	.L568
 7471              		.cfi_endproc
 7472              	.LFE106:
 7474              		.section	.text.f_closedir,"ax",%progbits
 7475              		.align	1
 7476              		.global	f_closedir
 7477              		.syntax unified
 7478              		.thumb
 7479              		.thumb_func
 7481              	f_closedir:
 7482              	.LVL834:
 7483              	.LFB107:
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7484              		.loc 1 3319 1 is_stmt 1 view -0
 7485              		.cfi_startproc
 7486              		@ args = 0, pretend = 0, frame = 0
 7487              		@ frame_needed = 0, uses_anonymous_args = 0
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7488              		.loc 1 3319 1 is_stmt 0 view .LVU2536
 7489 0000 10B5     		push	{r4, lr}
 7490              	.LCFI72:
 7491              		.cfi_def_cfa_offset 8
 7492              		.cfi_offset 4, -8
 7493              		.cfi_offset 14, -4
 7494 0002 0446     		mov	r4, r0
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7495              		.loc 1 3320 2 is_stmt 1 view .LVU2537
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7496              		.loc 1 3323 2 view .LVU2538
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7497              		.loc 1 3323 8 is_stmt 0 view .LVU2539
 7498 0004 FFF7FEFF 		bl	validate
 7499              	.LVL835:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7500              		.loc 1 3324 2 is_stmt 1 view .LVU2540
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7501              		.loc 1 3324 5 is_stmt 0 view .LVU2541
 7502 0008 30B9     		cbnz	r0, .L583
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7503              		.loc 1 3329 3 is_stmt 1 view .LVU2542
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 7504              		.loc 1 3329 9 is_stmt 0 view .LVU2543
 7505 000a D4F81C32 		ldr	r3, [r4, #540]
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
ARM GAS  /tmp/ccLzcuV9.s 			page 247


 7506              		.loc 1 3329 6 view .LVU2544
 7507 000e 23B9     		cbnz	r3, .L586
 7508              	.L584:
 7509              	.LVL836:
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7510              		.loc 1 3331 3 is_stmt 1 view .LVU2545
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7511              		.loc 1 3331 6 is_stmt 0 view .LVU2546
 7512 0010 10B9     		cbnz	r0, .L583
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7513              		.loc 1 3333 4 is_stmt 1 view .LVU2547
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7514              		.loc 1 3333 11 is_stmt 0 view .LVU2548
 7515 0012 0023     		movs	r3, #0
 7516 0014 C4F80032 		str	r3, [r4, #512]
 7517              	.LVL837:
 7518              	.L583:
3338:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7519              		.loc 1 3338 2 is_stmt 1 view .LVU2549
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7520              		.loc 1 3339 1 is_stmt 0 view .LVU2550
 7521 0018 10BD     		pop	{r4, pc}
 7522              	.LVL838:
 7523              	.L586:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7524              		.loc 1 3330 4 is_stmt 1 view .LVU2551
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7525              		.loc 1 3330 10 is_stmt 0 view .LVU2552
 7526 001a 1846     		mov	r0, r3
 7527 001c FFF7FEFF 		bl	dec_lock
 7528              	.LVL839:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 7529              		.loc 1 3330 10 view .LVU2553
 7530 0020 F6E7     		b	.L584
 7531              		.cfi_endproc
 7532              	.LFE107:
 7534              		.section	.text.f_readdir,"ax",%progbits
 7535              		.align	1
 7536              		.global	f_readdir
 7537              		.syntax unified
 7538              		.thumb
 7539              		.thumb_func
 7541              	f_readdir:
 7542              	.LVL840:
 7543              	.LFB108:
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7544              		.loc 1 3352 1 is_stmt 1 view -0
 7545              		.cfi_startproc
 7546              		@ args = 0, pretend = 0, frame = 16
 7547              		@ frame_needed = 0, uses_anonymous_args = 0
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7548              		.loc 1 3352 1 is_stmt 0 view .LVU2555
 7549 0000 70B5     		push	{r4, r5, r6, lr}
 7550              	.LCFI73:
 7551              		.cfi_def_cfa_offset 16
 7552              		.cfi_offset 4, -16
 7553              		.cfi_offset 5, -12
ARM GAS  /tmp/ccLzcuV9.s 			page 248


 7554              		.cfi_offset 6, -8
 7555              		.cfi_offset 14, -4
 7556 0002 84B0     		sub	sp, sp, #16
 7557              	.LCFI74:
 7558              		.cfi_def_cfa_offset 32
 7559 0004 0446     		mov	r4, r0
 7560 0006 0D46     		mov	r5, r1
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7561              		.loc 1 3353 2 is_stmt 1 view .LVU2556
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7562              		.loc 1 3354 2 view .LVU2557
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7563              		.loc 1 3357 2 view .LVU2558
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7564              		.loc 1 3357 8 is_stmt 0 view .LVU2559
 7565 0008 FFF7FEFF 		bl	validate
 7566              	.LVL841:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 7567              		.loc 1 3358 2 is_stmt 1 view .LVU2560
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 7568              		.loc 1 3358 5 is_stmt 0 view .LVU2561
 7569 000c 0646     		mov	r6, r0
 7570 000e 00BB     		cbnz	r0, .L588
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 7571              		.loc 1 3359 3 is_stmt 1 view .LVU2562
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 7572              		.loc 1 3359 6 is_stmt 0 view .LVU2563
 7573 0010 5DB1     		cbz	r5, .L595
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 7574              		.loc 1 3362 4 is_stmt 1 view .LVU2564
 7575 0012 01AB     		add	r3, sp, #4
 7576 0014 C4F81832 		str	r3, [r4, #536]
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7577              		.loc 1 3363 4 view .LVU2565
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7578              		.loc 1 3363 10 is_stmt 0 view .LVU2566
 7579 0018 0021     		movs	r1, #0
 7580 001a 2046     		mov	r0, r4
 7581              	.LVL842:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 7582              		.loc 1 3363 10 view .LVU2567
 7583 001c FFF7FEFF 		bl	dir_read
 7584              	.LVL843:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 7585              		.loc 1 3364 4 is_stmt 1 view .LVU2568
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 7586              		.loc 1 3364 7 is_stmt 0 view .LVU2569
 7587 0020 0428     		cmp	r0, #4
 7588 0022 08D0     		beq	.L596
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7589              		.loc 1 3368 4 is_stmt 1 view .LVU2570
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7590              		.loc 1 3368 7 is_stmt 0 view .LVU2571
 7591 0024 50B1     		cbz	r0, .L591
 7592 0026 0646     		mov	r6, r0
 7593 0028 13E0     		b	.L588
 7594              	.L595:
ARM GAS  /tmp/ccLzcuV9.s 			page 249


3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7595              		.loc 1 3360 4 is_stmt 1 view .LVU2572
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7596              		.loc 1 3360 10 is_stmt 0 view .LVU2573
 7597 002a 0021     		movs	r1, #0
 7598 002c 2046     		mov	r0, r4
 7599              	.LVL844:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7600              		.loc 1 3360 10 view .LVU2574
 7601 002e FFF7FEFF 		bl	dir_sdi
 7602              	.LVL845:
 7603 0032 0646     		mov	r6, r0
 7604              	.LVL846:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7605              		.loc 1 3360 10 view .LVU2575
 7606 0034 0DE0     		b	.L588
 7607              	.LVL847:
 7608              	.L596:
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 7609              		.loc 1 3365 5 is_stmt 1 view .LVU2576
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 7610              		.loc 1 3365 14 is_stmt 0 view .LVU2577
 7611 0036 0023     		movs	r3, #0
 7612 0038 C4F81032 		str	r3, [r4, #528]
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7613              		.loc 1 3366 5 is_stmt 1 view .LVU2578
 7614              	.LVL848:
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 7615              		.loc 1 3368 4 view .LVU2579
 7616              	.L591:
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 7617              		.loc 1 3369 5 view .LVU2580
 7618 003c 2946     		mov	r1, r5
 7619 003e 2046     		mov	r0, r4
 7620 0040 FFF7FEFF 		bl	get_fileinfo
 7621              	.LVL849:
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7622              		.loc 1 3370 5 view .LVU2581
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7623              		.loc 1 3370 11 is_stmt 0 view .LVU2582
 7624 0044 0021     		movs	r1, #0
 7625 0046 2046     		mov	r0, r4
 7626 0048 FFF7FEFF 		bl	dir_next
 7627              	.LVL850:
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 7628              		.loc 1 3371 5 is_stmt 1 view .LVU2583
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 7629              		.loc 1 3371 8 is_stmt 0 view .LVU2584
 7630 004c 0428     		cmp	r0, #4
 7631 004e 03D0     		beq	.L597
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 7632              		.loc 1 3370 11 view .LVU2585
 7633 0050 0646     		mov	r6, r0
 7634              	.LVL851:
 7635              	.L588:
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7636              		.loc 1 3376 14 is_stmt 1 view .LVU2586
ARM GAS  /tmp/ccLzcuV9.s 			page 250


3380:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7637              		.loc 1 3380 2 view .LVU2587
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7638              		.loc 1 3381 1 is_stmt 0 view .LVU2588
 7639 0052 3046     		mov	r0, r6
 7640 0054 04B0     		add	sp, sp, #16
 7641              	.LCFI75:
 7642              		.cfi_remember_state
 7643              		.cfi_def_cfa_offset 16
 7644              		@ sp needed
 7645 0056 70BD     		pop	{r4, r5, r6, pc}
 7646              	.LVL852:
 7647              	.L597:
 7648              	.LCFI76:
 7649              		.cfi_restore_state
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 7650              		.loc 1 3372 6 is_stmt 1 view .LVU2589
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 7651              		.loc 1 3372 15 is_stmt 0 view .LVU2590
 7652 0058 0023     		movs	r3, #0
 7653 005a C4F81032 		str	r3, [r4, #528]
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7654              		.loc 1 3373 6 is_stmt 1 view .LVU2591
 7655              	.LVL853:
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7656              		.loc 1 3373 6 is_stmt 0 view .LVU2592
 7657 005e F8E7     		b	.L588
 7658              		.cfi_endproc
 7659              	.LFE108:
 7661              		.section	.text.f_stat,"ax",%progbits
 7662              		.align	1
 7663              		.global	f_stat
 7664              		.syntax unified
 7665              		.thumb
 7666              		.thumb_func
 7668              	f_stat:
 7669              	.LVL854:
 7670              	.LFB109:
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7671              		.loc 1 3446 1 is_stmt 1 view -0
 7672              		.cfi_startproc
 7673              		@ args = 0, pretend = 0, frame = 568
 7674              		@ frame_needed = 0, uses_anonymous_args = 0
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7675              		.loc 1 3446 1 is_stmt 0 view .LVU2594
 7676 0000 30B5     		push	{r4, r5, lr}
 7677              	.LCFI77:
 7678              		.cfi_def_cfa_offset 12
 7679              		.cfi_offset 4, -12
 7680              		.cfi_offset 5, -8
 7681              		.cfi_offset 14, -4
 7682 0002 ADF50F7D 		sub	sp, sp, #572
 7683              	.LCFI78:
 7684              		.cfi_def_cfa_offset 584
 7685 0006 0190     		str	r0, [sp, #4]
 7686 0008 0C46     		mov	r4, r1
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
ARM GAS  /tmp/ccLzcuV9.s 			page 251


 7687              		.loc 1 3447 2 is_stmt 1 view .LVU2595
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7688              		.loc 1 3448 2 view .LVU2596
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7689              		.loc 1 3449 2 view .LVU2597
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7690              		.loc 1 3453 2 view .LVU2598
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7691              		.loc 1 3453 8 is_stmt 0 view .LVU2599
 7692 000a 0022     		movs	r2, #0
 7693 000c 01A9     		add	r1, sp, #4
 7694              	.LVL855:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7695              		.loc 1 3453 8 view .LVU2600
 7696 000e 86A8     		add	r0, sp, #536
 7697              	.LVL856:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7698              		.loc 1 3453 8 view .LVU2601
 7699 0010 FFF7FEFF 		bl	find_volume
 7700              	.LVL857:
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 7701              		.loc 1 3454 2 is_stmt 1 view .LVU2602
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 7702              		.loc 1 3454 5 is_stmt 0 view .LVU2603
 7703 0014 0546     		mov	r5, r0
 7704 0016 18B1     		cbz	r0, .L602
 7705              	.LVL858:
 7706              	.L599:
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7707              		.loc 1 3464 13 is_stmt 1 view .LVU2604
3467:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7708              		.loc 1 3467 2 view .LVU2605
3468:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7709              		.loc 1 3468 1 is_stmt 0 view .LVU2606
 7710 0018 2846     		mov	r0, r5
 7711 001a 0DF50F7D 		add	sp, sp, #572
 7712              	.LCFI79:
 7713              		.cfi_remember_state
 7714              		.cfi_def_cfa_offset 12
 7715              		@ sp needed
 7716 001e 30BD     		pop	{r4, r5, pc}
 7717              	.LVL859:
 7718              	.L602:
 7719              	.LCFI80:
 7720              		.cfi_restore_state
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 7721              		.loc 1 3455 3 is_stmt 1 view .LVU2607
 7722 0020 03AB     		add	r3, sp, #12
 7723 0022 8C93     		str	r3, [sp, #560]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7724              		.loc 1 3456 3 view .LVU2608
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 7725              		.loc 1 3456 9 is_stmt 0 view .LVU2609
 7726 0024 0199     		ldr	r1, [sp, #4]
 7727 0026 06A8     		add	r0, sp, #24
 7728              	.LVL860:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
ARM GAS  /tmp/ccLzcuV9.s 			page 252


 7729              		.loc 1 3456 9 view .LVU2610
 7730 0028 FFF7FEFF 		bl	follow_path
 7731              	.LVL861:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 7732              		.loc 1 3457 3 is_stmt 1 view .LVU2611
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 7733              		.loc 1 3457 6 is_stmt 0 view .LVU2612
 7734 002c 0546     		mov	r5, r0
 7735 002e 0028     		cmp	r0, #0
 7736 0030 F2D1     		bne	.L599
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7737              		.loc 1 3458 4 is_stmt 1 view .LVU2613
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7738              		.loc 1 3458 10 is_stmt 0 view .LVU2614
 7739 0032 8B9B     		ldr	r3, [sp, #556]
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 7740              		.loc 1 3458 7 view .LVU2615
 7741 0034 33B1     		cbz	r3, .L600
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7742              		.loc 1 3459 5 is_stmt 1 view .LVU2616
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7743              		.loc 1 3459 8 is_stmt 0 view .LVU2617
 7744 0036 002C     		cmp	r4, #0
 7745 0038 EED0     		beq	.L599
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7746              		.loc 1 3459 14 is_stmt 1 discriminator 1 view .LVU2618
 7747 003a 2146     		mov	r1, r4
 7748 003c 06A8     		add	r0, sp, #24
 7749              	.LVL862:
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 7750              		.loc 1 3459 14 is_stmt 0 discriminator 1 view .LVU2619
 7751 003e FFF7FEFF 		bl	get_fileinfo
 7752              	.LVL863:
 7753 0042 E9E7     		b	.L599
 7754              	.LVL864:
 7755              	.L600:
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7756              		.loc 1 3461 9 view .LVU2620
 7757 0044 0625     		movs	r5, #6
 7758 0046 E7E7     		b	.L599
 7759              		.cfi_endproc
 7760              	.LFE109:
 7762              		.section	.text.f_getfree,"ax",%progbits
 7763              		.align	1
 7764              		.global	f_getfree
 7765              		.syntax unified
 7766              		.thumb
 7767              		.thumb_func
 7769              	f_getfree:
 7770              	.LVL865:
 7771              	.LFB110:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7772              		.loc 1 3482 1 is_stmt 1 view -0
 7773              		.cfi_startproc
 7774              		@ args = 0, pretend = 0, frame = 8
 7775              		@ frame_needed = 0, uses_anonymous_args = 0
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/ccLzcuV9.s 			page 253


 7776              		.loc 1 3482 1 is_stmt 0 view .LVU2622
 7777 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 7778              	.LCFI81:
 7779              		.cfi_def_cfa_offset 32
 7780              		.cfi_offset 4, -32
 7781              		.cfi_offset 5, -28
 7782              		.cfi_offset 6, -24
 7783              		.cfi_offset 7, -20
 7784              		.cfi_offset 8, -16
 7785              		.cfi_offset 9, -12
 7786              		.cfi_offset 10, -8
 7787              		.cfi_offset 14, -4
 7788 0004 82B0     		sub	sp, sp, #8
 7789              	.LCFI82:
 7790              		.cfi_def_cfa_offset 40
 7791 0006 0190     		str	r0, [sp, #4]
 7792 0008 0F46     		mov	r7, r1
 7793 000a 1446     		mov	r4, r2
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7794              		.loc 1 3483 2 is_stmt 1 view .LVU2623
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
 7795              		.loc 1 3484 2 view .LVU2624
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 7796              		.loc 1 3485 2 view .LVU2625
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
 7797              		.loc 1 3486 2 view .LVU2626
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7798              		.loc 1 3487 2 view .LVU2627
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7799              		.loc 1 3491 2 view .LVU2628
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7800              		.loc 1 3491 8 is_stmt 0 view .LVU2629
 7801 000c 0022     		movs	r2, #0
 7802              	.LVL866:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7803              		.loc 1 3491 8 view .LVU2630
 7804 000e 01A9     		add	r1, sp, #4
 7805              	.LVL867:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7806              		.loc 1 3491 8 view .LVU2631
 7807 0010 2046     		mov	r0, r4
 7808              	.LVL868:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 7809              		.loc 1 3491 8 view .LVU2632
 7810 0012 FFF7FEFF 		bl	find_volume
 7811              	.LVL869:
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7812              		.loc 1 3492 2 is_stmt 1 view .LVU2633
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7813              		.loc 1 3492 5 is_stmt 0 view .LVU2634
 7814 0016 2568     		ldr	r5, [r4]
 7815              	.LVL870:
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 7816              		.loc 1 3493 2 is_stmt 1 view .LVU2635
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 7817              		.loc 1 3493 5 is_stmt 0 view .LVU2636
 7818 0018 8046     		mov	r8, r0
ARM GAS  /tmp/ccLzcuV9.s 			page 254


 7819 001a 0028     		cmp	r0, #0
 7820 001c 65D1     		bne	.L604
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7821              		.loc 1 3495 3 is_stmt 1 view .LVU2637
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7822              		.loc 1 3495 9 is_stmt 0 view .LVU2638
 7823 001e D5F81032 		ldr	r3, [r5, #528]
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7824              		.loc 1 3495 27 view .LVU2639
 7825 0022 D5F81442 		ldr	r4, [r5, #532]
 7826              	.LVL871:
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7827              		.loc 1 3495 38 view .LVU2640
 7828 0026 A21E     		subs	r2, r4, #2
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 7829              		.loc 1 3495 6 view .LVU2641
 7830 0028 9342     		cmp	r3, r2
 7831 002a 01D8     		bhi	.L605
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7832              		.loc 1 3496 4 is_stmt 1 view .LVU2642
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 7833              		.loc 1 3496 11 is_stmt 0 view .LVU2643
 7834 002c 3B60     		str	r3, [r7]
 7835 002e 5CE0     		b	.L604
 7836              	.L605:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 7837              		.loc 1 3499 4 is_stmt 1 view .LVU2644
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 7838              		.loc 1 3499 8 is_stmt 0 view .LVU2645
 7839 0030 95F80092 		ldrb	r9, [r5, #512]	@ zero_extendqisi2
 7840              	.LVL872:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 7841              		.loc 1 3500 4 is_stmt 1 view .LVU2646
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 7842              		.loc 1 3501 4 view .LVU2647
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 7843              		.loc 1 3501 7 is_stmt 0 view .LVU2648
 7844 0034 B9F1010F 		cmp	r9, #1
 7845 0038 05D0     		beq	.L619
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
 7846              		.loc 1 3510 5 is_stmt 1 view .LVU2649
 7847              	.LVL873:
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 7848              		.loc 1 3511 5 view .LVU2650
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 7849              		.loc 1 3511 10 is_stmt 0 view .LVU2651
 7850 003a D5F82012 		ldr	r1, [r5, #544]
 7851              	.LVL874:
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7852              		.loc 1 3512 5 is_stmt 1 view .LVU2652
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7853              		.loc 1 3512 12 view .LVU2653
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7854              		.loc 1 3512 14 is_stmt 0 view .LVU2654
 7855 003e 0022     		movs	r2, #0
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7856              		.loc 1 3512 7 view .LVU2655
ARM GAS  /tmp/ccLzcuV9.s 			page 255


 7857 0040 1046     		mov	r0, r2
 7858              	.LVL875:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 7859              		.loc 1 3500 6 view .LVU2656
 7860 0042 1646     		mov	r6, r2
 7861 0044 2FE0     		b	.L615
 7862              	.LVL876:
 7863              	.L619:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7864              		.loc 1 3502 10 view .LVU2657
 7865 0046 0224     		movs	r4, #2
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 7866              		.loc 1 3500 6 view .LVU2658
 7867 0048 0026     		movs	r6, #0
 7868 004a 04E0     		b	.L609
 7869              	.LVL877:
 7870              	.L608:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7871              		.loc 1 3508 21 is_stmt 1 view .LVU2659
 7872 004c 0134     		adds	r4, r4, #1
 7873              	.LVL878:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7874              		.loc 1 3508 25 is_stmt 0 view .LVU2660
 7875 004e D5F81432 		ldr	r3, [r5, #532]
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7876              		.loc 1 3508 21 view .LVU2661
 7877 0052 A342     		cmp	r3, r4
 7878 0054 40D9     		bls	.L607
 7879              	.LVL879:
 7880              	.L609:
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
 7881              		.loc 1 3503 5 is_stmt 1 view .LVU2662
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 7882              		.loc 1 3504 6 view .LVU2663
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 7883              		.loc 1 3504 13 is_stmt 0 view .LVU2664
 7884 0056 2146     		mov	r1, r4
 7885 0058 2846     		mov	r0, r5
 7886 005a FFF7FEFF 		bl	get_fat
 7887              	.LVL880:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 7888              		.loc 1 3505 6 is_stmt 1 view .LVU2665
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 7889              		.loc 1 3505 9 is_stmt 0 view .LVU2666
 7890 005e B0F1FF3F 		cmp	r0, #-1
 7891 0062 38D0     		beq	.L616
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 7892              		.loc 1 3506 6 is_stmt 1 view .LVU2667
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 7893              		.loc 1 3506 9 is_stmt 0 view .LVU2668
 7894 0064 0128     		cmp	r0, #1
 7895 0066 44D0     		beq	.L617
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7896              		.loc 1 3507 6 is_stmt 1 view .LVU2669
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7897              		.loc 1 3507 9 is_stmt 0 view .LVU2670
 7898 0068 0028     		cmp	r0, #0
ARM GAS  /tmp/ccLzcuV9.s 			page 256


 7899 006a EFD1     		bne	.L608
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7900              		.loc 1 3507 21 is_stmt 1 discriminator 1 view .LVU2671
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7901              		.loc 1 3507 22 is_stmt 0 discriminator 1 view .LVU2672
 7902 006c 0136     		adds	r6, r6, #1
 7903              	.LVL881:
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 7904              		.loc 1 3507 22 discriminator 1 view .LVU2673
 7905 006e EDE7     		b	.L608
 7906              	.LVL882:
 7907              	.L620:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7908              		.loc 1 3515 7 is_stmt 1 view .LVU2674
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7909              		.loc 1 3515 13 is_stmt 0 view .LVU2675
 7910 0070 01F1010A 		add	r10, r1, #1
 7911              	.LVL883:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7912              		.loc 1 3515 13 view .LVU2676
 7913 0074 2846     		mov	r0, r5
 7914              	.LVL884:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7915              		.loc 1 3515 13 view .LVU2677
 7916 0076 FFF7FEFF 		bl	move_window
 7917              	.LVL885:
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 7918              		.loc 1 3516 7 is_stmt 1 view .LVU2678
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 7919              		.loc 1 3516 10 is_stmt 0 view .LVU2679
 7920 007a 8046     		mov	r8, r0
 7921 007c 60BB     		cbnz	r0, .L607
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 7922              		.loc 1 3517 7 is_stmt 1 view .LVU2680
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 7923              		.loc 1 3517 9 is_stmt 0 view .LVU2681
 7924 007e 2A46     		mov	r2, r5
 7925              	.LVL886:
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7926              		.loc 1 3518 7 is_stmt 1 view .LVU2682
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 7927              		.loc 1 3515 13 is_stmt 0 view .LVU2683
 7928 0080 5146     		mov	r1, r10
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7929              		.loc 1 3518 9 view .LVU2684
 7930 0082 4FF40070 		mov	r0, #512
 7931              	.LVL887:
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7932              		.loc 1 3518 9 view .LVU2685
 7933 0086 10E0     		b	.L610
 7934              	.LVL888:
 7935              	.L621:
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7936              		.loc 1 3521 7 is_stmt 1 view .LVU2686
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7937              		.loc 1 3521 11 is_stmt 0 view .LVU2687
 7938 0088 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
ARM GAS  /tmp/ccLzcuV9.s 			page 257


 7939 008c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 7940 008e 43EA0C23 		orr	r3, r3, ip, lsl #8
 7941 0092 1BB2     		sxth	r3, r3
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7942              		.loc 1 3521 10 view .LVU2688
 7943 0094 03B9     		cbnz	r3, .L612
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7944              		.loc 1 3521 28 is_stmt 1 discriminator 1 view .LVU2689
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 7945              		.loc 1 3521 29 is_stmt 0 discriminator 1 view .LVU2690
 7946 0096 0136     		adds	r6, r6, #1
 7947              	.LVL889:
 7948              	.L612:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7949              		.loc 1 3522 7 is_stmt 1 view .LVU2691
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7950              		.loc 1 3522 9 is_stmt 0 view .LVU2692
 7951 0098 0232     		adds	r2, r2, #2
 7952              	.LVL890:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7953              		.loc 1 3522 15 is_stmt 1 view .LVU2693
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7954              		.loc 1 3522 17 is_stmt 0 view .LVU2694
 7955 009a 0238     		subs	r0, r0, #2
 7956              	.LVL891:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7957              		.loc 1 3522 17 view .LVU2695
 7958 009c 01E0     		b	.L613
 7959              	.L614:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7960              		.loc 1 3525 7 is_stmt 1 view .LVU2696
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7961              		.loc 1 3525 9 is_stmt 0 view .LVU2697
 7962 009e 0432     		adds	r2, r2, #4
 7963              	.LVL892:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7964              		.loc 1 3525 15 is_stmt 1 view .LVU2698
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7965              		.loc 1 3525 17 is_stmt 0 view .LVU2699
 7966 00a0 0438     		subs	r0, r0, #4
 7967              	.LVL893:
 7968              	.L613:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7969              		.loc 1 3527 14 is_stmt 1 view .LVU2700
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7970              		.loc 1 3527 14 is_stmt 0 view .LVU2701
 7971 00a2 013C     		subs	r4, r4, #1
 7972              	.LVL894:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7973              		.loc 1 3527 14 view .LVU2702
 7974 00a4 18D0     		beq	.L607
 7975              	.LVL895:
 7976              	.L615:
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
 7977              		.loc 1 3513 5 is_stmt 1 view .LVU2703
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 7978              		.loc 1 3514 6 view .LVU2704
ARM GAS  /tmp/ccLzcuV9.s 			page 258


3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 7979              		.loc 1 3514 9 is_stmt 0 view .LVU2705
 7980 00a6 0028     		cmp	r0, #0
 7981 00a8 E2D0     		beq	.L620
 7982              	.LVL896:
 7983              	.L610:
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 7984              		.loc 1 3520 6 is_stmt 1 view .LVU2706
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 7985              		.loc 1 3520 9 is_stmt 0 view .LVU2707
 7986 00aa B9F1020F 		cmp	r9, #2
 7987 00ae EBD0     		beq	.L621
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 7988              		.loc 1 3524 7 is_stmt 1 view .LVU2708
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 7989              		.loc 1 3524 12 is_stmt 0 view .LVU2709
 7990 00b0 92F803C0 		ldrb	ip, [r2, #3]	@ zero_extendqisi2
 7991 00b4 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 7992 00b6 1B04     		lsls	r3, r3, #16
 7993 00b8 43EA0C63 		orr	r3, r3, ip, lsl #24
 7994 00bc 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 7995 00c0 43EA0C23 		orr	r3, r3, ip, lsl #8
 7996 00c4 92F800C0 		ldrb	ip, [r2]	@ zero_extendqisi2
 7997 00c8 43EA0C03 		orr	r3, r3, ip
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 7998              		.loc 1 3524 10 view .LVU2710
 7999 00cc 33F07043 		bics	r3, r3, #-268435456
 8000 00d0 E5D1     		bne	.L614
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8001              		.loc 1 3524 44 is_stmt 1 discriminator 1 view .LVU2711
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8002              		.loc 1 3524 45 is_stmt 0 discriminator 1 view .LVU2712
 8003 00d2 0136     		adds	r6, r6, #1
 8004              	.LVL897:
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8005              		.loc 1 3524 45 discriminator 1 view .LVU2713
 8006 00d4 E3E7     		b	.L614
 8007              	.LVL898:
 8008              	.L616:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8009              		.loc 1 3505 36 discriminator 1 view .LVU2714
 8010 00d6 C846     		mov	r8, r9
 8011              	.LVL899:
 8012              	.L607:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8013              		.loc 1 3529 4 is_stmt 1 view .LVU2715
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8014              		.loc 1 3529 19 is_stmt 0 view .LVU2716
 8015 00d8 C5F81062 		str	r6, [r5, #528]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8016              		.loc 1 3530 4 is_stmt 1 view .LVU2717
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8017              		.loc 1 3530 6 is_stmt 0 view .LVU2718
 8018 00dc 95F80532 		ldrb	r3, [r5, #517]	@ zero_extendqisi2
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8019              		.loc 1 3530 17 view .LVU2719
 8020 00e0 43F00103 		orr	r3, r3, #1
ARM GAS  /tmp/ccLzcuV9.s 			page 259


 8021 00e4 85F80532 		strb	r3, [r5, #517]
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8022              		.loc 1 3531 4 is_stmt 1 view .LVU2720
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8023              		.loc 1 3531 11 is_stmt 0 view .LVU2721
 8024 00e8 3E60     		str	r6, [r7]
 8025              	.LVL900:
 8026              	.L604:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8027              		.loc 1 3534 2 is_stmt 1 view .LVU2722
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8028              		.loc 1 3535 1 is_stmt 0 view .LVU2723
 8029 00ea 4046     		mov	r0, r8
 8030 00ec 02B0     		add	sp, sp, #8
 8031              	.LCFI83:
 8032              		.cfi_remember_state
 8033              		.cfi_def_cfa_offset 32
 8034              		@ sp needed
 8035 00ee BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 8036              	.LVL901:
 8037              	.L617:
 8038              	.LCFI84:
 8039              		.cfi_restore_state
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8040              		.loc 1 3506 27 discriminator 1 view .LVU2724
 8041 00f2 4FF00208 		mov	r8, #2
 8042              	.LVL902:
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8043              		.loc 1 3506 27 discriminator 1 view .LVU2725
 8044 00f6 EFE7     		b	.L607
 8045              		.cfi_endproc
 8046              	.LFE110:
 8048              		.section	.text.f_truncate,"ax",%progbits
 8049              		.align	1
 8050              		.global	f_truncate
 8051              		.syntax unified
 8052              		.thumb
 8053              		.thumb_func
 8055              	f_truncate:
 8056              	.LVL903:
 8057              	.LFB111:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8058              		.loc 1 3547 1 is_stmt 1 view -0
 8059              		.cfi_startproc
 8060              		@ args = 0, pretend = 0, frame = 0
 8061              		@ frame_needed = 0, uses_anonymous_args = 0
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8062              		.loc 1 3547 1 is_stmt 0 view .LVU2727
 8063 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 8064              	.LCFI85:
 8065              		.cfi_def_cfa_offset 24
 8066              		.cfi_offset 3, -24
 8067              		.cfi_offset 4, -20
 8068              		.cfi_offset 5, -16
 8069              		.cfi_offset 6, -12
 8070              		.cfi_offset 7, -8
 8071              		.cfi_offset 14, -4
ARM GAS  /tmp/ccLzcuV9.s 			page 260


 8072 0002 0446     		mov	r4, r0
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 8073              		.loc 1 3548 2 is_stmt 1 view .LVU2728
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8074              		.loc 1 3549 2 view .LVU2729
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8075              		.loc 1 3552 2 view .LVU2730
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8076              		.loc 1 3552 8 is_stmt 0 view .LVU2731
 8077 0004 FFF7FEFF 		bl	validate
 8078              	.LVL904:
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8079              		.loc 1 3553 2 is_stmt 1 view .LVU2732
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8080              		.loc 1 3553 5 is_stmt 0 view .LVU2733
 8081 0008 0546     		mov	r5, r0
 8082 000a 0028     		cmp	r0, #0
 8083 000c 73D1     		bne	.L623
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8084              		.loc 1 3554 3 is_stmt 1 view .LVU2734
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8085              		.loc 1 3554 9 is_stmt 0 view .LVU2735
 8086 000e 94F80762 		ldrb	r6, [r4, #519]	@ zero_extendqisi2
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8087              		.loc 1 3554 6 view .LVU2736
 8088 0012 2EB9     		cbnz	r6, .L624
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8089              		.loc 1 3557 4 is_stmt 1 view .LVU2737
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8090              		.loc 1 3557 12 is_stmt 0 view .LVU2738
 8091 0014 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8092              		.loc 1 3557 7 view .LVU2739
 8093 0018 13F0020F 		tst	r3, #2
 8094 001c 68D0     		beq	.L630
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8095              		.loc 1 3552 8 view .LVU2740
 8096 001e 0646     		mov	r6, r0
 8097              	.L624:
 8098              	.LVL905:
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8099              		.loc 1 3561 2 is_stmt 1 view .LVU2741
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8100              		.loc 1 3561 5 is_stmt 0 view .LVU2742
 8101 0020 002E     		cmp	r6, #0
 8102 0022 67D1     		bne	.L631
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8103              		.loc 1 3562 3 is_stmt 1 view .LVU2743
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8104              		.loc 1 3562 9 is_stmt 0 view .LVU2744
 8105 0024 D4F80C22 		ldr	r2, [r4, #524]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8106              		.loc 1 3562 21 view .LVU2745
 8107 0028 D4F80832 		ldr	r3, [r4, #520]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8108              		.loc 1 3562 6 view .LVU2746
 8109 002c 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccLzcuV9.s 			page 261


 8110 002e 19D9     		bls	.L625
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8111              		.loc 1 3563 4 is_stmt 1 view .LVU2747
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8112              		.loc 1 3563 14 is_stmt 0 view .LVU2748
 8113 0030 C4F80C32 		str	r3, [r4, #524]
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8114              		.loc 1 3564 4 is_stmt 1 view .LVU2749
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8115              		.loc 1 3564 6 is_stmt 0 view .LVU2750
 8116 0034 94F80622 		ldrb	r2, [r4, #518]	@ zero_extendqisi2
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8117              		.loc 1 3564 13 view .LVU2751
 8118 0038 42F02002 		orr	r2, r2, #32
 8119 003c 84F80622 		strb	r2, [r4, #518]
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8120              		.loc 1 3565 4 is_stmt 1 view .LVU2752
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8121              		.loc 1 3565 7 is_stmt 0 view .LVU2753
 8122 0040 B3B9     		cbnz	r3, .L626
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8123              		.loc 1 3566 5 is_stmt 1 view .LVU2754
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8124              		.loc 1 3566 11 is_stmt 0 view .LVU2755
 8125 0042 D4F81012 		ldr	r1, [r4, #528]
 8126 0046 D4F80002 		ldr	r0, [r4, #512]
 8127 004a FFF7FEFF 		bl	remove_chain
 8128              	.LVL906:
 8129 004e 0546     		mov	r5, r0
 8130              	.LVL907:
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8131              		.loc 1 3567 5 is_stmt 1 view .LVU2756
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8132              		.loc 1 3567 16 is_stmt 0 view .LVU2757
 8133 0050 0023     		movs	r3, #0
 8134 0052 C4F81032 		str	r3, [r4, #528]
 8135              	.LVL908:
 8136              	.L627:
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8137              		.loc 1 3579 4 is_stmt 1 view .LVU2758
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8138              		.loc 1 3579 7 is_stmt 0 view .LVU2759
 8139 0056 45B9     		cbnz	r5, .L629
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8140              		.loc 1 3579 27 discriminator 1 view .LVU2760
 8141 0058 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8142              		.loc 1 3579 21 discriminator 1 view .LVU2761
 8143 005c 13F0400F 		tst	r3, #64
 8144 0060 2DD1     		bne	.L640
 8145 0062 2E46     		mov	r6, r5
 8146              	.LVL909:
 8147              	.L625:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8148              		.loc 1 3587 3 is_stmt 1 view .LVU2762
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8149              		.loc 1 3587 6 is_stmt 0 view .LVU2763
ARM GAS  /tmp/ccLzcuV9.s 			page 262


 8150 0064 002E     		cmp	r6, #0
 8151 0066 48D0     		beq	.L638
 8152 0068 3546     		mov	r5, r6
 8153              	.LVL910:
 8154              	.L629:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8155              		.loc 1 3587 21 is_stmt 1 discriminator 1 view .LVU2764
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8156              		.loc 1 3587 29 is_stmt 0 discriminator 1 view .LVU2765
 8157 006a 84F80752 		strb	r5, [r4, #519]
 8158 006e 42E0     		b	.L623
 8159              	.LVL911:
 8160              	.L626:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8161              		.loc 1 3569 5 is_stmt 1 view .LVU2766
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8162              		.loc 1 3569 11 is_stmt 0 view .LVU2767
 8163 0070 D4F81412 		ldr	r1, [r4, #532]
 8164 0074 D4F80002 		ldr	r0, [r4, #512]
 8165 0078 FFF7FEFF 		bl	get_fat
 8166              	.LVL912:
 8167 007c 0746     		mov	r7, r0
 8168              	.LVL913:
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8169              		.loc 1 3570 5 is_stmt 1 view .LVU2768
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8170              		.loc 1 3571 5 view .LVU2769
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8171              		.loc 1 3571 8 is_stmt 0 view .LVU2770
 8172 007e B0F1FF3F 		cmp	r0, #-1
 8173 0082 0AD0     		beq	.L632
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8174              		.loc 1 3572 5 is_stmt 1 view .LVU2771
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8175              		.loc 1 3572 8 is_stmt 0 view .LVU2772
 8176 0084 0128     		cmp	r0, #1
 8177 0086 2DD0     		beq	.L641
 8178              	.L628:
 8179              	.LVL914:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8180              		.loc 1 3573 5 is_stmt 1 view .LVU2773
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8181              		.loc 1 3573 8 is_stmt 0 view .LVU2774
 8182 0088 76BB     		cbnz	r6, .L634
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8183              		.loc 1 3573 33 discriminator 1 view .LVU2775
 8184 008a D4F80002 		ldr	r0, [r4, #512]
 8185              	.LVL915:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8186              		.loc 1 3573 37 discriminator 1 view .LVU2776
 8187 008e D0F81432 		ldr	r3, [r0, #532]
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8188              		.loc 1 3573 22 discriminator 1 view .LVU2777
 8189 0092 BB42     		cmp	r3, r7
 8190 0094 03D8     		bhi	.L642
 8191 0096 3546     		mov	r5, r6
 8192 0098 DDE7     		b	.L627
ARM GAS  /tmp/ccLzcuV9.s 			page 263


 8193              	.LVL916:
 8194              	.L632:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8195              		.loc 1 3571 32 discriminator 1 view .LVU2778
 8196 009a 0126     		movs	r6, #1
 8197 009c F4E7     		b	.L628
 8198              	.LVL917:
 8199              	.L642:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8200              		.loc 1 3574 6 is_stmt 1 view .LVU2779
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8201              		.loc 1 3574 12 is_stmt 0 view .LVU2780
 8202 009e 6FF07042 		mvn	r2, #-268435456
 8203 00a2 D4F81412 		ldr	r1, [r4, #532]
 8204 00a6 FFF7FEFF 		bl	put_fat
 8205              	.LVL918:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8206              		.loc 1 3575 6 is_stmt 1 view .LVU2781
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8207              		.loc 1 3575 9 is_stmt 0 view .LVU2782
 8208 00aa 0546     		mov	r5, r0
 8209 00ac 0028     		cmp	r0, #0
 8210 00ae DCD1     		bne	.L629
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8211              		.loc 1 3575 24 is_stmt 1 discriminator 1 view .LVU2783
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8212              		.loc 1 3575 30 is_stmt 0 discriminator 1 view .LVU2784
 8213 00b0 3946     		mov	r1, r7
 8214 00b2 D4F80002 		ldr	r0, [r4, #512]
 8215              	.LVL919:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8216              		.loc 1 3575 30 discriminator 1 view .LVU2785
 8217 00b6 FFF7FEFF 		bl	remove_chain
 8218              	.LVL920:
 8219 00ba 0546     		mov	r5, r0
 8220              	.LVL921:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8221              		.loc 1 3575 30 discriminator 1 view .LVU2786
 8222 00bc CBE7     		b	.L627
 8223              	.LVL922:
 8224              	.L640:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8225              		.loc 1 3580 5 is_stmt 1 view .LVU2787
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8226              		.loc 1 3580 22 is_stmt 0 view .LVU2788
 8227 00be D4F80002 		ldr	r0, [r4, #512]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8228              		.loc 1 3580 9 view .LVU2789
 8229 00c2 0123     		movs	r3, #1
 8230 00c4 D4F81822 		ldr	r2, [r4, #536]
 8231 00c8 2146     		mov	r1, r4
 8232 00ca 90F80102 		ldrb	r0, [r0, #513]	@ zero_extendqisi2
 8233 00ce FFF7FEFF 		bl	disk_write
 8234              	.LVL923:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8235              		.loc 1 3580 8 discriminator 1 view .LVU2790
 8236 00d2 58B9     		cbnz	r0, .L637
ARM GAS  /tmp/ccLzcuV9.s 			page 264


3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8237              		.loc 1 3583 6 is_stmt 1 view .LVU2791
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8238              		.loc 1 3583 8 is_stmt 0 view .LVU2792
 8239 00d4 94F80632 		ldrb	r3, [r4, #518]	@ zero_extendqisi2
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8240              		.loc 1 3583 15 view .LVU2793
 8241 00d8 23F04003 		bic	r3, r3, #64
 8242 00dc 84F80632 		strb	r3, [r4, #518]
 8243 00e0 2E46     		mov	r6, r5
 8244 00e2 BFE7     		b	.L625
 8245              	.LVL924:
 8246              	.L641:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8247              		.loc 1 3572 23 discriminator 1 view .LVU2794
 8248 00e4 0225     		movs	r5, #2
 8249 00e6 C0E7     		b	.L629
 8250              	.LVL925:
 8251              	.L634:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8252              		.loc 1 3572 23 discriminator 1 view .LVU2795
 8253 00e8 3546     		mov	r5, r6
 8254 00ea BEE7     		b	.L629
 8255              	.LVL926:
 8256              	.L637:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8257              		.loc 1 3581 10 view .LVU2796
 8258 00ec 0125     		movs	r5, #1
 8259              	.LVL927:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8260              		.loc 1 3581 10 view .LVU2797
 8261 00ee BCE7     		b	.L629
 8262              	.LVL928:
 8263              	.L630:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8264              		.loc 1 3558 9 view .LVU2798
 8265 00f0 0725     		movs	r5, #7
 8266 00f2 00E0     		b	.L623
 8267              	.LVL929:
 8268              	.L631:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8269              		.loc 1 3558 9 view .LVU2799
 8270 00f4 3546     		mov	r5, r6
 8271              	.LVL930:
 8272              	.L623:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8273              		.loc 1 3590 2 is_stmt 1 view .LVU2800
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8274              		.loc 1 3591 1 is_stmt 0 view .LVU2801
 8275 00f6 2846     		mov	r0, r5
 8276 00f8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 8277              	.LVL931:
 8278              	.L638:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8279              		.loc 1 3591 1 view .LVU2802
 8280 00fa 3546     		mov	r5, r6
 8281 00fc FBE7     		b	.L623
ARM GAS  /tmp/ccLzcuV9.s 			page 265


 8282              		.cfi_endproc
 8283              	.LFE111:
 8285              		.section	.text.f_unlink,"ax",%progbits
 8286              		.align	1
 8287              		.global	f_unlink
 8288              		.syntax unified
 8289              		.thumb
 8290              		.thumb_func
 8292              	f_unlink:
 8293              	.LVL932:
 8294              	.LFB112:
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8295              		.loc 1 3603 1 is_stmt 1 view -0
 8296              		.cfi_startproc
 8297              		@ args = 0, pretend = 0, frame = 1112
 8298              		@ frame_needed = 0, uses_anonymous_args = 0
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8299              		.loc 1 3603 1 is_stmt 0 view .LVU2804
 8300 0000 70B5     		push	{r4, r5, r6, lr}
 8301              	.LCFI86:
 8302              		.cfi_def_cfa_offset 16
 8303              		.cfi_offset 4, -16
 8304              		.cfi_offset 5, -12
 8305              		.cfi_offset 6, -8
 8306              		.cfi_offset 14, -4
 8307 0002 ADF58B6D 		sub	sp, sp, #1112
 8308              	.LCFI87:
 8309              		.cfi_def_cfa_offset 1128
 8310 0006 0190     		str	r0, [sp, #4]
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 8311              		.loc 1 3604 2 is_stmt 1 view .LVU2805
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8312              		.loc 1 3605 2 view .LVU2806
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 8313              		.loc 1 3606 2 view .LVU2807
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8314              		.loc 1 3607 2 view .LVU2808
 8315              	.LVL933:
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8316              		.loc 1 3608 2 view .LVU2809
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8317              		.loc 1 3612 2 view .LVU2810
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8318              		.loc 1 3612 8 is_stmt 0 view .LVU2811
 8319 0008 0122     		movs	r2, #1
 8320 000a 01A9     		add	r1, sp, #4
 8321 000c 0DF58760 		add	r0, sp, #1080
 8322              	.LVL934:
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8323              		.loc 1 3612 8 view .LVU2812
 8324 0010 FFF7FEFF 		bl	find_volume
 8325              	.LVL935:
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8326              		.loc 1 3613 2 is_stmt 1 view .LVU2813
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8327              		.loc 1 3613 5 is_stmt 0 view .LVU2814
 8328 0014 0446     		mov	r4, r0
ARM GAS  /tmp/ccLzcuV9.s 			page 266


 8329 0016 18B1     		cbz	r0, .L652
 8330              	.LVL936:
 8331              	.L644:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8332              		.loc 1 3656 13 is_stmt 1 view .LVU2815
3659:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8333              		.loc 1 3659 2 view .LVU2816
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8334              		.loc 1 3660 1 is_stmt 0 view .LVU2817
 8335 0018 2046     		mov	r0, r4
 8336 001a 0DF58B6D 		add	sp, sp, #1112
 8337              	.LCFI88:
 8338              		.cfi_remember_state
 8339              		.cfi_def_cfa_offset 16
 8340              		@ sp needed
 8341 001e 70BD     		pop	{r4, r5, r6, pc}
 8342              	.LVL937:
 8343              	.L652:
 8344              	.LCFI89:
 8345              		.cfi_restore_state
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 8346              		.loc 1 3614 3 is_stmt 1 view .LVU2818
 8347 0020 03AB     		add	r3, sp, #12
 8348 0022 CDF85034 		str	r3, [sp, #1104]
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8349              		.loc 1 3615 3 view .LVU2819
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8350              		.loc 1 3615 9 is_stmt 0 view .LVU2820
 8351 0026 0199     		ldr	r1, [sp, #4]
 8352 0028 8EA8     		add	r0, sp, #568
 8353              	.LVL938:
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8354              		.loc 1 3615 9 view .LVU2821
 8355 002a FFF7FEFF 		bl	follow_path
 8356              	.LVL939:
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 8357              		.loc 1 3616 3 is_stmt 1 view .LVU2822
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8358              		.loc 1 3619 3 view .LVU2823
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8359              		.loc 1 3619 6 is_stmt 0 view .LVU2824
 8360 002e 0446     		mov	r4, r0
 8361 0030 0028     		cmp	r0, #0
 8362 0032 F1D1     		bne	.L644
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8363              		.loc 1 3619 21 is_stmt 1 discriminator 1 view .LVU2825
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8364              		.loc 1 3619 27 is_stmt 0 discriminator 1 view .LVU2826
 8365 0034 0221     		movs	r1, #2
 8366 0036 8EA8     		add	r0, sp, #568
 8367              	.LVL940:
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8368              		.loc 1 3619 27 discriminator 1 view .LVU2827
 8369 0038 FFF7FEFF 		bl	chk_lock
 8370              	.LVL941:
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8371              		.loc 1 3621 3 is_stmt 1 view .LVU2828
ARM GAS  /tmp/ccLzcuV9.s 			page 267


3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8372              		.loc 1 3621 6 is_stmt 0 view .LVU2829
 8373 003c 0446     		mov	r4, r0
 8374 003e 0028     		cmp	r0, #0
 8375 0040 EAD1     		bne	.L644
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 8376              		.loc 1 3622 4 is_stmt 1 view .LVU2830
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 8377              		.loc 1 3622 8 is_stmt 0 view .LVU2831
 8378 0042 DDF84C14 		ldr	r1, [sp, #1100]
 8379              	.LVL942:
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 8380              		.loc 1 3623 4 is_stmt 1 view .LVU2832
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 8381              		.loc 1 3623 7 is_stmt 0 view .LVU2833
 8382 0046 0029     		cmp	r1, #0
 8383 0048 3DD0     		beq	.L648
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8384              		.loc 1 3626 5 is_stmt 1 view .LVU2834
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8385              		.loc 1 3626 12 is_stmt 0 view .LVU2835
 8386 004a CD7A     		ldrb	r5, [r1, #11]	@ zero_extendqisi2
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 8387              		.loc 1 3626 8 view .LVU2836
 8388 004c 15F0010F 		tst	r5, #1
 8389 0050 3BD1     		bne	.L649
 8390              	.LVL943:
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
 8391              		.loc 1 3629 4 is_stmt 1 view .LVU2837
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 8392              		.loc 1 3630 5 view .LVU2838
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 8393              		.loc 1 3630 13 is_stmt 0 view .LVU2839
 8394 0052 DDF83804 		ldr	r0, [sp, #1080]
 8395 0056 FFF7FEFF 		bl	ld_clust
 8396              	.LVL944:
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8397              		.loc 1 3631 5 is_stmt 1 view .LVU2840
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8398              		.loc 1 3631 8 is_stmt 0 view .LVU2841
 8399 005a 0646     		mov	r6, r0
 8400 005c 10B1     		cbz	r0, .L645
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 8401              		.loc 1 3631 15 discriminator 1 view .LVU2842
 8402 005e 15F0100F 		tst	r5, #16
 8403 0062 10D1     		bne	.L653
 8404              	.LVL945:
 8405              	.L645:
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 8406              		.loc 1 3649 4 is_stmt 1 view .LVU2843
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 8407              		.loc 1 3649 7 is_stmt 0 view .LVU2844
 8408 0064 002C     		cmp	r4, #0
 8409 0066 D7D1     		bne	.L644
 8410              	.LVL946:
 8411              	.L646:
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
ARM GAS  /tmp/ccLzcuV9.s 			page 268


 8412              		.loc 1 3650 5 is_stmt 1 view .LVU2845
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 8413              		.loc 1 3650 11 is_stmt 0 view .LVU2846
 8414 0068 8EA8     		add	r0, sp, #568
 8415 006a FFF7FEFF 		bl	dir_remove
 8416              	.LVL947:
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8417              		.loc 1 3651 5 is_stmt 1 view .LVU2847
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8418              		.loc 1 3651 8 is_stmt 0 view .LVU2848
 8419 006e 0446     		mov	r4, r0
 8420 0070 0028     		cmp	r0, #0
 8421 0072 D1D1     		bne	.L644
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 8422              		.loc 1 3651 22 discriminator 1 view .LVU2849
 8423 0074 06BB     		cbnz	r6, .L654
 8424              	.LVL948:
 8425              	.L647:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8426              		.loc 1 3653 5 is_stmt 1 view .LVU2850
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8427              		.loc 1 3653 8 is_stmt 0 view .LVU2851
 8428 0076 002C     		cmp	r4, #0
 8429 0078 CED1     		bne	.L644
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8430              		.loc 1 3653 23 is_stmt 1 discriminator 1 view .LVU2852
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8431              		.loc 1 3653 29 is_stmt 0 discriminator 1 view .LVU2853
 8432 007a DDF83804 		ldr	r0, [sp, #1080]
 8433 007e FFF7FEFF 		bl	sync_fs
 8434              	.LVL949:
 8435 0082 0446     		mov	r4, r0
 8436              	.LVL950:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8437              		.loc 1 3653 29 discriminator 1 view .LVU2854
 8438 0084 C8E7     		b	.L644
 8439              	.LVL951:
 8440              	.L653:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8441              		.loc 1 3638 7 is_stmt 1 view .LVU2855
 8442 0086 4FF40872 		mov	r2, #544
 8443 008a 8EA9     		add	r1, sp, #568
 8444 008c 06A8     		add	r0, sp, #24
 8445              	.LVL952:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 8446              		.loc 1 3638 7 is_stmt 0 view .LVU2856
 8447 008e FFF7FEFF 		bl	mem_cpy
 8448              	.LVL953:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 8449              		.loc 1 3639 7 is_stmt 1 view .LVU2857
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 8450              		.loc 1 3639 18 is_stmt 0 view .LVU2858
 8451 0092 8896     		str	r6, [sp, #544]
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 8452              		.loc 1 3640 7 is_stmt 1 view .LVU2859
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 8453              		.loc 1 3640 13 is_stmt 0 view .LVU2860
ARM GAS  /tmp/ccLzcuV9.s 			page 269


 8454 0094 0221     		movs	r1, #2
 8455 0096 06A8     		add	r0, sp, #24
 8456 0098 FFF7FEFF 		bl	dir_sdi
 8457              	.LVL954:
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 8458              		.loc 1 3641 7 is_stmt 1 view .LVU2861
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 8459              		.loc 1 3641 10 is_stmt 0 view .LVU2862
 8460 009c 0446     		mov	r4, r0
 8461 009e 0028     		cmp	r0, #0
 8462 00a0 BAD1     		bne	.L644
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8463              		.loc 1 3642 8 is_stmt 1 view .LVU2863
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8464              		.loc 1 3642 14 is_stmt 0 view .LVU2864
 8465 00a2 0021     		movs	r1, #0
 8466 00a4 06A8     		add	r0, sp, #24
 8467              	.LVL955:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 8468              		.loc 1 3642 14 view .LVU2865
 8469 00a6 FFF7FEFF 		bl	dir_read
 8470              	.LVL956:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8471              		.loc 1 3643 8 is_stmt 1 view .LVU2866
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8472              		.loc 1 3643 11 is_stmt 0 view .LVU2867
 8473 00aa 0446     		mov	r4, r0
 8474 00ac 10B1     		cbz	r0, .L650
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8475              		.loc 1 3644 8 is_stmt 1 view .LVU2868
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8476              		.loc 1 3644 11 is_stmt 0 view .LVU2869
 8477 00ae 0428     		cmp	r0, #4
 8478 00b0 D8D1     		bne	.L645
 8479 00b2 D9E7     		b	.L646
 8480              	.L650:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 8481              		.loc 1 3643 30 discriminator 1 view .LVU2870
 8482 00b4 0724     		movs	r4, #7
 8483 00b6 D5E7     		b	.L645
 8484              	.LVL957:
 8485              	.L654:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8486              		.loc 1 3652 6 is_stmt 1 view .LVU2871
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8487              		.loc 1 3652 12 is_stmt 0 view .LVU2872
 8488 00b8 3146     		mov	r1, r6
 8489 00ba DDF83804 		ldr	r0, [sp, #1080]
 8490              	.LVL958:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8491              		.loc 1 3652 12 view .LVU2873
 8492 00be FFF7FEFF 		bl	remove_chain
 8493              	.LVL959:
 8494 00c2 0446     		mov	r4, r0
 8495              	.LVL960:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 8496              		.loc 1 3652 12 view .LVU2874
ARM GAS  /tmp/ccLzcuV9.s 			page 270


 8497 00c4 D7E7     		b	.L647
 8498              	.LVL961:
 8499              	.L648:
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8500              		.loc 1 3624 9 view .LVU2875
 8501 00c6 0624     		movs	r4, #6
 8502 00c8 A6E7     		b	.L644
 8503              	.L649:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8504              		.loc 1 3627 10 view .LVU2876
 8505 00ca 0724     		movs	r4, #7
 8506 00cc A4E7     		b	.L644
 8507              		.cfi_endproc
 8508              	.LFE112:
 8510              		.section	.text.f_mkdir,"ax",%progbits
 8511              		.align	1
 8512              		.global	f_mkdir
 8513              		.syntax unified
 8514              		.thumb
 8515              		.thumb_func
 8517              	f_mkdir:
 8518              	.LVL962:
 8519              	.LFB113:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8520              		.loc 1 3672 1 is_stmt 1 view -0
 8521              		.cfi_startproc
 8522              		@ args = 0, pretend = 0, frame = 576
 8523              		@ frame_needed = 0, uses_anonymous_args = 0
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8524              		.loc 1 3672 1 is_stmt 0 view .LVU2878
 8525 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8526              	.LCFI90:
 8527              		.cfi_def_cfa_offset 36
 8528              		.cfi_offset 4, -36
 8529              		.cfi_offset 5, -32
 8530              		.cfi_offset 6, -28
 8531              		.cfi_offset 7, -24
 8532              		.cfi_offset 8, -20
 8533              		.cfi_offset 9, -16
 8534              		.cfi_offset 10, -12
 8535              		.cfi_offset 11, -8
 8536              		.cfi_offset 14, -4
 8537 0004 ADF5117D 		sub	sp, sp, #580
 8538              	.LCFI91:
 8539              		.cfi_def_cfa_offset 616
 8540 0008 0390     		str	r0, [sp, #12]
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8541              		.loc 1 3673 2 is_stmt 1 view .LVU2879
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
 8542              		.loc 1 3674 2 view .LVU2880
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
 8543              		.loc 1 3675 2 view .LVU2881
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8544              		.loc 1 3676 2 view .LVU2882
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8545              		.loc 1 3676 28 is_stmt 0 view .LVU2883
 8546 000a FFF7FEFF 		bl	get_fattime
ARM GAS  /tmp/ccLzcuV9.s 			page 271


 8547              	.LVL963:
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8548              		.loc 1 3676 28 view .LVU2884
 8549 000e 0446     		mov	r4, r0
 8550              	.LVL964:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8551              		.loc 1 3677 2 is_stmt 1 view .LVU2885
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8552              		.loc 1 3681 2 view .LVU2886
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8553              		.loc 1 3681 8 is_stmt 0 view .LVU2887
 8554 0010 0122     		movs	r2, #1
 8555 0012 03A9     		add	r1, sp, #12
 8556 0014 88A8     		add	r0, sp, #544
 8557              	.LVL965:
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8558              		.loc 1 3681 8 view .LVU2888
 8559 0016 FFF7FEFF 		bl	find_volume
 8560              	.LVL966:
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8561              		.loc 1 3682 2 is_stmt 1 view .LVU2889
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8562              		.loc 1 3682 5 is_stmt 0 view .LVU2890
 8563 001a 0546     		mov	r5, r0
 8564 001c 20B1     		cbz	r0, .L672
 8565              	.LVL967:
 8566              	.L656:
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8567              		.loc 1 3730 13 is_stmt 1 view .LVU2891
3733:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8568              		.loc 1 3733 2 view .LVU2892
3734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8569              		.loc 1 3734 1 is_stmt 0 view .LVU2893
 8570 001e 2846     		mov	r0, r5
 8571 0020 0DF5117D 		add	sp, sp, #580
 8572              	.LCFI92:
 8573              		.cfi_remember_state
 8574              		.cfi_def_cfa_offset 36
 8575              		@ sp needed
 8576 0024 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8577              	.LVL968:
 8578              	.L672:
 8579              	.LCFI93:
 8580              		.cfi_restore_state
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 8581              		.loc 1 3683 3 is_stmt 1 view .LVU2894
 8582 0028 05AB     		add	r3, sp, #20
 8583 002a 8E93     		str	r3, [sp, #568]
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8584              		.loc 1 3684 3 view .LVU2895
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8585              		.loc 1 3684 9 is_stmt 0 view .LVU2896
 8586 002c 0399     		ldr	r1, [sp, #12]
 8587 002e 08A8     		add	r0, sp, #32
 8588              	.LVL969:
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 8589              		.loc 1 3684 9 view .LVU2897
ARM GAS  /tmp/ccLzcuV9.s 			page 272


 8590 0030 FFF7FEFF 		bl	follow_path
 8591              	.LVL970:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8592              		.loc 1 3685 3 is_stmt 1 view .LVU2898
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8593              		.loc 1 3685 6 is_stmt 0 view .LVU2899
 8594 0034 0028     		cmp	r0, #0
 8595 0036 00F09F80 		beq	.L665
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 8596              		.loc 1 3686 3 is_stmt 1 view .LVU2900
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 8597              		.loc 1 3688 3 view .LVU2901
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 8598              		.loc 1 3688 6 is_stmt 0 view .LVU2902
 8599 003a 0428     		cmp	r0, #4
 8600 003c 01D0     		beq	.L673
 8601 003e 0546     		mov	r5, r0
 8602 0040 EDE7     		b	.L656
 8603              	.L673:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8604              		.loc 1 3689 4 is_stmt 1 view .LVU2903
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8605              		.loc 1 3689 10 is_stmt 0 view .LVU2904
 8606 0042 0021     		movs	r1, #0
 8607 0044 8898     		ldr	r0, [sp, #544]
 8608              	.LVL971:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 8609              		.loc 1 3689 10 view .LVU2905
 8610 0046 FFF7FEFF 		bl	create_chain
 8611              	.LVL972:
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 8612              		.loc 1 3690 4 is_stmt 1 view .LVU2906
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8613              		.loc 1 3691 4 view .LVU2907
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8614              		.loc 1 3691 7 is_stmt 0 view .LVU2908
 8615 004a 0646     		mov	r6, r0
 8616 004c 18B1     		cbz	r0, .L667
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8617              		.loc 1 3692 4 is_stmt 1 view .LVU2909
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8618              		.loc 1 3692 7 is_stmt 0 view .LVU2910
 8619 004e 0128     		cmp	r0, #1
 8620 0050 02D1     		bne	.L657
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8621              		.loc 1 3692 22 discriminator 1 view .LVU2911
 8622 0052 0225     		movs	r5, #2
 8623 0054 04E0     		b	.L658
 8624              	.L667:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 8625              		.loc 1 3691 22 discriminator 1 view .LVU2912
 8626 0056 0725     		movs	r5, #7
 8627              	.L657:
 8628              	.LVL973:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8629              		.loc 1 3693 4 is_stmt 1 view .LVU2913
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
ARM GAS  /tmp/ccLzcuV9.s 			page 273


 8630              		.loc 1 3693 7 is_stmt 0 view .LVU2914
 8631 0058 B6F1FF3F 		cmp	r6, #-1
 8632 005c 00F08A80 		beq	.L674
 8633              	.LVL974:
 8634              	.L658:
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 8635              		.loc 1 3694 4 is_stmt 1 view .LVU2915
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 8636              		.loc 1 3694 7 is_stmt 0 view .LVU2916
 8637 0060 25B1     		cbz	r5, .L675
 8638              	.LVL975:
 8639              	.L659:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8640              		.loc 1 3720 5 is_stmt 1 view .LVU2917
 8641 0062 3146     		mov	r1, r6
 8642 0064 8898     		ldr	r0, [sp, #544]
 8643 0066 FFF7FEFF 		bl	remove_chain
 8644              	.LVL976:
 8645 006a D8E7     		b	.L656
 8646              	.LVL977:
 8647              	.L675:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8648              		.loc 1 3695 5 view .LVU2918
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8649              		.loc 1 3695 11 is_stmt 0 view .LVU2919
 8650 006c 8898     		ldr	r0, [sp, #544]
 8651              	.LVL978:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 8652              		.loc 1 3695 11 view .LVU2920
 8653 006e FFF7FEFF 		bl	sync_window
 8654              	.LVL979:
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 8655              		.loc 1 3696 4 is_stmt 1 view .LVU2921
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 8656              		.loc 1 3696 7 is_stmt 0 view .LVU2922
 8657 0072 0546     		mov	r5, r0
 8658 0074 0028     		cmp	r0, #0
 8659 0076 F4D1     		bne	.L659
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8660              		.loc 1 3697 5 is_stmt 1 view .LVU2923
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8661              		.loc 1 3697 11 is_stmt 0 view .LVU2924
 8662 0078 DDF82082 		ldr	r8, [sp, #544]
 8663 007c 3146     		mov	r1, r6
 8664 007e 4046     		mov	r0, r8
 8665              	.LVL980:
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 8666              		.loc 1 3697 11 view .LVU2925
 8667 0080 FFF7FEFF 		bl	clust2sect
 8668              	.LVL981:
 8669 0084 0746     		mov	r7, r0
 8670              	.LVL982:
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 8671              		.loc 1 3698 5 is_stmt 1 view .LVU2926
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 8672              		.loc 1 3699 5 view .LVU2927
 8673 0086 4FF40072 		mov	r2, #512
ARM GAS  /tmp/ccLzcuV9.s 			page 274


 8674 008a 0021     		movs	r1, #0
 8675 008c 4046     		mov	r0, r8
 8676              	.LVL983:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 8677              		.loc 1 3699 5 is_stmt 0 view .LVU2928
 8678 008e FFF7FEFF 		bl	mem_set
 8679              	.LVL984:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
 8680              		.loc 1 3700 5 is_stmt 1 view .LVU2929
 8681 0092 0B22     		movs	r2, #11
 8682 0094 2021     		movs	r1, #32
 8683 0096 4046     		mov	r0, r8
 8684 0098 FFF7FEFF 		bl	mem_set
 8685              	.LVL985:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 8686              		.loc 1 3701 5 view .LVU2930
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 8687              		.loc 1 3701 19 is_stmt 0 view .LVU2931
 8688 009c 4FF02E0B 		mov	fp, #46
 8689 00a0 88F800B0 		strb	fp, [r8]
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 8690              		.loc 1 3702 5 is_stmt 1 view .LVU2932
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 8691              		.loc 1 3702 19 is_stmt 0 view .LVU2933
 8692 00a4 1023     		movs	r3, #16
 8693 00a6 88F80B30 		strb	r3, [r8, #11]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8694              		.loc 1 3703 5 is_stmt 1 view .LVU2934
 8695 00aa 5FFA84FA 		uxtb	r10, r4
 8696 00ae 88F816A0 		strb	r10, [r8, #22]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8697              		.loc 1 3703 5 view .LVU2935
 8698 00b2 C4F30729 		ubfx	r9, r4, #8, #8
 8699 00b6 88F81790 		strb	r9, [r8, #23]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8700              		.loc 1 3703 5 view .LVU2936
 8701 00ba C4F30743 		ubfx	r3, r4, #16, #8
 8702 00be 0193     		str	r3, [sp, #4]
 8703 00c0 88F81830 		strb	r3, [r8, #24]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 8704              		.loc 1 3703 5 view .LVU2937
 8705 00c4 230E     		lsrs	r3, r4, #24
 8706 00c6 0293     		str	r3, [sp, #8]
 8707 00c8 88F81930 		strb	r3, [r8, #25]
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 8708              		.loc 1 3704 5 view .LVU2938
 8709 00cc 3146     		mov	r1, r6
 8710 00ce 4046     		mov	r0, r8
 8711 00d0 FFF7FEFF 		bl	st_clust
 8712              	.LVL986:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8713              		.loc 1 3705 5 view .LVU2939
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 8714              		.loc 1 3705 17 is_stmt 0 view .LVU2940
 8715 00d4 08F12004 		add	r4, r8, #32
 8716              	.LVL987:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
ARM GAS  /tmp/ccLzcuV9.s 			page 275


 8717              		.loc 1 3705 5 view .LVU2941
 8718 00d8 2022     		movs	r2, #32
 8719 00da 4146     		mov	r1, r8
 8720 00dc 2046     		mov	r0, r4
 8721 00de FFF7FEFF 		bl	mem_cpy
 8722              	.LVL988:
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8723              		.loc 1 3706 5 is_stmt 1 view .LVU2942
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8724              		.loc 1 3706 22 is_stmt 0 view .LVU2943
 8725 00e2 88F821B0 		strb	fp, [r8, #33]
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8726              		.loc 1 3706 29 is_stmt 1 view .LVU2944
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 8727              		.loc 1 3706 33 is_stmt 0 view .LVU2945
 8728 00e6 8A99     		ldr	r1, [sp, #552]
 8729              	.LVL989:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8730              		.loc 1 3707 5 is_stmt 1 view .LVU2946
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8731              		.loc 1 3707 11 is_stmt 0 view .LVU2947
 8732 00e8 889B     		ldr	r3, [sp, #544]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8733              		.loc 1 3707 14 view .LVU2948
 8734 00ea 93F80022 		ldrb	r2, [r3, #512]	@ zero_extendqisi2
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8735              		.loc 1 3707 8 view .LVU2949
 8736 00ee 032A     		cmp	r2, #3
 8737 00f0 1CD0     		beq	.L676
 8738              	.LVL990:
 8739              	.L660:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 8740              		.loc 1 3709 5 is_stmt 1 view .LVU2950
 8741 00f2 2046     		mov	r0, r4
 8742 00f4 FFF7FEFF 		bl	st_clust
 8743              	.LVL991:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8744              		.loc 1 3710 5 view .LVU2951
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8745              		.loc 1 3710 16 is_stmt 0 view .LVU2952
 8746 00f8 889B     		ldr	r3, [sp, #544]
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8747              		.loc 1 3710 12 view .LVU2953
 8748 00fa 93F80242 		ldrb	r4, [r3, #514]	@ zero_extendqisi2
 8749              	.LVL992:
 8750              	.L661:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8751              		.loc 1 3710 28 is_stmt 1 discriminator 1 view .LVU2954
 8752 00fe DCB1     		cbz	r4, .L662
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8753              		.loc 1 3711 6 view .LVU2955
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8754              		.loc 1 3711 26 is_stmt 0 view .LVU2956
 8755 0100 07F1010B 		add	fp, r7, #1
 8756              	.LVL993:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8757              		.loc 1 3711 8 view .LVU2957
ARM GAS  /tmp/ccLzcuV9.s 			page 276


 8758 0104 8898     		ldr	r0, [sp, #544]
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8759              		.loc 1 3711 21 view .LVU2958
 8760 0106 C0F82C72 		str	r7, [r0, #556]
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 8761              		.loc 1 3712 6 is_stmt 1 view .LVU2959
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 8762              		.loc 1 3712 19 is_stmt 0 view .LVU2960
 8763 010a 0123     		movs	r3, #1
 8764 010c 80F80432 		strb	r3, [r0, #516]
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 8765              		.loc 1 3713 6 is_stmt 1 view .LVU2961
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 8766              		.loc 1 3713 12 is_stmt 0 view .LVU2962
 8767 0110 FFF7FEFF 		bl	sync_window
 8768              	.LVL994:
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 8769              		.loc 1 3714 6 is_stmt 1 view .LVU2963
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 8770              		.loc 1 3714 9 is_stmt 0 view .LVU2964
 8771 0114 0546     		mov	r5, r0
 8772 0116 78B9     		cbnz	r0, .L662
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8773              		.loc 1 3715 6 is_stmt 1 view .LVU2965
 8774 0118 4FF40072 		mov	r2, #512
 8775 011c 0021     		movs	r1, #0
 8776 011e 4046     		mov	r0, r8
 8777              	.LVL995:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8778              		.loc 1 3715 6 is_stmt 0 view .LVU2966
 8779 0120 FFF7FEFF 		bl	mem_set
 8780              	.LVL996:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8781              		.loc 1 3710 32 is_stmt 1 discriminator 2 view .LVU2967
 8782 0124 013C     		subs	r4, r4, #1
 8783              	.LVL997:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 8784              		.loc 1 3710 32 is_stmt 0 discriminator 2 view .LVU2968
 8785 0126 E4B2     		uxtb	r4, r4
 8786              	.LVL998:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 8787              		.loc 1 3711 26 view .LVU2969
 8788 0128 5F46     		mov	r7, fp
 8789 012a E8E7     		b	.L661
 8790              	.LVL999:
 8791              	.L676:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8792              		.loc 1 3707 51 discriminator 1 view .LVU2970
 8793 012c D3F82432 		ldr	r3, [r3, #548]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 8794              		.loc 1 3707 36 discriminator 1 view .LVU2971
 8795 0130 8B42     		cmp	r3, r1
 8796 0132 DED1     		bne	.L660
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 8797              		.loc 1 3708 10 view .LVU2972
 8798 0134 0021     		movs	r1, #0
 8799              	.LVL1000:
ARM GAS  /tmp/ccLzcuV9.s 			page 277


3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 8800              		.loc 1 3708 10 view .LVU2973
 8801 0136 DCE7     		b	.L660
 8802              	.LVL1001:
 8803              	.L662:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8804              		.loc 1 3718 4 is_stmt 1 view .LVU2974
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8805              		.loc 1 3718 7 is_stmt 0 view .LVU2975
 8806 0138 002D     		cmp	r5, #0
 8807 013a 92D1     		bne	.L659
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8808              		.loc 1 3718 22 is_stmt 1 discriminator 1 view .LVU2976
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 8809              		.loc 1 3718 28 is_stmt 0 discriminator 1 view .LVU2977
 8810 013c 08A8     		add	r0, sp, #32
 8811 013e FFF7FEFF 		bl	dir_register
 8812              	.LVL1002:
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 8813              		.loc 1 3719 4 is_stmt 1 view .LVU2978
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 8814              		.loc 1 3719 7 is_stmt 0 view .LVU2979
 8815 0142 0546     		mov	r5, r0
 8816 0144 0028     		cmp	r0, #0
 8817 0146 8CD1     		bne	.L659
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 8818              		.loc 1 3722 5 is_stmt 1 view .LVU2980
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 8819              		.loc 1 3722 9 is_stmt 0 view .LVU2981
 8820 0148 8D98     		ldr	r0, [sp, #564]
 8821              	.LVL1003:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 8822              		.loc 1 3723 5 is_stmt 1 view .LVU2982
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 8823              		.loc 1 3723 19 is_stmt 0 view .LVU2983
 8824 014a 1023     		movs	r3, #16
 8825 014c C372     		strb	r3, [r0, #11]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8826              		.loc 1 3724 5 is_stmt 1 view .LVU2984
 8827 014e 80F816A0 		strb	r10, [r0, #22]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8828              		.loc 1 3724 5 view .LVU2985
 8829 0152 80F81790 		strb	r9, [r0, #23]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8830              		.loc 1 3724 5 view .LVU2986
 8831 0156 019B     		ldr	r3, [sp, #4]
 8832 0158 0376     		strb	r3, [r0, #24]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 8833              		.loc 1 3724 5 view .LVU2987
 8834 015a 029B     		ldr	r3, [sp, #8]
 8835 015c 4376     		strb	r3, [r0, #25]
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8836              		.loc 1 3725 5 view .LVU2988
 8837 015e 3146     		mov	r1, r6
 8838 0160 FFF7FEFF 		bl	st_clust
 8839              	.LVL1004:
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
ARM GAS  /tmp/ccLzcuV9.s 			page 278


 8840              		.loc 1 3726 5 view .LVU2989
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8841              		.loc 1 3726 7 is_stmt 0 view .LVU2990
 8842 0164 8898     		ldr	r0, [sp, #544]
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8843              		.loc 1 3726 18 view .LVU2991
 8844 0166 0123     		movs	r3, #1
 8845 0168 80F80432 		strb	r3, [r0, #516]
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8846              		.loc 1 3727 5 is_stmt 1 view .LVU2992
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8847              		.loc 1 3727 11 is_stmt 0 view .LVU2993
 8848 016c FFF7FEFF 		bl	sync_fs
 8849              	.LVL1005:
 8850 0170 0546     		mov	r5, r0
 8851              	.LVL1006:
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8852              		.loc 1 3727 11 view .LVU2994
 8853 0172 54E7     		b	.L656
 8854              	.LVL1007:
 8855              	.L674:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8856              		.loc 1 3693 31 discriminator 1 view .LVU2995
 8857 0174 0125     		movs	r5, #1
 8858              	.LVL1008:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 8859              		.loc 1 3693 31 discriminator 1 view .LVU2996
 8860 0176 74E7     		b	.L659
 8861              	.LVL1009:
 8862              	.L665:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 8863              		.loc 1 3685 25 discriminator 1 view .LVU2997
 8864 0178 0825     		movs	r5, #8
 8865 017a 50E7     		b	.L656
 8866              		.cfi_endproc
 8867              	.LFE113:
 8869              		.section	.text.f_chmod,"ax",%progbits
 8870              		.align	1
 8871              		.global	f_chmod
 8872              		.syntax unified
 8873              		.thumb
 8874              		.thumb_func
 8876              	f_chmod:
 8877              	.LVL1010:
 8878              	.LFB114:
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8879              		.loc 1 3748 1 is_stmt 1 view -0
 8880              		.cfi_startproc
 8881              		@ args = 0, pretend = 0, frame = 568
 8882              		@ frame_needed = 0, uses_anonymous_args = 0
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8883              		.loc 1 3748 1 is_stmt 0 view .LVU2999
 8884 0000 30B5     		push	{r4, r5, lr}
 8885              	.LCFI94:
 8886              		.cfi_def_cfa_offset 12
 8887              		.cfi_offset 4, -12
 8888              		.cfi_offset 5, -8
ARM GAS  /tmp/ccLzcuV9.s 			page 279


 8889              		.cfi_offset 14, -4
 8890 0002 ADF50F7D 		sub	sp, sp, #572
 8891              	.LCFI95:
 8892              		.cfi_def_cfa_offset 584
 8893 0006 0190     		str	r0, [sp, #4]
 8894 0008 0D46     		mov	r5, r1
 8895 000a 1446     		mov	r4, r2
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8896              		.loc 1 3749 2 is_stmt 1 view .LVU3000
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8897              		.loc 1 3750 2 view .LVU3001
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8898              		.loc 1 3751 2 view .LVU3002
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8899              		.loc 1 3752 2 view .LVU3003
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8900              		.loc 1 3756 2 view .LVU3004
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8901              		.loc 1 3756 8 is_stmt 0 view .LVU3005
 8902 000c 0122     		movs	r2, #1
 8903              	.LVL1011:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8904              		.loc 1 3756 8 view .LVU3006
 8905 000e 01A9     		add	r1, sp, #4
 8906              	.LVL1012:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8907              		.loc 1 3756 8 view .LVU3007
 8908 0010 86A8     		add	r0, sp, #536
 8909              	.LVL1013:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8910              		.loc 1 3756 8 view .LVU3008
 8911 0012 FFF7FEFF 		bl	find_volume
 8912              	.LVL1014:
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8913              		.loc 1 3757 2 is_stmt 1 view .LVU3009
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8914              		.loc 1 3757 5 is_stmt 0 view .LVU3010
 8915 0016 10B1     		cbz	r0, .L681
 8916              	.LVL1015:
 8917              	.L678:
3776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8918              		.loc 1 3776 2 is_stmt 1 view .LVU3011
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8919              		.loc 1 3777 1 is_stmt 0 view .LVU3012
 8920 0018 0DF50F7D 		add	sp, sp, #572
 8921              	.LCFI96:
 8922              		.cfi_remember_state
 8923              		.cfi_def_cfa_offset 12
 8924              		@ sp needed
 8925 001c 30BD     		pop	{r4, r5, pc}
 8926              	.LVL1016:
 8927              	.L681:
 8928              	.LCFI97:
 8929              		.cfi_restore_state
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 8930              		.loc 1 3758 3 is_stmt 1 view .LVU3013
 8931 001e 03AB     		add	r3, sp, #12
ARM GAS  /tmp/ccLzcuV9.s 			page 280


 8932 0020 8C93     		str	r3, [sp, #560]
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 8933              		.loc 1 3759 3 view .LVU3014
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 8934              		.loc 1 3759 9 is_stmt 0 view .LVU3015
 8935 0022 0199     		ldr	r1, [sp, #4]
 8936 0024 06A8     		add	r0, sp, #24
 8937 0026 FFF7FEFF 		bl	follow_path
 8938              	.LVL1017:
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 8939              		.loc 1 3760 13 is_stmt 1 view .LVU3016
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 8940              		.loc 1 3761 3 view .LVU3017
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8941              		.loc 1 3763 3 view .LVU3018
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 8942              		.loc 1 3763 6 is_stmt 0 view .LVU3019
 8943 002a 0028     		cmp	r0, #0
 8944 002c F4D1     		bne	.L678
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 8945              		.loc 1 3764 4 is_stmt 1 view .LVU3020
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 8946              		.loc 1 3764 8 is_stmt 0 view .LVU3021
 8947 002e 8B98     		ldr	r0, [sp, #556]
 8948              	.LVL1018:
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8949              		.loc 1 3765 4 is_stmt 1 view .LVU3022
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8950              		.loc 1 3765 7 is_stmt 0 view .LVU3023
 8951 0030 70B1     		cbz	r0, .L679
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 8952              		.loc 1 3768 5 is_stmt 1 view .LVU3024
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 8953              		.loc 1 3768 10 is_stmt 0 view .LVU3025
 8954 0032 04F02702 		and	r2, r4, #39
 8955              	.LVL1019:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8956              		.loc 1 3769 5 is_stmt 1 view .LVU3026
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8957              		.loc 1 3769 41 is_stmt 0 view .LVU3027
 8958 0036 C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 8959              		.loc 1 3769 19 view .LVU3028
 8960 0038 83EA0501 		eor	r1, r3, r5
 8961 003c 1140     		ands	r1, r1, r2
 8962 003e 4B40     		eors	r3, r3, r1
 8963 0040 C372     		strb	r3, [r0, #11]
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8964              		.loc 1 3770 5 is_stmt 1 view .LVU3029
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8965              		.loc 1 3770 7 is_stmt 0 view .LVU3030
 8966 0042 8698     		ldr	r0, [sp, #536]
 8967              	.LVL1020:
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 8968              		.loc 1 3770 18 view .LVU3031
 8969 0044 0123     		movs	r3, #1
 8970 0046 80F80432 		strb	r3, [r0, #516]
ARM GAS  /tmp/ccLzcuV9.s 			page 281


3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8971              		.loc 1 3771 5 is_stmt 1 view .LVU3032
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8972              		.loc 1 3771 11 is_stmt 0 view .LVU3033
 8973 004a FFF7FEFF 		bl	sync_fs
 8974              	.LVL1021:
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8975              		.loc 1 3771 11 view .LVU3034
 8976 004e E3E7     		b	.L678
 8977              	.LVL1022:
 8978              	.L679:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 8979              		.loc 1 3766 9 view .LVU3035
 8980 0050 0620     		movs	r0, #6
 8981              	.LVL1023:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 8982              		.loc 1 3766 9 view .LVU3036
 8983 0052 E1E7     		b	.L678
 8984              		.cfi_endproc
 8985              	.LFE114:
 8987              		.section	.text.f_rename,"ax",%progbits
 8988              		.align	1
 8989              		.global	f_rename
 8990              		.syntax unified
 8991              		.thumb
 8992              		.thumb_func
 8994              	f_rename:
 8995              	.LVL1024:
 8996              	.LFB115:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8997              		.loc 1 3790 1 is_stmt 1 view -0
 8998              		.cfi_startproc
 8999              		@ args = 0, pretend = 0, frame = 1136
 9000              		@ frame_needed = 0, uses_anonymous_args = 0
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9001              		.loc 1 3790 1 is_stmt 0 view .LVU3038
 9002 0000 70B5     		push	{r4, r5, r6, lr}
 9003              	.LCFI98:
 9004              		.cfi_def_cfa_offset 16
 9005              		.cfi_offset 4, -16
 9006              		.cfi_offset 5, -12
 9007              		.cfi_offset 6, -8
 9008              		.cfi_offset 14, -4
 9009 0002 ADF58E6D 		sub	sp, sp, #1136
 9010              	.LCFI99:
 9011              		.cfi_def_cfa_offset 1152
 9012 0006 0190     		str	r0, [sp, #4]
 9013 0008 0091     		str	r1, [sp]
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 9014              		.loc 1 3791 2 is_stmt 1 view .LVU3039
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
 9015              		.loc 1 3792 2 view .LVU3040
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 9016              		.loc 1 3793 2 view .LVU3041
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9017              		.loc 1 3794 2 view .LVU3042
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 282


 9018              		.loc 1 3795 2 view .LVU3043
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9019              		.loc 1 3799 2 view .LVU3044
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9020              		.loc 1 3799 8 is_stmt 0 view .LVU3045
 9021 000a 0122     		movs	r2, #1
 9022 000c 01A9     		add	r1, sp, #4
 9023              	.LVL1025:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9024              		.loc 1 3799 8 view .LVU3046
 9025 000e 0DF58A60 		add	r0, sp, #1104
 9026              	.LVL1026:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9027              		.loc 1 3799 8 view .LVU3047
 9028 0012 FFF7FEFF 		bl	find_volume
 9029              	.LVL1027:
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9030              		.loc 1 3800 2 is_stmt 1 view .LVU3048
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9031              		.loc 1 3800 5 is_stmt 0 view .LVU3049
 9032 0016 0446     		mov	r4, r0
 9033 0018 18B1     		cbz	r0, .L691
 9034              	.LVL1028:
 9035              	.L683:
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9036              		.loc 1 3851 13 is_stmt 1 view .LVU3050
3854:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9037              		.loc 1 3854 2 view .LVU3051
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9038              		.loc 1 3855 1 is_stmt 0 view .LVU3052
 9039 001a 2046     		mov	r0, r4
 9040 001c 0DF58E6D 		add	sp, sp, #1136
 9041              	.LCFI100:
 9042              		.cfi_remember_state
 9043              		.cfi_def_cfa_offset 16
 9044              		@ sp needed
 9045 0020 70BD     		pop	{r4, r5, r6, pc}
 9046              	.LVL1029:
 9047              	.L691:
 9048              	.LCFI101:
 9049              		.cfi_restore_state
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9050              		.loc 1 3801 3 is_stmt 1 view .LVU3053
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9051              		.loc 1 3801 15 is_stmt 0 view .LVU3054
 9052 0022 DDF85034 		ldr	r3, [sp, #1104]
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9053              		.loc 1 3801 10 view .LVU3055
 9054 0026 8C93     		str	r3, [sp, #560]
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 9055              		.loc 1 3802 3 is_stmt 1 view .LVU3056
 9056 0028 03AB     		add	r3, sp, #12
 9057 002a CDF86834 		str	r3, [sp, #1128]
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9058              		.loc 1 3803 3 view .LVU3057
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9059              		.loc 1 3803 9 is_stmt 0 view .LVU3058
ARM GAS  /tmp/ccLzcuV9.s 			page 283


 9060 002e 0199     		ldr	r1, [sp, #4]
 9061 0030 94A8     		add	r0, sp, #592
 9062              	.LVL1030:
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9063              		.loc 1 3803 9 view .LVU3059
 9064 0032 FFF7FEFF 		bl	follow_path
 9065              	.LVL1031:
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9066              		.loc 1 3804 3 is_stmt 1 view .LVU3060
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9067              		.loc 1 3807 3 view .LVU3061
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9068              		.loc 1 3807 6 is_stmt 0 view .LVU3062
 9069 0036 0446     		mov	r4, r0
 9070 0038 0028     		cmp	r0, #0
 9071 003a EED1     		bne	.L683
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9072              		.loc 1 3807 21 is_stmt 1 discriminator 1 view .LVU3063
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9073              		.loc 1 3807 27 is_stmt 0 discriminator 1 view .LVU3064
 9074 003c 0221     		movs	r1, #2
 9075 003e 94A8     		add	r0, sp, #592
 9076              	.LVL1032:
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9077              		.loc 1 3807 27 discriminator 1 view .LVU3065
 9078 0040 FFF7FEFF 		bl	chk_lock
 9079              	.LVL1033:
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9080              		.loc 1 3809 3 is_stmt 1 view .LVU3066
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9081              		.loc 1 3809 6 is_stmt 0 view .LVU3067
 9082 0044 0446     		mov	r4, r0
 9083 0046 0028     		cmp	r0, #0
 9084 0048 E7D1     		bne	.L683
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9085              		.loc 1 3810 4 is_stmt 1 view .LVU3068
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9086              		.loc 1 3810 12 is_stmt 0 view .LVU3069
 9087 004a DDF86414 		ldr	r1, [sp, #1124]
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9088              		.loc 1 3810 7 view .LVU3070
 9089 004e 0029     		cmp	r1, #0
 9090 0050 6ED0     		beq	.L686
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9091              		.loc 1 3813 5 is_stmt 1 view .LVU3071
 9092 0052 1522     		movs	r2, #21
 9093 0054 0B31     		adds	r1, r1, #11
 9094 0056 06A8     		add	r0, sp, #24
 9095              	.LVL1034:
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9096              		.loc 1 3813 5 is_stmt 0 view .LVU3072
 9097 0058 FFF7FEFF 		bl	mem_cpy
 9098              	.LVL1035:
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
 9099              		.loc 1 3814 5 is_stmt 1 view .LVU3073
 9100 005c 4FF40872 		mov	r2, #544
 9101 0060 94A9     		add	r1, sp, #592
ARM GAS  /tmp/ccLzcuV9.s 			page 284


 9102 0062 0CA8     		add	r0, sp, #48
 9103 0064 FFF7FEFF 		bl	mem_cpy
 9104              	.LVL1036:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9105              		.loc 1 3815 5 view .LVU3074
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9106              		.loc 1 3815 9 is_stmt 0 view .LVU3075
 9107 0068 6846     		mov	r0, sp
 9108 006a FFF7FEFF 		bl	get_ldnumber
 9109              	.LVL1037:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9110              		.loc 1 3815 8 discriminator 1 view .LVU3076
 9111 006e 0028     		cmp	r0, #0
 9112 0070 2FDA     		bge	.L692
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
 9113              		.loc 1 3818 10 view .LVU3077
 9114 0072 0B24     		movs	r4, #11
 9115              	.LVL1038:
 9116              	.L684:
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9117              		.loc 1 3820 5 is_stmt 1 view .LVU3078
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9118              		.loc 1 3820 8 is_stmt 0 view .LVU3079
 9119 0074 042C     		cmp	r4, #4
 9120 0076 D0D1     		bne	.L683
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9121              		.loc 1 3821 6 is_stmt 1 view .LVU3080
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9122              		.loc 1 3821 12 is_stmt 0 view .LVU3081
 9123 0078 0CA8     		add	r0, sp, #48
 9124 007a FFF7FEFF 		bl	dir_register
 9125              	.LVL1039:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9126              		.loc 1 3822 6 is_stmt 1 view .LVU3082
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9127              		.loc 1 3822 9 is_stmt 0 view .LVU3083
 9128 007e 0446     		mov	r4, r0
 9129 0080 0028     		cmp	r0, #0
 9130 0082 CAD1     		bne	.L683
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9131              		.loc 1 3824 7 is_stmt 1 view .LVU3084
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9132              		.loc 1 3824 11 is_stmt 0 view .LVU3085
 9133 0084 919D     		ldr	r5, [sp, #580]
 9134              	.LVL1040:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9135              		.loc 1 3825 7 is_stmt 1 view .LVU3086
 9136 0086 1322     		movs	r2, #19
 9137 0088 0DF11A01 		add	r1, sp, #26
 9138 008c 05F10D00 		add	r0, r5, #13
 9139              	.LVL1041:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9140              		.loc 1 3825 7 is_stmt 0 view .LVU3087
 9141 0090 FFF7FEFF 		bl	mem_cpy
 9142              	.LVL1042:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9143              		.loc 1 3826 7 is_stmt 1 view .LVU3088
ARM GAS  /tmp/ccLzcuV9.s 			page 285


3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9144              		.loc 1 3826 26 is_stmt 0 view .LVU3089
 9145 0094 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9146              		.loc 1 3826 21 view .LVU3090
 9147 0098 43F02003 		orr	r3, r3, #32
 9148 009c EB72     		strb	r3, [r5, #11]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9149              		.loc 1 3827 7 is_stmt 1 view .LVU3091
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9150              		.loc 1 3827 10 is_stmt 0 view .LVU3092
 9151 009e DDF85064 		ldr	r6, [sp, #1104]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9152              		.loc 1 3827 21 view .LVU3093
 9153 00a2 0123     		movs	r3, #1
 9154 00a4 86F80432 		strb	r3, [r6, #516]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9155              		.loc 1 3828 7 is_stmt 1 view .LVU3094
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9156              		.loc 1 3828 15 is_stmt 0 view .LVU3095
 9157 00a8 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9158              		.loc 1 3828 10 view .LVU3096
 9159 00aa 13F0100F 		tst	r3, #16
 9160 00ae 28D0     		beq	.L685
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9161              		.loc 1 3828 56 discriminator 1 view .LVU3097
 9162 00b0 8E9B     		ldr	r3, [sp, #568]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9163              		.loc 1 3828 36 discriminator 1 view .LVU3098
 9164 00b2 DDF85824 		ldr	r2, [sp, #1112]
 9165 00b6 9A42     		cmp	r2, r3
 9166 00b8 23D0     		beq	.L685
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9167              		.loc 1 3829 8 is_stmt 1 view .LVU3099
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9168              		.loc 1 3829 13 is_stmt 0 view .LVU3100
 9169 00ba 2946     		mov	r1, r5
 9170 00bc 3046     		mov	r0, r6
 9171 00be FFF7FEFF 		bl	ld_clust
 9172              	.LVL1043:
 9173 00c2 0146     		mov	r1, r0
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9174              		.loc 1 3829 13 discriminator 1 view .LVU3101
 9175 00c4 3046     		mov	r0, r6
 9176 00c6 FFF7FEFF 		bl	clust2sect
 9177              	.LVL1044:
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9178              		.loc 1 3830 8 is_stmt 1 view .LVU3102
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9179              		.loc 1 3830 11 is_stmt 0 view .LVU3103
 9180 00ca 0146     		mov	r1, r0
 9181 00cc 50B9     		cbnz	r0, .L693
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 9182              		.loc 1 3831 13 view .LVU3104
 9183 00ce 0224     		movs	r4, #2
 9184              	.LVL1045:
ARM GAS  /tmp/ccLzcuV9.s 			page 286


3831:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 9185              		.loc 1 3831 13 view .LVU3105
 9186 00d0 A3E7     		b	.L683
 9187              	.LVL1046:
 9188              	.L692:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9189              		.loc 1 3816 6 is_stmt 1 view .LVU3106
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9190              		.loc 1 3816 12 is_stmt 0 view .LVU3107
 9191 00d2 0099     		ldr	r1, [sp]
 9192 00d4 0CA8     		add	r0, sp, #48
 9193 00d6 FFF7FEFF 		bl	follow_path
 9194              	.LVL1047:
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9195              		.loc 1 3819 5 is_stmt 1 view .LVU3108
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9196              		.loc 1 3819 8 is_stmt 0 view .LVU3109
 9197 00da 0446     		mov	r4, r0
 9198 00dc 0028     		cmp	r0, #0
 9199 00de C9D1     		bne	.L684
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9200              		.loc 1 3819 27 discriminator 1 view .LVU3110
 9201 00e0 0824     		movs	r4, #8
 9202 00e2 9AE7     		b	.L683
 9203              	.LVL1048:
 9204              	.L693:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9205              		.loc 1 3833 9 is_stmt 1 view .LVU3111
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9206              		.loc 1 3833 15 is_stmt 0 view .LVU3112
 9207 00e4 3046     		mov	r0, r6
 9208              	.LVL1049:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9209              		.loc 1 3833 15 view .LVU3113
 9210 00e6 FFF7FEFF 		bl	move_window
 9211              	.LVL1050:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9212              		.loc 1 3833 15 view .LVU3114
 9213 00ea 0246     		mov	r2, r0
 9214              	.LVL1051:
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9215              		.loc 1 3834 9 is_stmt 1 view .LVU3115
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9216              		.loc 1 3834 18 is_stmt 0 view .LVU3116
 9217 00ec DDF85034 		ldr	r3, [sp, #1104]
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9218              		.loc 1 3834 13 view .LVU3117
 9219 00f0 03F12000 		add	r0, r3, #32
 9220              	.LVL1052:
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9221              		.loc 1 3835 9 is_stmt 1 view .LVU3118
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9222              		.loc 1 3835 12 is_stmt 0 view .LVU3119
 9223 00f4 1446     		mov	r4, r2
 9224 00f6 002A     		cmp	r2, #0
 9225 00f8 8FD1     		bne	.L683
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
ARM GAS  /tmp/ccLzcuV9.s 			page 287


 9226              		.loc 1 3835 32 discriminator 1 view .LVU3120
 9227 00fa 93F82130 		ldrb	r3, [r3, #33]	@ zero_extendqisi2
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9228              		.loc 1 3835 26 discriminator 1 view .LVU3121
 9229 00fe 2E2B     		cmp	r3, #46
 9230 0100 0DD0     		beq	.L694
 9231              	.LVL1053:
 9232              	.L685:
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9233              		.loc 1 3841 7 is_stmt 1 view .LVU3122
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9234              		.loc 1 3841 10 is_stmt 0 view .LVU3123
 9235 0102 002C     		cmp	r4, #0
 9236 0104 89D1     		bne	.L683
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9237              		.loc 1 3842 8 is_stmt 1 view .LVU3124
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9238              		.loc 1 3842 14 is_stmt 0 view .LVU3125
 9239 0106 94A8     		add	r0, sp, #592
 9240 0108 FFF7FEFF 		bl	dir_remove
 9241              	.LVL1054:
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 9242              		.loc 1 3843 8 is_stmt 1 view .LVU3126
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 9243              		.loc 1 3843 11 is_stmt 0 view .LVU3127
 9244 010c 0446     		mov	r4, r0
 9245 010e 0028     		cmp	r0, #0
 9246 0110 83D1     		bne	.L683
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9247              		.loc 1 3844 9 is_stmt 1 view .LVU3128
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9248              		.loc 1 3844 15 is_stmt 0 view .LVU3129
 9249 0112 DDF85004 		ldr	r0, [sp, #1104]
 9250              	.LVL1055:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9251              		.loc 1 3844 15 view .LVU3130
 9252 0116 FFF7FEFF 		bl	sync_fs
 9253              	.LVL1056:
 9254 011a 0446     		mov	r4, r0
 9255              	.LVL1057:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9256              		.loc 1 3844 15 view .LVU3131
 9257 011c 7DE7     		b	.L683
 9258              	.LVL1058:
 9259              	.L694:
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
 9260              		.loc 1 3836 10 is_stmt 1 view .LVU3132
 9261 011e 8E99     		ldr	r1, [sp, #568]
 9262 0120 FFF7FEFF 		bl	st_clust
 9263              	.LVL1059:
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 9264              		.loc 1 3837 10 view .LVU3133
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 9265              		.loc 1 3837 24 is_stmt 0 view .LVU3134
 9266 0124 DDF85034 		ldr	r3, [sp, #1104]
 9267 0128 0122     		movs	r2, #1
 9268 012a 83F80422 		strb	r2, [r3, #516]
ARM GAS  /tmp/ccLzcuV9.s 			page 288


 9269 012e E8E7     		b	.L685
 9270              	.LVL1060:
 9271              	.L686:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9272              		.loc 1 3811 9 view .LVU3135
 9273 0130 0424     		movs	r4, #4
 9274 0132 72E7     		b	.L683
 9275              		.cfi_endproc
 9276              	.LFE115:
 9278              		.section	.text.f_utime,"ax",%progbits
 9279              		.align	1
 9280              		.global	f_utime
 9281              		.syntax unified
 9282              		.thumb
 9283              		.thumb_func
 9285              	f_utime:
 9286              	.LVL1061:
 9287              	.LFB116:
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9288              		.loc 1 3868 1 is_stmt 1 view -0
 9289              		.cfi_startproc
 9290              		@ args = 0, pretend = 0, frame = 568
 9291              		@ frame_needed = 0, uses_anonymous_args = 0
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9292              		.loc 1 3868 1 is_stmt 0 view .LVU3137
 9293 0000 10B5     		push	{r4, lr}
 9294              	.LCFI102:
 9295              		.cfi_def_cfa_offset 8
 9296              		.cfi_offset 4, -8
 9297              		.cfi_offset 14, -4
 9298 0002 ADF50E7D 		sub	sp, sp, #568
 9299              	.LCFI103:
 9300              		.cfi_def_cfa_offset 576
 9301 0006 0190     		str	r0, [sp, #4]
 9302 0008 0C46     		mov	r4, r1
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9303              		.loc 1 3869 2 is_stmt 1 view .LVU3138
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9304              		.loc 1 3870 2 view .LVU3139
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9305              		.loc 1 3871 2 view .LVU3140
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9306              		.loc 1 3872 2 view .LVU3141
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9307              		.loc 1 3876 2 view .LVU3142
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9308              		.loc 1 3876 8 is_stmt 0 view .LVU3143
 9309 000a 0122     		movs	r2, #1
 9310 000c 01A9     		add	r1, sp, #4
 9311              	.LVL1062:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9312              		.loc 1 3876 8 view .LVU3144
 9313 000e 86A8     		add	r0, sp, #536
 9314              	.LVL1063:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9315              		.loc 1 3876 8 view .LVU3145
 9316 0010 FFF7FEFF 		bl	find_volume
ARM GAS  /tmp/ccLzcuV9.s 			page 289


 9317              	.LVL1064:
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9318              		.loc 1 3877 2 is_stmt 1 view .LVU3146
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9319              		.loc 1 3877 5 is_stmt 0 view .LVU3147
 9320 0014 10B1     		cbz	r0, .L699
 9321              	.L696:
 9322              	.LVL1065:
3896:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9323              		.loc 1 3896 2 is_stmt 1 view .LVU3148
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9324              		.loc 1 3897 1 is_stmt 0 view .LVU3149
 9325 0016 0DF50E7D 		add	sp, sp, #568
 9326              	.LCFI104:
 9327              		.cfi_remember_state
 9328              		.cfi_def_cfa_offset 8
 9329              		@ sp needed
 9330 001a 10BD     		pop	{r4, pc}
 9331              	.LVL1066:
 9332              	.L699:
 9333              	.LCFI105:
 9334              		.cfi_restore_state
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 9335              		.loc 1 3878 3 is_stmt 1 view .LVU3150
 9336 001c 03AB     		add	r3, sp, #12
 9337 001e 8C93     		str	r3, [sp, #560]
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9338              		.loc 1 3879 3 view .LVU3151
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9339              		.loc 1 3879 9 is_stmt 0 view .LVU3152
 9340 0020 0199     		ldr	r1, [sp, #4]
 9341 0022 06A8     		add	r0, sp, #24
 9342 0024 FFF7FEFF 		bl	follow_path
 9343              	.LVL1067:
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9344              		.loc 1 3880 13 is_stmt 1 view .LVU3153
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9345              		.loc 1 3881 3 view .LVU3154
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9346              		.loc 1 3883 3 view .LVU3155
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9347              		.loc 1 3883 6 is_stmt 0 view .LVU3156
 9348 0028 0028     		cmp	r0, #0
 9349 002a F4D1     		bne	.L696
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 9350              		.loc 1 3884 4 is_stmt 1 view .LVU3157
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 9351              		.loc 1 3884 8 is_stmt 0 view .LVU3158
 9352 002c 8B9B     		ldr	r3, [sp, #556]
 9353              	.LVL1068:
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9354              		.loc 1 3885 4 is_stmt 1 view .LVU3159
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9355              		.loc 1 3885 7 is_stmt 0 view .LVU3160
 9356 002e 83B1     		cbz	r3, .L697
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 9357              		.loc 1 3888 5 is_stmt 1 view .LVU3161
ARM GAS  /tmp/ccLzcuV9.s 			page 290


 9358 0030 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 9359 0032 9A75     		strb	r2, [r3, #22]
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 9360              		.loc 1 3888 5 view .LVU3162
 9361 0034 E288     		ldrh	r2, [r4, #6]
 9362 0036 120A     		lsrs	r2, r2, #8
 9363 0038 DA75     		strb	r2, [r3, #23]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9364              		.loc 1 3889 5 view .LVU3163
 9365 003a 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 9366 003c 1A76     		strb	r2, [r3, #24]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9367              		.loc 1 3889 5 view .LVU3164
 9368 003e A288     		ldrh	r2, [r4, #4]
 9369 0040 120A     		lsrs	r2, r2, #8
 9370 0042 5A76     		strb	r2, [r3, #25]
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9371              		.loc 1 3890 5 view .LVU3165
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9372              		.loc 1 3890 7 is_stmt 0 view .LVU3166
 9373 0044 8698     		ldr	r0, [sp, #536]
 9374              	.LVL1069:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9375              		.loc 1 3890 18 view .LVU3167
 9376 0046 0123     		movs	r3, #1
 9377              	.LVL1070:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9378              		.loc 1 3890 18 view .LVU3168
 9379 0048 80F80432 		strb	r3, [r0, #516]
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9380              		.loc 1 3891 5 is_stmt 1 view .LVU3169
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9381              		.loc 1 3891 11 is_stmt 0 view .LVU3170
 9382 004c FFF7FEFF 		bl	sync_fs
 9383              	.LVL1071:
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9384              		.loc 1 3891 11 view .LVU3171
 9385 0050 E1E7     		b	.L696
 9386              	.LVL1072:
 9387              	.L697:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 9388              		.loc 1 3886 9 view .LVU3172
 9389 0052 0620     		movs	r0, #6
 9390              	.LVL1073:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 9391              		.loc 1 3886 9 view .LVU3173
 9392 0054 DFE7     		b	.L696
 9393              		.cfi_endproc
 9394              	.LFE116:
 9396              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 9397              		.align	2
 9398              	.LC1:
 9399 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 9399      53444F53 
 9399      352E3000 
 9400              		.align	2
 9401              	.LC2:
ARM GAS  /tmp/ccLzcuV9.s 			page 291


 9402 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 9402      414D4520 
 9402      20202046 
 9402      41543332 
 9402      20202000 
 9403              		.align	2
 9404              	.LC3:
 9405 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 9405      414D4520 
 9405      20202046 
 9405      41542020 
 9405      20202000 
 9406              		.section	.text.f_mkfs,"ax",%progbits
 9407              		.align	1
 9408              		.global	f_mkfs
 9409              		.syntax unified
 9410              		.thumb
 9411              		.thumb_func
 9413              	f_mkfs:
 9414              	.LVL1074:
 9415              	.LFB117:
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 9416              		.loc 1 4143 1 is_stmt 1 view -0
 9417              		.cfi_startproc
 9418              		@ args = 0, pretend = 0, frame = 32
 9419              		@ frame_needed = 0, uses_anonymous_args = 0
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 9420              		.loc 1 4143 1 is_stmt 0 view .LVU3175
 9421 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9422              	.LCFI106:
 9423              		.cfi_def_cfa_offset 36
 9424              		.cfi_offset 4, -36
 9425              		.cfi_offset 5, -32
 9426              		.cfi_offset 6, -28
 9427              		.cfi_offset 7, -24
 9428              		.cfi_offset 8, -20
 9429              		.cfi_offset 9, -16
 9430              		.cfi_offset 10, -12
 9431              		.cfi_offset 11, -8
 9432              		.cfi_offset 14, -4
 9433 0004 89B0     		sub	sp, sp, #36
 9434              	.LCFI107:
 9435              		.cfi_def_cfa_offset 72
 9436 0006 0590     		str	r0, [sp, #20]
 9437 0008 0092     		str	r2, [sp]
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
 9438              		.loc 1 4144 2 is_stmt 1 view .LVU3176
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 9439              		.loc 1 4145 2 view .LVU3177
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
 9440              		.loc 1 4146 2 view .LVU3178
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
 9441              		.loc 1 4147 2 view .LVU3179
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 9442              		.loc 1 4148 2 view .LVU3180
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
 9443              		.loc 1 4149 2 view .LVU3181
ARM GAS  /tmp/ccLzcuV9.s 			page 292


4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
 9444              		.loc 1 4150 2 view .LVU3182
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9445              		.loc 1 4151 2 view .LVU3183
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 9446              		.loc 1 4152 2 view .LVU3184
4153:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 9447              		.loc 1 4153 2 view .LVU3185
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 9448              		.loc 1 4160 2 view .LVU3186
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 9449              		.loc 1 4160 5 is_stmt 0 view .LVU3187
 9450 000a 0129     		cmp	r1, #1
 9451 000c 00F2D682 		bhi	.L739
 9452 0010 0D46     		mov	r5, r1
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9453              		.loc 1 4161 2 is_stmt 1 view .LVU3188
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9454              		.loc 1 4161 8 is_stmt 0 view .LVU3189
 9455 0012 05A8     		add	r0, sp, #20
 9456              	.LVL1075:
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 9457              		.loc 1 4161 8 view .LVU3190
 9458 0014 FFF7FEFF 		bl	get_ldnumber
 9459              	.LVL1076:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9460              		.loc 1 4162 2 is_stmt 1 view .LVU3191
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9461              		.loc 1 4162 5 is_stmt 0 view .LVU3192
 9462 0018 0028     		cmp	r0, #0
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 9463              		.loc 1 4162 5 view .LVU3193
 9464 001a C0F2D382 		blt	.L740
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 9465              		.loc 1 4163 2 is_stmt 1 view .LVU3194
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 9466              		.loc 1 4163 5 is_stmt 0 view .LVU3195
 9467 001e 984B     		ldr	r3, .L780
 9468 0020 53F82060 		ldr	r6, [r3, r0, lsl #2]
 9469              	.LVL1077:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 9470              		.loc 1 4164 2 is_stmt 1 view .LVU3196
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 9471              		.loc 1 4164 5 is_stmt 0 view .LVU3197
 9472 0024 002E     		cmp	r6, #0
 9473 0026 00F0CF82 		beq	.L741
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9474              		.loc 1 4165 2 is_stmt 1 view .LVU3198
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 9475              		.loc 1 4165 14 is_stmt 0 view .LVU3199
 9476 002a 0023     		movs	r3, #0
 9477 002c 86F80032 		strb	r3, [r6, #512]
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 9478              		.loc 1 4166 2 is_stmt 1 view .LVU3200
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 9479              		.loc 1 4166 7 is_stmt 0 view .LVU3201
 9480 0030 C4B2     		uxtb	r4, r0
ARM GAS  /tmp/ccLzcuV9.s 			page 293


 9481              	.LVL1078:
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9482              		.loc 1 4167 2 is_stmt 1 view .LVU3202
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9483              		.loc 1 4170 2 view .LVU3203
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9484              		.loc 1 4170 9 is_stmt 0 view .LVU3204
 9485 0032 2046     		mov	r0, r4
 9486              	.LVL1079:
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 9487              		.loc 1 4170 9 view .LVU3205
 9488 0034 FFF7FEFF 		bl	disk_initialize
 9489              	.LVL1080:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9490              		.loc 1 4171 2 is_stmt 1 view .LVU3206
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 9491              		.loc 1 4171 5 is_stmt 0 view .LVU3207
 9492 0038 10F0010F 		tst	r0, #1
 9493 003c 40F0C682 		bne	.L742
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 9494              		.loc 1 4172 2 is_stmt 1 view .LVU3208
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 9495              		.loc 1 4172 5 is_stmt 0 view .LVU3209
 9496 0040 10F0040F 		tst	r0, #4
 9497 0044 40F0C482 		bne	.L743
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 9498              		.loc 1 4177 2 is_stmt 1 view .LVU3210
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9499              		.loc 1 4187 3 view .LVU3211
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9500              		.loc 1 4187 7 is_stmt 0 view .LVU3212
 9501 0048 06AA     		add	r2, sp, #24
 9502 004a 0121     		movs	r1, #1
 9503 004c 2046     		mov	r0, r4
 9504              	.LVL1081:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9505              		.loc 1 4187 7 view .LVU3213
 9506 004e FFF7FEFF 		bl	disk_ioctl
 9507              	.LVL1082:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9508              		.loc 1 4187 6 discriminator 1 view .LVU3214
 9509 0052 0028     		cmp	r0, #0
 9510 0054 40F0BE82 		bne	.L744
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9511              		.loc 1 4187 69 discriminator 1 view .LVU3215
 9512 0058 0698     		ldr	r0, [sp, #24]
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 9513              		.loc 1 4187 60 discriminator 1 view .LVU3216
 9514 005a 7F28     		cmp	r0, #127
 9515 005c 40F2BC82 		bls	.L745
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9516              		.loc 1 4189 3 is_stmt 1 view .LVU3217
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9517              		.loc 1 4189 21 is_stmt 0 view .LVU3218
 9518 0060 ADB1     		cbz	r5, .L746
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9519              		.loc 1 4189 21 discriminator 1 view .LVU3219
ARM GAS  /tmp/ccLzcuV9.s 			page 294


 9520 0062 4FF0000B 		mov	fp, #0
 9521              	.L702:
 9522              	.LVL1083:
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9523              		.loc 1 4190 3 is_stmt 1 view .LVU3220
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9524              		.loc 1 4190 9 is_stmt 0 view .LVU3221
 9525 0066 A0EB0B00 		sub	r0, r0, fp
 9526 006a 0690     		str	r0, [sp, #24]
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9527              		.loc 1 4193 2 is_stmt 1 view .LVU3222
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9528              		.loc 1 4193 15 is_stmt 0 view .LVU3223
 9529 006c 009A     		ldr	r2, [sp]
 9530 006e 531E     		subs	r3, r2, #1
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 9531              		.loc 1 4193 5 view .LVU3224
 9532 0070 1A42     		tst	r2, r3
 9533 0072 00D1     		bne	.L703
 9534              	.LVL1084:
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 9535              		.loc 1 4194 2 is_stmt 1 view .LVU3225
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 9536              		.loc 1 4194 5 is_stmt 0 view .LVU3226
 9537 0074 92B9     		cbnz	r2, .L704
 9538              	.LVL1085:
 9539              	.L703:
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9540              		.loc 1 4195 3 is_stmt 1 view .LVU3227
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 9541              		.loc 1 4195 6 is_stmt 0 view .LVU3228
 9542 0076 8349     		ldr	r1, .L780+4
 9543 0078 A1FB0031 		umull	r3, r1, r1, r0
 9544 007c C909     		lsrs	r1, r1, #7
 9545              	.LVL1086:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9546              		.loc 1 4196 3 is_stmt 1 view .LVU3229
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9547              		.loc 1 4196 10 is_stmt 0 view .LVU3230
 9548 007e 0023     		movs	r3, #0
 9549              	.LVL1087:
 9550              	.L705:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9551              		.loc 1 4196 18 is_stmt 1 discriminator 1 view .LVU3231
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9552              		.loc 1 4196 23 is_stmt 0 discriminator 1 view .LVU3232
 9553 0080 814A     		ldr	r2, .L780+8
 9554 0082 32F81320 		ldrh	r2, [r2, r3, lsl #1]
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9555              		.loc 1 4196 18 discriminator 1 view .LVU3233
 9556 0086 8A42     		cmp	r2, r1
 9557 0088 04D9     		bls	.L766
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 9558              		.loc 1 4196 29 is_stmt 1 discriminator 3 view .LVU3234
 9559 008a 0133     		adds	r3, r3, #1
 9560              	.LVL1088:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
ARM GAS  /tmp/ccLzcuV9.s 			page 295


 9561              		.loc 1 4196 29 is_stmt 0 discriminator 3 view .LVU3235
 9562 008c F8E7     		b	.L705
 9563              	.LVL1089:
 9564              	.L746:
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 9565              		.loc 1 4189 21 discriminator 2 view .LVU3236
 9566 008e 4FF03F0B 		mov	fp, #63
 9567 0092 E8E7     		b	.L702
 9568              	.LVL1090:
 9569              	.L766:
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9570              		.loc 1 4197 3 is_stmt 1 view .LVU3237
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9571              		.loc 1 4197 11 is_stmt 0 view .LVU3238
 9572 0094 7D4A     		ldr	r2, .L780+12
 9573 0096 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 9574              	.LVL1091:
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9575              		.loc 1 4197 11 view .LVU3239
 9576 009a 0093     		str	r3, [sp]
 9577              	.LVL1092:
 9578              	.L704:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9579              		.loc 1 4199 2 is_stmt 1 view .LVU3240
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9580              		.loc 1 4199 5 is_stmt 0 view .LVU3241
 9581 009c 009B     		ldr	r3, [sp]
 9582 009e B3F5007F 		cmp	r3, #512
 9583 00a2 1CD3     		bcc	.L707
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9584              		.loc 1 4199 21 is_stmt 1 discriminator 1 view .LVU3242
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 9585              		.loc 1 4199 24 is_stmt 0 discriminator 1 view .LVU3243
 9586 00a4 5B0A     		lsrs	r3, r3, #9
 9587 00a6 0093     		str	r3, [sp]
 9588              	.LVL1093:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9589              		.loc 1 4200 2 is_stmt 1 view .LVU3244
 9590              	.L708:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9591              		.loc 1 4201 2 view .LVU3245
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9592              		.loc 1 4201 5 is_stmt 0 view .LVU3246
 9593 00a8 009B     		ldr	r3, [sp]
 9594 00aa 802B     		cmp	r3, #128
 9595 00ac 1DD8     		bhi	.L748
 9596              	.LVL1094:
 9597              	.L709:
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 9598              		.loc 1 4204 2 is_stmt 1 view .LVU3247
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 9599              		.loc 1 4204 9 is_stmt 0 view .LVU3248
 9600 00ae 009B     		ldr	r3, [sp]
 9601 00b0 B0FBF3F3 		udiv	r3, r0, r3
 9602              	.LVL1095:
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 9603              		.loc 1 4205 2 is_stmt 1 view .LVU3249
ARM GAS  /tmp/ccLzcuV9.s 			page 296


4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9604              		.loc 1 4206 2 view .LVU3250
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9605              		.loc 1 4206 5 is_stmt 0 view .LVU3251
 9606 00b4 40F6F572 		movw	r2, #4085
 9607 00b8 9342     		cmp	r3, r2
 9608 00ba 19D9     		bls	.L749
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 9609              		.loc 1 4206 27 is_stmt 1 discriminator 1 view .LVU3252
 9610              	.LVL1096:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9611              		.loc 1 4207 2 view .LVU3253
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9612              		.loc 1 4207 5 is_stmt 0 view .LVU3254
 9613 00bc 4FF6F572 		movw	r2, #65525
 9614 00c0 9342     		cmp	r3, r2
 9615 00c2 40F2B480 		bls	.L750
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9616              		.loc 1 4207 27 is_stmt 1 discriminator 1 view .LVU3255
 9617              	.LVL1097:
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 9618              		.loc 1 4210 2 view .LVU3256
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9619              		.loc 1 4211 3 view .LVU3257
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9620              		.loc 1 4211 38 is_stmt 0 view .LVU3258
 9621 00c6 4FEA8308 		lsl	r8, r3, #2
 9622 00ca 08F20728 		addw	r8, r8, #519
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 9623              		.loc 1 4211 9 view .LVU3259
 9624 00ce 4FEA5828 		lsr	r8, r8, #9
 9625              	.LVL1098:
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 9626              		.loc 1 4212 3 is_stmt 1 view .LVU3260
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9627              		.loc 1 4213 3 view .LVU3261
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9628              		.loc 1 4207 31 is_stmt 0 discriminator 1 view .LVU3262
 9629 00d2 4FF00309 		mov	r9, #3
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9630              		.loc 1 4213 9 view .LVU3263
 9631 00d6 0023     		movs	r3, #0
 9632              	.LVL1099:
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9633              		.loc 1 4213 9 view .LVU3264
 9634 00d8 0193     		str	r3, [sp, #4]
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 9635              		.loc 1 4212 9 view .LVU3265
 9636 00da 2027     		movs	r7, #32
 9637 00dc 19E0     		b	.L711
 9638              	.LVL1100:
 9639              	.L707:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9640              		.loc 1 4200 2 is_stmt 1 view .LVU3266
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9641              		.loc 1 4200 5 is_stmt 0 view .LVU3267
 9642 00de 009B     		ldr	r3, [sp]
ARM GAS  /tmp/ccLzcuV9.s 			page 297


 9643 00e0 002B     		cmp	r3, #0
 9644 00e2 E1D1     		bne	.L708
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9645              		.loc 1 4200 14 discriminator 1 view .LVU3268
 9646 00e4 0123     		movs	r3, #1
 9647 00e6 0093     		str	r3, [sp]
 9648              	.LVL1101:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 9649              		.loc 1 4200 14 discriminator 1 view .LVU3269
 9650 00e8 E1E7     		b	.L709
 9651              	.LVL1102:
 9652              	.L748:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9653              		.loc 1 4201 19 discriminator 1 view .LVU3270
 9654 00ea 8023     		movs	r3, #128
 9655              	.LVL1103:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9656              		.loc 1 4201 19 discriminator 1 view .LVU3271
 9657 00ec 0093     		str	r3, [sp]
 9658              	.LVL1104:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9659              		.loc 1 4201 19 discriminator 1 view .LVU3272
 9660 00ee DEE7     		b	.L709
 9661              	.LVL1105:
 9662              	.L749:
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 9663              		.loc 1 4205 6 view .LVU3273
 9664 00f0 4FF00109 		mov	r9, #1
 9665              	.LVL1106:
 9666              	.L710:
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 9667              		.loc 1 4210 2 is_stmt 1 view .LVU3274
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9668              		.loc 1 4215 3 view .LVU3275
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9669              		.loc 1 4215 56 is_stmt 0 view .LVU3276
 9670 00f4 B9F1010F 		cmp	r9, #1
 9671 00f8 00F09C80 		beq	.L767
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9672              		.loc 1 4215 71 discriminator 2 view .LVU3277
 9673 00fc 03F10208 		add	r8, r3, #2
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9674              		.loc 1 4215 56 discriminator 2 view .LVU3278
 9675 0100 4FEA4808 		lsl	r8, r8, #1
 9676              	.L713:
 9677              	.LVL1107:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9678              		.loc 1 4216 3 is_stmt 1 view .LVU3279
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9679              		.loc 1 4216 27 is_stmt 0 view .LVU3280
 9680 0104 08F2FF18 		addw	r8, r8, #511
 9681              	.LVL1108:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 9682              		.loc 1 4216 9 view .LVU3281
 9683 0108 4FEA5828 		lsr	r8, r8, #9
 9684              	.LVL1109:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
ARM GAS  /tmp/ccLzcuV9.s 			page 298


 9685              		.loc 1 4217 3 is_stmt 1 view .LVU3282
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9686              		.loc 1 4218 3 view .LVU3283
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9687              		.loc 1 4218 9 is_stmt 0 view .LVU3284
 9688 010c 2023     		movs	r3, #32
 9689              	.LVL1110:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9690              		.loc 1 4218 9 view .LVU3285
 9691 010e 0193     		str	r3, [sp, #4]
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 9692              		.loc 1 4217 9 view .LVU3286
 9693 0110 0127     		movs	r7, #1
 9694              	.LVL1111:
 9695              	.L711:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 9696              		.loc 1 4220 2 is_stmt 1 view .LVU3287
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 9697              		.loc 1 4220 8 is_stmt 0 view .LVU3288
 9698 0112 07EB0B03 		add	r3, r7, fp
 9699 0116 0293     		str	r3, [sp, #8]
 9700              	.LVL1112:
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 9701              		.loc 1 4221 2 is_stmt 1 view .LVU3289
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 9702              		.loc 1 4221 8 is_stmt 0 view .LVU3290
 9703 0118 08EB030A 		add	r10, r8, r3
 9704              	.LVL1113:
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9705              		.loc 1 4222 2 is_stmt 1 view .LVU3291
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9706              		.loc 1 4222 9 is_stmt 0 view .LVU3292
 9707 011c 019B     		ldr	r3, [sp, #4]
 9708              	.LVL1114:
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 9709              		.loc 1 4222 9 view .LVU3293
 9710 011e 9A44     		add	r10, r10, r3
 9711              	.LVL1115:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9712              		.loc 1 4223 2 is_stmt 1 view .LVU3294
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9713              		.loc 1 4223 21 is_stmt 0 view .LVU3295
 9714 0120 009B     		ldr	r3, [sp]
 9715 0122 5344     		add	r3, r3, r10
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9716              		.loc 1 4223 26 view .LVU3296
 9717 0124 A3EB0B03 		sub	r3, r3, fp
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9718              		.loc 1 4223 5 view .LVU3297
 9719 0128 9842     		cmp	r0, r3
 9720 012a C0F05782 		bcc	.L751
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9721              		.loc 1 4226 2 is_stmt 1 view .LVU3298
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9722              		.loc 1 4226 6 is_stmt 0 view .LVU3299
 9723 012e 07AA     		add	r2, sp, #28
 9724 0130 0321     		movs	r1, #3
ARM GAS  /tmp/ccLzcuV9.s 			page 299


 9725 0132 2046     		mov	r0, r4
 9726              	.LVL1116:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9727              		.loc 1 4226 6 view .LVU3300
 9728 0134 FFF7FEFF 		bl	disk_ioctl
 9729              	.LVL1117:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9730              		.loc 1 4226 5 discriminator 1 view .LVU3301
 9731 0138 20B9     		cbnz	r0, .L714
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9732              		.loc 1 4226 56 discriminator 2 view .LVU3302
 9733 013a 079B     		ldr	r3, [sp, #28]
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9734              		.loc 1 4226 53 discriminator 2 view .LVU3303
 9735 013c 13B1     		cbz	r3, .L714
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9736              		.loc 1 4226 59 discriminator 4 view .LVU3304
 9737 013e B3F5004F 		cmp	r3, #32768
 9738 0142 01D9     		bls	.L715
 9739              	.L714:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9740              		.loc 1 4226 73 is_stmt 1 discriminator 5 view .LVU3305
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 9741              		.loc 1 4226 75 is_stmt 0 discriminator 5 view .LVU3306
 9742 0144 0123     		movs	r3, #1
 9743 0146 0793     		str	r3, [sp, #28]
 9744              	.L715:
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9745              		.loc 1 4227 2 is_stmt 1 view .LVU3307
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9746              		.loc 1 4227 14 is_stmt 0 view .LVU3308
 9747 0148 079A     		ldr	r2, [sp, #28]
 9748 014a 02EB0A03 		add	r3, r2, r10
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9749              		.loc 1 4227 18 view .LVU3309
 9750 014e 013B     		subs	r3, r3, #1
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9751              		.loc 1 4227 25 view .LVU3310
 9752 0150 5242     		rsbs	r2, r2, #0
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9753              		.loc 1 4227 23 view .LVU3311
 9754 0152 1340     		ands	r3, r3, r2
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 9755              		.loc 1 4227 4 view .LVU3312
 9756 0154 0793     		str	r3, [sp, #28]
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9757              		.loc 1 4228 2 is_stmt 1 view .LVU3313
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9758              		.loc 1 4228 9 is_stmt 0 view .LVU3314
 9759 0156 A3EB0A03 		sub	r3, r3, r10
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 9760              		.loc 1 4228 4 view .LVU3315
 9761 015a 0793     		str	r3, [sp, #28]
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 9762              		.loc 1 4229 2 is_stmt 1 view .LVU3316
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 9763              		.loc 1 4229 5 is_stmt 0 view .LVU3317
ARM GAS  /tmp/ccLzcuV9.s 			page 300


 9764 015c B9F1030F 		cmp	r9, #3
 9765 0160 71D0     		beq	.L768
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9766              		.loc 1 4233 3 is_stmt 1 view .LVU3318
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9767              		.loc 1 4233 9 is_stmt 0 view .LVU3319
 9768 0162 9844     		add	r8, r8, r3
 9769              	.LVL1118:
 9770              	.L717:
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9771              		.loc 1 4237 2 is_stmt 1 view .LVU3320
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9772              		.loc 1 4237 18 is_stmt 0 view .LVU3321
 9773 0164 069A     		ldr	r2, [sp, #24]
 9774 0166 D31B     		subs	r3, r2, r7
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9775              		.loc 1 4237 26 view .LVU3322
 9776 0168 A3EB0803 		sub	r3, r3, r8
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9777              		.loc 1 4237 43 view .LVU3323
 9778 016c 0199     		ldr	r1, [sp, #4]
 9779 016e 5B1A     		subs	r3, r3, r1
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 9780              		.loc 1 4237 9 view .LVU3324
 9781 0170 0099     		ldr	r1, [sp]
 9782 0172 B3FBF1F3 		udiv	r3, r3, r1
 9783 0176 0393     		str	r3, [sp, #12]
 9784              	.LVL1119:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9785              		.loc 1 4238 2 is_stmt 1 view .LVU3325
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9786              		.loc 1 4238 5 is_stmt 0 view .LVU3326
 9787 0178 B9F1020F 		cmp	r9, #2
 9788 017c 68D0     		beq	.L769
 9789              	.LVL1120:
 9790              	.L718:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 9791              		.loc 1 4239 3 view .LVU3327
 9792 017e B9F1030F 		cmp	r9, #3
 9793 0182 6CD0     		beq	.L770
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 9794              		.loc 1 4246 3 is_stmt 1 view .LVU3328
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 9795              		.loc 1 4246 6 is_stmt 0 view .LVU3329
 9796 0184 B9F1010F 		cmp	r9, #1
 9797 0188 72D0     		beq	.L771
 9798              	.L721:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9799              		.loc 1 4249 4 is_stmt 1 view .LVU3330
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9800              		.loc 1 4249 8 is_stmt 0 view .LVU3331
 9801 018a B2F5803F 		cmp	r2, #65536
 9802 018e 74D2     		bcs	.L755
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9803              		.loc 1 4249 8 discriminator 1 view .LVU3332
 9804 0190 4FF0040A 		mov	r10, #4
 9805              	.LVL1121:
ARM GAS  /tmp/ccLzcuV9.s 			page 301


 9806              	.L720:
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 9807              		.loc 1 4253 2 is_stmt 1 view .LVU3333
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 9808              		.loc 1 4261 3 view .LVU3334
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 9809              		.loc 1 4261 6 is_stmt 0 view .LVU3335
 9810 0194 002D     		cmp	r5, #0
 9811 0196 7DD1     		bne	.L756
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
 9812              		.loc 1 4264 4 is_stmt 1 view .LVU3336
 9813 0198 4FF40072 		mov	r2, #512
 9814 019c 0021     		movs	r1, #0
 9815 019e 3046     		mov	r0, r6
 9816 01a0 FFF7FEFF 		bl	mem_set
 9817              	.LVL1122:
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
 9818              		.loc 1 4265 4 view .LVU3337
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 9819              		.loc 1 4266 4 view .LVU3338
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 9820              		.loc 1 4266 11 is_stmt 0 view .LVU3339
 9821 01a4 0123     		movs	r3, #1
 9822 01a6 86F8BF31 		strb	r3, [r6, #447]
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 9823              		.loc 1 4267 4 is_stmt 1 view .LVU3340
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 9824              		.loc 1 4267 11 is_stmt 0 view .LVU3341
 9825 01aa 86F8C031 		strb	r3, [r6, #448]
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 9826              		.loc 1 4268 4 is_stmt 1 view .LVU3342
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 9827              		.loc 1 4268 11 is_stmt 0 view .LVU3343
 9828 01ae 0022     		movs	r2, #0
 9829 01b0 86F8C121 		strb	r2, [r6, #449]
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 9830              		.loc 1 4269 4 is_stmt 1 view .LVU3344
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 9831              		.loc 1 4269 11 is_stmt 0 view .LVU3345
 9832 01b4 86F8C2A1 		strb	r10, [r6, #450]
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 9833              		.loc 1 4270 4 is_stmt 1 view .LVU3346
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 9834              		.loc 1 4270 11 is_stmt 0 view .LVU3347
 9835 01b8 FE21     		movs	r1, #254
 9836 01ba 86F8C311 		strb	r1, [r6, #451]
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9837              		.loc 1 4271 4 is_stmt 1 view .LVU3348
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9838              		.loc 1 4271 15 is_stmt 0 view .LVU3349
 9839 01be 0698     		ldr	r0, [sp, #24]
 9840 01c0 0BEB0005 		add	r5, fp, r0
 9841              	.LVL1123:
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9842              		.loc 1 4271 29 view .LVU3350
 9843 01c4 3249     		ldr	r1, .L780+16
 9844 01c6 A1FB05C1 		umull	ip, r1, r1, r5
ARM GAS  /tmp/ccLzcuV9.s 			page 302


 9845 01ca 6D1A     		subs	r5, r5, r1
 9846 01cc 01EB5501 		add	r1, r1, r5, lsr #1
 9847 01d0 4D0B     		lsrs	r5, r1, #13
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 9848              		.loc 1 4271 6 view .LVU3351
 9849 01d2 0795     		str	r5, [sp, #28]
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9850              		.loc 1 4272 4 is_stmt 1 view .LVU3352
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9851              		.loc 1 4272 22 is_stmt 0 view .LVU3353
 9852 01d4 C90B     		lsrs	r1, r1, #15
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9853              		.loc 1 4272 13 view .LVU3354
 9854 01d6 41F03F01 		orr	r1, r1, #63
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 9855              		.loc 1 4272 11 view .LVU3355
 9856 01da 86F8C411 		strb	r1, [r6, #452]
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 9857              		.loc 1 4273 4 is_stmt 1 view .LVU3356
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 9858              		.loc 1 4273 11 is_stmt 0 view .LVU3357
 9859 01de 86F8C551 		strb	r5, [r6, #453]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9860              		.loc 1 4274 4 is_stmt 1 view .LVU3358
 9861 01e2 3F21     		movs	r1, #63
 9862 01e4 86F8C611 		strb	r1, [r6, #454]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9863              		.loc 1 4274 4 view .LVU3359
 9864 01e8 86F8C721 		strb	r2, [r6, #455]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9865              		.loc 1 4274 4 view .LVU3360
 9866 01ec 86F8C821 		strb	r2, [r6, #456]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 9867              		.loc 1 4274 4 view .LVU3361
 9868 01f0 86F8C921 		strb	r2, [r6, #457]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9869              		.loc 1 4275 4 view .LVU3362
 9870 01f4 86F8CA01 		strb	r0, [r6, #458]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9871              		.loc 1 4275 4 view .LVU3363
 9872 01f8 C0F30721 		ubfx	r1, r0, #8, #8
 9873 01fc 86F8CB11 		strb	r1, [r6, #459]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9874              		.loc 1 4275 4 view .LVU3364
 9875 0200 C0F30741 		ubfx	r1, r0, #16, #8
 9876 0204 86F8CC11 		strb	r1, [r6, #460]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 9877              		.loc 1 4275 4 view .LVU3365
 9878 0208 000E     		lsrs	r0, r0, #24
 9879 020a 86F8CD01 		strb	r0, [r6, #461]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 9880              		.loc 1 4276 4 view .LVU3366
 9881 020e 5521     		movs	r1, #85
 9882 0210 86F8FE11 		strb	r1, [r6, #510]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 9883              		.loc 1 4276 4 view .LVU3367
 9884 0214 AA21     		movs	r1, #170
ARM GAS  /tmp/ccLzcuV9.s 			page 303


 9885 0216 86F8FF11 		strb	r1, [r6, #511]
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 9886              		.loc 1 4277 4 view .LVU3368
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 9887              		.loc 1 4277 8 is_stmt 0 view .LVU3369
 9888 021a 3146     		mov	r1, r6
 9889 021c 2046     		mov	r0, r4
 9890 021e FFF7FEFF 		bl	disk_write
 9891              	.LVL1124:
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 9892              		.loc 1 4277 7 discriminator 1 view .LVU3370
 9893 0222 0028     		cmp	r0, #0
 9894 0224 40F0DE81 		bne	.L757
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9895              		.loc 1 4279 7 view .LVU3371
 9896 0228 4FF0F80A 		mov	r10, #248
 9897              	.LVL1125:
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9898              		.loc 1 4279 7 view .LVU3372
 9899 022c 34E0     		b	.L722
 9900              	.LVL1126:
 9901              	.L750:
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9902              		.loc 1 4279 7 view .LVU3373
 9903 022e 4FF00209 		mov	r9, #2
 9904 0232 5FE7     		b	.L710
 9905              	.LVL1127:
 9906              	.L767:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9907              		.loc 1 4215 39 discriminator 1 view .LVU3374
 9908 0234 03EB4308 		add	r8, r3, r3, lsl #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9909              		.loc 1 4215 43 discriminator 1 view .LVU3375
 9910 0238 08F10108 		add	r8, r8, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9911              		.loc 1 4215 48 discriminator 1 view .LVU3376
 9912 023c 4FEA5808 		lsr	r8, r8, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 9913              		.loc 1 4215 56 discriminator 1 view .LVU3377
 9914 0240 08F10308 		add	r8, r8, #3
 9915 0244 5EE7     		b	.L713
 9916              	.LVL1128:
 9917              	.L768:
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 9918              		.loc 1 4230 3 is_stmt 1 view .LVU3378
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 9919              		.loc 1 4230 9 is_stmt 0 view .LVU3379
 9920 0246 1F44     		add	r7, r7, r3
 9921              	.LVL1129:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 9922              		.loc 1 4231 3 is_stmt 1 view .LVU3380
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 9923              		.loc 1 4231 9 is_stmt 0 view .LVU3381
 9924 0248 029A     		ldr	r2, [sp, #8]
 9925 024a 1A44     		add	r2, r2, r3
 9926 024c 0292     		str	r2, [sp, #8]
 9927              	.LVL1130:
ARM GAS  /tmp/ccLzcuV9.s 			page 304


4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 9928              		.loc 1 4231 9 view .LVU3382
 9929 024e 89E7     		b	.L717
 9930              	.LVL1131:
 9931              	.L769:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9932              		.loc 1 4238 26 discriminator 1 view .LVU3383
 9933 0250 40F6F573 		movw	r3, #4085
 9934              	.LVL1132:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 9935              		.loc 1 4238 26 discriminator 1 view .LVU3384
 9936 0254 0399     		ldr	r1, [sp, #12]
 9937 0256 9942     		cmp	r1, r3
 9938 0258 91D8     		bhi	.L718
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9939              		.loc 1 4240 10 view .LVU3385
 9940 025a 0E20     		movs	r0, #14
 9941 025c AFE1     		b	.L701
 9942              	.L770:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 9943              		.loc 1 4239 23 discriminator 1 view .LVU3386
 9944 025e 4FF6F573 		movw	r3, #65525
 9945 0262 039A     		ldr	r2, [sp, #12]
 9946 0264 9A42     		cmp	r2, r3
 9947 0266 40F2BB81 		bls	.L753
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9948              		.loc 1 4244 7 view .LVU3387
 9949 026a 4FF00C0A 		mov	r10, #12
 9950              	.LVL1133:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 9951              		.loc 1 4244 7 view .LVU3388
 9952 026e 91E7     		b	.L720
 9953              	.LVL1134:
 9954              	.L771:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 9955              		.loc 1 4246 23 discriminator 1 view .LVU3389
 9956 0270 B2F5803F 		cmp	r2, #65536
 9957 0274 89D2     		bcs	.L721
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9958              		.loc 1 4247 8 view .LVU3390
 9959 0276 CA46     		mov	r10, r9
 9960              	.LVL1135:
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 9961              		.loc 1 4247 8 view .LVU3391
 9962 0278 8CE7     		b	.L720
 9963              	.LVL1136:
 9964              	.L755:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9965              		.loc 1 4249 8 discriminator 2 view .LVU3392
 9966 027a 4FF0060A 		mov	r10, #6
 9967              	.LVL1137:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9968              		.loc 1 4249 8 discriminator 2 view .LVU3393
 9969 027e 89E7     		b	.L720
 9970              	.L781:
 9971              		.align	2
 9972              	.L780:
ARM GAS  /tmp/ccLzcuV9.s 			page 305


 9973 0280 00000000 		.word	FatFs
 9974 0284 D34D6210 		.word	274877907
 9975 0288 00000000 		.word	vst.1
 9976 028c 00000000 		.word	cst.0
 9977 0290 5B561505 		.word	85284443
 9978              	.LVL1138:
 9979              	.L756:
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
 9980              		.loc 1 4262 7 view .LVU3394
 9981 0294 4FF0F00A 		mov	r10, #240
 9982              	.LVL1139:
 9983              	.L722:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
 9984              		.loc 1 4284 2 is_stmt 1 view .LVU3395
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 9985              		.loc 1 4285 2 view .LVU3396
 9986 0298 4FF40072 		mov	r2, #512
 9987 029c 0021     		movs	r1, #0
 9988 029e 3046     		mov	r0, r6
 9989 02a0 FFF7FEFF 		bl	mem_set
 9990              	.LVL1140:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
 9991              		.loc 1 4286 2 view .LVU3397
 9992 02a4 0B22     		movs	r2, #11
 9993 02a6 D449     		ldr	r1, .L782
 9994 02a8 3046     		mov	r0, r6
 9995 02aa FFF7FEFF 		bl	mem_cpy
 9996              	.LVL1141:
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 9997              		.loc 1 4287 2 view .LVU3398
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 9998              		.loc 1 4288 2 view .LVU3399
 9999 02ae 0023     		movs	r3, #0
 10000 02b0 F372     		strb	r3, [r6, #11]
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10001              		.loc 1 4288 2 view .LVU3400
 10002 02b2 0223     		movs	r3, #2
 10003 02b4 3373     		strb	r3, [r6, #12]
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10004              		.loc 1 4289 2 view .LVU3401
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10005              		.loc 1 4289 22 is_stmt 0 view .LVU3402
 10006 02b6 009B     		ldr	r3, [sp]
 10007 02b8 7373     		strb	r3, [r6, #13]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10008              		.loc 1 4290 2 is_stmt 1 view .LVU3403
 10009 02ba B773     		strb	r7, [r6, #14]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10010              		.loc 1 4290 2 view .LVU3404
 10011 02bc C7F30723 		ubfx	r3, r7, #8, #8
 10012 02c0 F373     		strb	r3, [r6, #15]
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10013              		.loc 1 4291 2 view .LVU3405
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10014              		.loc 1 4291 19 is_stmt 0 view .LVU3406
 10015 02c2 0123     		movs	r3, #1
 10016 02c4 3374     		strb	r3, [r6, #16]
ARM GAS  /tmp/ccLzcuV9.s 			page 306


4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10017              		.loc 1 4292 2 is_stmt 1 view .LVU3407
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10018              		.loc 1 4292 28 is_stmt 0 view .LVU3408
 10019 02c6 B9F1030F 		cmp	r9, #3
 10020 02ca 00F0A380 		beq	.L772
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10021              		.loc 1 4292 28 discriminator 2 view .LVU3409
 10022 02ce 4FF40073 		mov	r3, #512
 10023              	.L723:
 10024              	.LVL1142:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10025              		.loc 1 4293 2 is_stmt 1 view .LVU3410
 10026 02d2 DAB2     		uxtb	r2, r3
 10027 02d4 7274     		strb	r2, [r6, #17]
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10028              		.loc 1 4293 2 view .LVU3411
 10029 02d6 1B0A     		lsrs	r3, r3, #8
 10030              	.LVL1143:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10031              		.loc 1 4293 2 is_stmt 0 view .LVU3412
 10032 02d8 B374     		strb	r3, [r6, #18]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10033              		.loc 1 4294 2 is_stmt 1 view .LVU3413
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10034              		.loc 1 4294 12 is_stmt 0 view .LVU3414
 10035 02da 069B     		ldr	r3, [sp, #24]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10036              		.loc 1 4294 5 view .LVU3415
 10037 02dc B3F5803F 		cmp	r3, #65536
 10038 02e0 80F09A80 		bcs	.L724
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10039              		.loc 1 4295 3 is_stmt 1 view .LVU3416
 10040 02e4 F374     		strb	r3, [r6, #19]
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10041              		.loc 1 4295 3 view .LVU3417
 10042 02e6 C3F30723 		ubfx	r3, r3, #8, #8
 10043 02ea 3375     		strb	r3, [r6, #20]
 10044              	.L725:
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10045              		.loc 1 4299 2 view .LVU3418
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10046              		.loc 1 4299 17 is_stmt 0 view .LVU3419
 10047 02ec 86F815A0 		strb	r10, [r6, #21]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10048              		.loc 1 4300 2 is_stmt 1 view .LVU3420
 10049 02f0 3F23     		movs	r3, #63
 10050 02f2 3376     		strb	r3, [r6, #24]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10051              		.loc 1 4300 2 view .LVU3421
 10052 02f4 0023     		movs	r3, #0
 10053 02f6 7376     		strb	r3, [r6, #25]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10054              		.loc 1 4301 2 view .LVU3422
 10055 02f8 FF22     		movs	r2, #255
 10056 02fa B276     		strb	r2, [r6, #26]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
ARM GAS  /tmp/ccLzcuV9.s 			page 307


 10057              		.loc 1 4301 2 view .LVU3423
 10058 02fc F376     		strb	r3, [r6, #27]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10059              		.loc 1 4302 2 view .LVU3424
 10060 02fe 86F81CB0 		strb	fp, [r6, #28]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10061              		.loc 1 4302 2 view .LVU3425
 10062 0302 7377     		strb	r3, [r6, #29]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10063              		.loc 1 4302 2 view .LVU3426
 10064 0304 B377     		strb	r3, [r6, #30]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10065              		.loc 1 4302 2 view .LVU3427
 10066 0306 F377     		strb	r3, [r6, #31]
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10067              		.loc 1 4303 2 view .LVU3428
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10068              		.loc 1 4303 6 is_stmt 0 view .LVU3429
 10069 0308 FFF7FEFF 		bl	get_fattime
 10070              	.LVL1144:
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10071              		.loc 1 4303 4 discriminator 1 view .LVU3430
 10072 030c 0790     		str	r0, [sp, #28]
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10073              		.loc 1 4304 2 is_stmt 1 view .LVU3431
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10074              		.loc 1 4304 5 is_stmt 0 view .LVU3432
 10075 030e B9F1030F 		cmp	r9, #3
 10076 0312 00F08F80 		beq	.L773
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10077              		.loc 1 4314 3 is_stmt 1 view .LVU3433
 10078 0316 86F82700 		strb	r0, [r6, #39]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10079              		.loc 1 4314 3 view .LVU3434
 10080 031a C0F30723 		ubfx	r3, r0, #8, #8
 10081 031e 86F82830 		strb	r3, [r6, #40]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10082              		.loc 1 4314 3 view .LVU3435
 10083 0322 C0F30743 		ubfx	r3, r0, #16, #8
 10084 0326 86F82930 		strb	r3, [r6, #41]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10085              		.loc 1 4314 3 view .LVU3436
 10086 032a 000E     		lsrs	r0, r0, #24
 10087 032c 86F82A00 		strb	r0, [r6, #42]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10088              		.loc 1 4315 3 view .LVU3437
 10089 0330 86F81680 		strb	r8, [r6, #22]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10090              		.loc 1 4315 3 view .LVU3438
 10091 0334 C8F30723 		ubfx	r3, r8, #8, #8
 10092 0338 F375     		strb	r3, [r6, #23]
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10093              		.loc 1 4316 3 view .LVU3439
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10094              		.loc 1 4316 18 is_stmt 0 view .LVU3440
 10095 033a 8023     		movs	r3, #128
 10096 033c 86F82430 		strb	r3, [r6, #36]
ARM GAS  /tmp/ccLzcuV9.s 			page 308


4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10097              		.loc 1 4317 3 is_stmt 1 view .LVU3441
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10098              		.loc 1 4317 19 is_stmt 0 view .LVU3442
 10099 0340 2923     		movs	r3, #41
 10100 0342 86F82630 		strb	r3, [r6, #38]
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10101              		.loc 1 4318 3 is_stmt 1 view .LVU3443
 10102 0346 1322     		movs	r2, #19
 10103 0348 AC49     		ldr	r1, .L782+4
 10104 034a 06F12B00 		add	r0, r6, #43
 10105 034e FFF7FEFF 		bl	mem_cpy
 10106              	.LVL1145:
 10107              	.L727:
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10108              		.loc 1 4320 2 view .LVU3444
 10109 0352 5523     		movs	r3, #85
 10110 0354 86F8FE31 		strb	r3, [r6, #510]
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10111              		.loc 1 4320 2 view .LVU3445
 10112 0358 AA23     		movs	r3, #170
 10113 035a 86F8FF31 		strb	r3, [r6, #511]
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10114              		.loc 1 4321 2 view .LVU3446
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10115              		.loc 1 4321 6 is_stmt 0 view .LVU3447
 10116 035e 0123     		movs	r3, #1
 10117 0360 5A46     		mov	r2, fp
 10118 0362 3146     		mov	r1, r6
 10119 0364 2046     		mov	r0, r4
 10120 0366 FFF7FEFF 		bl	disk_write
 10121              	.LVL1146:
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10122              		.loc 1 4321 5 discriminator 1 view .LVU3448
 10123 036a 0028     		cmp	r0, #0
 10124 036c 40F03C81 		bne	.L759
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10125              		.loc 1 4323 2 is_stmt 1 view .LVU3449
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10126              		.loc 1 4323 5 is_stmt 0 view .LVU3450
 10127 0370 B9F1030F 		cmp	r9, #3
 10128 0374 00F09A80 		beq	.L774
 10129              	.L728:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10130              		.loc 1 4344 8 view .LVU3451
 10131 0378 0027     		movs	r7, #0
 10132              	.LVL1147:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10133              		.loc 1 4344 8 view .LVU3452
 10134 037a CDF810B0 		str	fp, [sp, #16]
 10135 037e DDF808B0 		ldr	fp, [sp, #8]
 10136              	.LVL1148:
 10137              	.L734:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10138              		.loc 1 4328 16 is_stmt 1 discriminator 1 view .LVU3453
 10139 0382 002F     		cmp	r7, #0
 10140 0384 40F0B880 		bne	.L775
ARM GAS  /tmp/ccLzcuV9.s 			page 309


4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
 10141              		.loc 1 4329 3 view .LVU3454
 10142 0388 4FF40072 		mov	r2, #512
 10143 038c 0021     		movs	r1, #0
 10144 038e 3046     		mov	r0, r6
 10145 0390 FFF7FEFF 		bl	mem_set
 10146              	.LVL1149:
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10147              		.loc 1 4330 3 view .LVU3455
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10148              		.loc 1 4330 5 is_stmt 0 view .LVU3456
 10149 0394 5246     		mov	r2, r10
 10150 0396 CDF81CA0 		str	r10, [sp, #28]
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10151              		.loc 1 4331 3 is_stmt 1 view .LVU3457
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10152              		.loc 1 4331 6 is_stmt 0 view .LVU3458
 10153 039a B9F1030F 		cmp	r9, #3
 10154 039e 00F08F80 		beq	.L729
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10155              		.loc 1 4332 4 is_stmt 1 view .LVU3459
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10156              		.loc 1 4332 40 is_stmt 0 view .LVU3460
 10157 03a2 B9F1010F 		cmp	r9, #1
 10158 03a6 00F08980 		beq	.L776
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10159              		.loc 1 4332 40 discriminator 2 view .LVU3461
 10160 03aa 6FF0FF03 		mvn	r3, #255
 10161              	.L730:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10162              		.loc 1 4332 6 discriminator 4 view .LVU3462
 10163 03ae 1343     		orrs	r3, r3, r2
 10164 03b0 0793     		str	r3, [sp, #28]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10165              		.loc 1 4333 4 is_stmt 1 view .LVU3463
 10166 03b2 3370     		strb	r3, [r6]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10167              		.loc 1 4333 4 view .LVU3464
 10168 03b4 BDF81C30 		ldrh	r3, [sp, #28]
 10169 03b8 1B0A     		lsrs	r3, r3, #8
 10170 03ba 7370     		strb	r3, [r6, #1]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10171              		.loc 1 4333 4 view .LVU3465
 10172 03bc 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 10173 03c0 B370     		strb	r3, [r6, #2]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10174              		.loc 1 4333 4 view .LVU3466
 10175 03c2 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 10176 03c6 F370     		strb	r3, [r6, #3]
 10177              	.L731:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10178              		.loc 1 4340 3 view .LVU3467
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10179              		.loc 1 4340 7 is_stmt 0 view .LVU3468
 10180 03c8 0BF10105 		add	r5, fp, #1
 10181              	.LVL1150:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
ARM GAS  /tmp/ccLzcuV9.s 			page 310


 10182              		.loc 1 4340 7 view .LVU3469
 10183 03cc 0123     		movs	r3, #1
 10184 03ce 5A46     		mov	r2, fp
 10185 03d0 3146     		mov	r1, r6
 10186 03d2 2046     		mov	r0, r4
 10187 03d4 FFF7FEFF 		bl	disk_write
 10188              	.LVL1151:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10189              		.loc 1 4340 6 discriminator 1 view .LVU3470
 10190 03d8 0028     		cmp	r0, #0
 10191 03da 40F00781 		bne	.L761
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 10192              		.loc 1 4342 3 is_stmt 1 view .LVU3471
 10193 03de 4FF40072 		mov	r2, #512
 10194 03e2 0021     		movs	r1, #0
 10195 03e4 3046     		mov	r0, r6
 10196 03e6 FFF7FEFF 		bl	mem_set
 10197              	.LVL1152:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10198              		.loc 1 4343 3 view .LVU3472
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10199              		.loc 1 4343 10 is_stmt 0 view .LVU3473
 10200 03ea 0123     		movs	r3, #1
 10201 03ec 0793     		str	r3, [sp, #28]
 10202 03ee 2A46     		mov	r2, r5
 10203              	.LVL1153:
 10204              	.L732:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10205              		.loc 1 4343 17 is_stmt 1 discriminator 1 view .LVU3474
 10206 03f0 079B     		ldr	r3, [sp, #28]
 10207 03f2 9845     		cmp	r8, r3
 10208 03f4 7DD9     		bls	.L777
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10209              		.loc 1 4344 4 view .LVU3475
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10210              		.loc 1 4344 8 is_stmt 0 view .LVU3476
 10211 03f6 02F1010B 		add	fp, r2, #1
 10212              	.LVL1154:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10213              		.loc 1 4344 8 view .LVU3477
 10214 03fa 0123     		movs	r3, #1
 10215 03fc 3146     		mov	r1, r6
 10216 03fe 2046     		mov	r0, r4
 10217 0400 FFF7FEFF 		bl	disk_write
 10218              	.LVL1155:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10219              		.loc 1 4344 7 discriminator 1 view .LVU3478
 10220 0404 0028     		cmp	r0, #0
 10221 0406 40F0F380 		bne	.L762
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10222              		.loc 1 4343 27 is_stmt 1 discriminator 2 view .LVU3479
 10223 040a 079B     		ldr	r3, [sp, #28]
 10224 040c 0133     		adds	r3, r3, #1
 10225 040e 0793     		str	r3, [sp, #28]
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10226              		.loc 1 4344 8 is_stmt 0 view .LVU3480
 10227 0410 5A46     		mov	r2, fp
ARM GAS  /tmp/ccLzcuV9.s 			page 311


 10228 0412 EDE7     		b	.L732
 10229              	.LVL1156:
 10230              	.L772:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10231              		.loc 1 4292 28 discriminator 1 view .LVU3481
 10232 0414 0023     		movs	r3, #0
 10233 0416 5CE7     		b	.L723
 10234              	.LVL1157:
 10235              	.L724:
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10236              		.loc 1 4297 3 is_stmt 1 view .LVU3482
 10237 0418 86F82030 		strb	r3, [r6, #32]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10238              		.loc 1 4297 3 view .LVU3483
 10239 041c C3F30722 		ubfx	r2, r3, #8, #8
 10240 0420 86F82120 		strb	r2, [r6, #33]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10241              		.loc 1 4297 3 view .LVU3484
 10242 0424 C3F30742 		ubfx	r2, r3, #16, #8
 10243 0428 86F82220 		strb	r2, [r6, #34]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10244              		.loc 1 4297 3 view .LVU3485
 10245 042c 1B0E     		lsrs	r3, r3, #24
 10246 042e 86F82330 		strb	r3, [r6, #35]
 10247 0432 5BE7     		b	.L725
 10248              	.L773:
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10249              		.loc 1 4305 3 view .LVU3486
 10250 0434 86F84300 		strb	r0, [r6, #67]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10251              		.loc 1 4305 3 view .LVU3487
 10252 0438 C0F30723 		ubfx	r3, r0, #8, #8
 10253 043c 86F84430 		strb	r3, [r6, #68]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10254              		.loc 1 4305 3 view .LVU3488
 10255 0440 C0F30743 		ubfx	r3, r0, #16, #8
 10256 0444 86F84530 		strb	r3, [r6, #69]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 10257              		.loc 1 4305 3 view .LVU3489
 10258 0448 000E     		lsrs	r0, r0, #24
 10259 044a 86F84600 		strb	r0, [r6, #70]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10260              		.loc 1 4306 3 view .LVU3490
 10261 044e 86F82480 		strb	r8, [r6, #36]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10262              		.loc 1 4306 3 view .LVU3491
 10263 0452 C8F30723 		ubfx	r3, r8, #8, #8
 10264 0456 86F82530 		strb	r3, [r6, #37]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10265              		.loc 1 4306 3 view .LVU3492
 10266 045a C8F30743 		ubfx	r3, r8, #16, #8
 10267 045e 86F82630 		strb	r3, [r6, #38]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 10268              		.loc 1 4306 3 view .LVU3493
 10269 0462 4FEA1863 		lsr	r3, r8, #24
 10270 0466 86F82730 		strb	r3, [r6, #39]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
ARM GAS  /tmp/ccLzcuV9.s 			page 312


 10271              		.loc 1 4307 3 view .LVU3494
 10272 046a 0223     		movs	r3, #2
 10273 046c 86F82C30 		strb	r3, [r6, #44]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10274              		.loc 1 4307 3 view .LVU3495
 10275 0470 0023     		movs	r3, #0
 10276 0472 86F82D30 		strb	r3, [r6, #45]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10277              		.loc 1 4307 3 view .LVU3496
 10278 0476 86F82E30 		strb	r3, [r6, #46]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 10279              		.loc 1 4307 3 view .LVU3497
 10280 047a 86F82F30 		strb	r3, [r6, #47]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 10281              		.loc 1 4308 3 view .LVU3498
 10282 047e 0122     		movs	r2, #1
 10283 0480 86F83020 		strb	r2, [r6, #48]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 10284              		.loc 1 4308 3 view .LVU3499
 10285 0484 86F83130 		strb	r3, [r6, #49]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 10286              		.loc 1 4309 3 view .LVU3500
 10287 0488 0622     		movs	r2, #6
 10288 048a 86F83220 		strb	r2, [r6, #50]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 10289              		.loc 1 4309 3 view .LVU3501
 10290 048e 86F83330 		strb	r3, [r6, #51]
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 10291              		.loc 1 4310 3 view .LVU3502
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 10292              		.loc 1 4310 20 is_stmt 0 view .LVU3503
 10293 0492 8023     		movs	r3, #128
 10294 0494 86F84030 		strb	r3, [r6, #64]
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10295              		.loc 1 4311 3 is_stmt 1 view .LVU3504
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10296              		.loc 1 4311 21 is_stmt 0 view .LVU3505
 10297 0498 2923     		movs	r3, #41
 10298 049a 86F84230 		strb	r3, [r6, #66]
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10299              		.loc 1 4312 3 is_stmt 1 view .LVU3506
 10300 049e 1322     		movs	r2, #19
 10301 04a0 5749     		ldr	r1, .L782+8
 10302 04a2 06F14700 		add	r0, r6, #71
 10303 04a6 FFF7FEFF 		bl	mem_cpy
 10304              	.LVL1158:
 10305 04aa 52E7     		b	.L727
 10306              	.L774:
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10307              		.loc 1 4324 3 view .LVU3507
 10308 04ac 0123     		movs	r3, #1
 10309 04ae 0BF10602 		add	r2, fp, #6
 10310 04b2 3146     		mov	r1, r6
 10311 04b4 2046     		mov	r0, r4
 10312 04b6 FFF7FEFF 		bl	disk_write
 10313              	.LVL1159:
 10314 04ba 5DE7     		b	.L728
ARM GAS  /tmp/ccLzcuV9.s 			page 313


 10315              	.LVL1160:
 10316              	.L776:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10317              		.loc 1 4332 40 is_stmt 0 discriminator 1 view .LVU3508
 10318 04bc 514B     		ldr	r3, .L782+12
 10319 04be 76E7     		b	.L730
 10320              	.L729:
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 10321              		.loc 1 4335 4 is_stmt 1 view .LVU3509
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 10322              		.loc 1 4335 6 is_stmt 0 view .LVU3510
 10323 04c0 6AF0FF03 		orn	r3, r10, #255
 10324 04c4 0793     		str	r3, [sp, #28]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10325              		.loc 1 4336 4 is_stmt 1 view .LVU3511
 10326 04c6 3370     		strb	r3, [r6]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10327              		.loc 1 4336 4 view .LVU3512
 10328 04c8 BDF81C30 		ldrh	r3, [sp, #28]
 10329 04cc 1B0A     		lsrs	r3, r3, #8
 10330 04ce 7370     		strb	r3, [r6, #1]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10331              		.loc 1 4336 4 view .LVU3513
 10332 04d0 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 10333 04d4 B370     		strb	r3, [r6, #2]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 10334              		.loc 1 4336 4 view .LVU3514
 10335 04d6 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 10336 04da F370     		strb	r3, [r6, #3]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10337              		.loc 1 4337 4 view .LVU3515
 10338 04dc FF23     		movs	r3, #255
 10339 04de 3371     		strb	r3, [r6, #4]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10340              		.loc 1 4337 4 view .LVU3516
 10341 04e0 7371     		strb	r3, [r6, #5]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10342              		.loc 1 4337 4 view .LVU3517
 10343 04e2 B371     		strb	r3, [r6, #6]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 10344              		.loc 1 4337 4 view .LVU3518
 10345 04e4 F371     		strb	r3, [r6, #7]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10346              		.loc 1 4338 4 view .LVU3519
 10347 04e6 3372     		strb	r3, [r6, #8]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10348              		.loc 1 4338 4 view .LVU3520
 10349 04e8 7372     		strb	r3, [r6, #9]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10350              		.loc 1 4338 4 view .LVU3521
 10351 04ea B372     		strb	r3, [r6, #10]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10352              		.loc 1 4338 4 view .LVU3522
 10353 04ec 0F23     		movs	r3, #15
 10354 04ee F372     		strb	r3, [r6, #11]
 10355 04f0 6AE7     		b	.L731
 10356              	.LVL1161:
ARM GAS  /tmp/ccLzcuV9.s 			page 314


 10357              	.L777:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10358              		.loc 1 4328 27 discriminator 2 view .LVU3523
 10359 04f2 0137     		adds	r7, r7, #1
 10360              	.LVL1162:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10361              		.loc 1 4328 27 is_stmt 0 discriminator 2 view .LVU3524
 10362 04f4 9346     		mov	fp, r2
 10363 04f6 44E7     		b	.L734
 10364              	.LVL1163:
 10365              	.L775:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10366              		.loc 1 4350 29 view .LVU3525
 10367 04f8 CDF808B0 		str	fp, [sp, #8]
 10368              	.LVL1164:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10369              		.loc 1 4350 29 view .LVU3526
 10370 04fc DDF810B0 		ldr	fp, [sp, #16]
 10371              	.LVL1165:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10372              		.loc 1 4350 2 is_stmt 1 view .LVU3527
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10373              		.loc 1 4350 29 is_stmt 0 view .LVU3528
 10374 0500 B9F1030F 		cmp	r9, #3
 10375 0504 18D0     		beq	.L778
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10376              		.loc 1 4350 29 view .LVU3529
 10377 0506 019F     		ldr	r7, [sp, #4]
 10378              	.LVL1166:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10379              		.loc 1 4350 29 view .LVU3530
 10380 0508 029D     		ldr	r5, [sp, #8]
 10381              	.LVL1167:
 10382              	.L737:
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 10383              		.loc 1 4351 2 is_stmt 1 view .LVU3531
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10384              		.loc 1 4352 3 view .LVU3532
 10385 050a 2A46     		mov	r2, r5
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10386              		.loc 1 4352 7 is_stmt 0 view .LVU3533
 10387 050c 0123     		movs	r3, #1
 10388 050e 1D44     		add	r5, r5, r3
 10389              	.LVL1168:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10390              		.loc 1 4352 7 view .LVU3534
 10391 0510 3146     		mov	r1, r6
 10392 0512 2046     		mov	r0, r4
 10393 0514 FFF7FEFF 		bl	disk_write
 10394              	.LVL1169:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10395              		.loc 1 4352 6 discriminator 1 view .LVU3535
 10396 0518 0028     		cmp	r0, #0
 10397 051a 6BD1     		bne	.L763
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10398              		.loc 1 4354 11 is_stmt 1 view .LVU3536
 10399              	.LVL1170:
ARM GAS  /tmp/ccLzcuV9.s 			page 315


4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10400              		.loc 1 4354 11 is_stmt 0 view .LVU3537
 10401 051c 013F     		subs	r7, r7, #1
 10402              	.LVL1171:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10403              		.loc 1 4354 11 view .LVU3538
 10404 051e F4D1     		bne	.L737
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 10405              		.loc 1 4364 2 is_stmt 1 view .LVU3539
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 10406              		.loc 1 4364 5 is_stmt 0 view .LVU3540
 10407 0520 B9F1030F 		cmp	r9, #3
 10408 0524 0BD0     		beq	.L779
 10409              	.L738:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10410              		.loc 1 4374 2 is_stmt 1 view .LVU3541
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10411              		.loc 1 4374 10 is_stmt 0 view .LVU3542
 10412 0526 0022     		movs	r2, #0
 10413 0528 1146     		mov	r1, r2
 10414 052a 2046     		mov	r0, r4
 10415 052c FFF7FEFF 		bl	disk_ioctl
 10416              	.LVL1172:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10417              		.loc 1 4374 60 discriminator 1 view .LVU3543
 10418 0530 0038     		subs	r0, r0, #0
 10419 0532 18BF     		it	ne
 10420 0534 0120     		movne	r0, #1
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10421              		.loc 1 4374 60 view .LVU3544
 10422 0536 42E0     		b	.L701
 10423              	.LVL1173:
 10424              	.L778:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10425              		.loc 1 4350 29 discriminator 1 view .LVU3545
 10426 0538 009F     		ldr	r7, [sp]
 10427              	.LVL1174:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 10428              		.loc 1 4350 29 discriminator 1 view .LVU3546
 10429 053a 029D     		ldr	r5, [sp, #8]
 10430 053c E5E7     		b	.L737
 10431              	.LVL1175:
 10432              	.L779:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10433              		.loc 1 4365 3 is_stmt 1 view .LVU3547
 10434 053e 5223     		movs	r3, #82
 10435 0540 3370     		strb	r3, [r6]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10436              		.loc 1 4365 3 view .LVU3548
 10437 0542 7370     		strb	r3, [r6, #1]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10438              		.loc 1 4365 3 view .LVU3549
 10439 0544 6123     		movs	r3, #97
 10440 0546 B370     		strb	r3, [r6, #2]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 10441              		.loc 1 4365 3 view .LVU3550
 10442 0548 4122     		movs	r2, #65
ARM GAS  /tmp/ccLzcuV9.s 			page 316


 10443 054a F270     		strb	r2, [r6, #3]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10444              		.loc 1 4366 3 view .LVU3551
 10445 054c 7221     		movs	r1, #114
 10446 054e 86F8E411 		strb	r1, [r6, #484]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10447              		.loc 1 4366 3 view .LVU3552
 10448 0552 86F8E511 		strb	r1, [r6, #485]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10449              		.loc 1 4366 3 view .LVU3553
 10450 0556 86F8E621 		strb	r2, [r6, #486]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 10451              		.loc 1 4366 3 view .LVU3554
 10452 055a 86F8E731 		strb	r3, [r6, #487]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10453              		.loc 1 4367 3 view .LVU3555
 10454 055e 039A     		ldr	r2, [sp, #12]
 10455 0560 531E     		subs	r3, r2, #1
 10456 0562 86F8E831 		strb	r3, [r6, #488]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10457              		.loc 1 4367 3 view .LVU3556
 10458 0566 C3F30723 		ubfx	r3, r3, #8, #8
 10459 056a 86F8E931 		strb	r3, [r6, #489]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10460              		.loc 1 4367 3 view .LVU3557
 10461 056e 531E     		subs	r3, r2, #1
 10462 0570 C3F30742 		ubfx	r2, r3, #16, #8
 10463 0574 86F8EA21 		strb	r2, [r6, #490]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 10464              		.loc 1 4367 3 view .LVU3558
 10465 0578 1B0E     		lsrs	r3, r3, #24
 10466 057a 86F8EB31 		strb	r3, [r6, #491]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10467              		.loc 1 4368 3 view .LVU3559
 10468 057e 0223     		movs	r3, #2
 10469 0580 86F8EC31 		strb	r3, [r6, #492]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10470              		.loc 1 4368 3 view .LVU3560
 10471 0584 0023     		movs	r3, #0
 10472 0586 86F8ED31 		strb	r3, [r6, #493]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10473              		.loc 1 4368 3 view .LVU3561
 10474 058a 86F8EE31 		strb	r3, [r6, #494]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 10475              		.loc 1 4368 3 view .LVU3562
 10476 058e 86F8EF31 		strb	r3, [r6, #495]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 10477              		.loc 1 4369 3 view .LVU3563
 10478 0592 5523     		movs	r3, #85
 10479 0594 86F8FE31 		strb	r3, [r6, #510]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 10480              		.loc 1 4369 3 view .LVU3564
 10481 0598 AA23     		movs	r3, #170
 10482 059a 86F8FF31 		strb	r3, [r6, #511]
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 10483              		.loc 1 4370 3 view .LVU3565
 10484 059e 0123     		movs	r3, #1
ARM GAS  /tmp/ccLzcuV9.s 			page 317


 10485 05a0 0BEB0302 		add	r2, fp, r3
 10486 05a4 3146     		mov	r1, r6
 10487 05a6 2046     		mov	r0, r4
 10488 05a8 FFF7FEFF 		bl	disk_write
 10489              	.LVL1176:
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10490              		.loc 1 4371 3 view .LVU3566
 10491 05ac 0123     		movs	r3, #1
 10492 05ae 0BF10702 		add	r2, fp, #7
 10493 05b2 3146     		mov	r1, r6
 10494 05b4 2046     		mov	r0, r4
 10495 05b6 FFF7FEFF 		bl	disk_write
 10496              	.LVL1177:
 10497 05ba B4E7     		b	.L738
 10498              	.LVL1178:
 10499              	.L739:
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 10500              		.loc 1 4160 22 is_stmt 0 discriminator 1 view .LVU3567
 10501 05bc 1320     		movs	r0, #19
 10502              	.LVL1179:
 10503              	.L701:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10504              		.loc 1 4375 1 view .LVU3568
 10505 05be 09B0     		add	sp, sp, #36
 10506              	.LCFI108:
 10507              		.cfi_remember_state
 10508              		.cfi_def_cfa_offset 36
 10509              	.LVL1180:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10510              		.loc 1 4375 1 view .LVU3569
 10511              		@ sp needed
 10512 05c0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10513              	.LVL1181:
 10514              	.L740:
 10515              	.LCFI109:
 10516              		.cfi_restore_state
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10517              		.loc 1 4162 22 discriminator 1 view .LVU3570
 10518 05c4 0B20     		movs	r0, #11
 10519              	.LVL1182:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10520              		.loc 1 4162 22 discriminator 1 view .LVU3571
 10521 05c6 FAE7     		b	.L701
 10522              	.LVL1183:
 10523              	.L741:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10524              		.loc 1 4164 18 discriminator 1 view .LVU3572
 10525 05c8 0C20     		movs	r0, #12
 10526              	.LVL1184:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10527              		.loc 1 4164 18 discriminator 1 view .LVU3573
 10528 05ca F8E7     		b	.L701
 10529              	.LVL1185:
 10530              	.L742:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10531              		.loc 1 4171 32 discriminator 1 view .LVU3574
 10532 05cc 0320     		movs	r0, #3
ARM GAS  /tmp/ccLzcuV9.s 			page 318


 10533              	.LVL1186:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10534              		.loc 1 4171 32 discriminator 1 view .LVU3575
 10535 05ce F6E7     		b	.L701
 10536              	.LVL1187:
 10537              	.L743:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10538              		.loc 1 4172 33 discriminator 1 view .LVU3576
 10539 05d0 0A20     		movs	r0, #10
 10540              	.LVL1188:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10541              		.loc 1 4172 33 discriminator 1 view .LVU3577
 10542 05d2 F4E7     		b	.L701
 10543              	.L744:
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
 10544              		.loc 1 4188 11 view .LVU3578
 10545 05d4 0120     		movs	r0, #1
 10546 05d6 F2E7     		b	.L701
 10547              	.L745:
 10548 05d8 0120     		movs	r0, #1
 10549 05da F0E7     		b	.L701
 10550              	.LVL1189:
 10551              	.L751:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10552              		.loc 1 4223 42 discriminator 1 view .LVU3579
 10553 05dc 0E20     		movs	r0, #14
 10554              	.LVL1190:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10555              		.loc 1 4223 42 discriminator 1 view .LVU3580
 10556 05de EEE7     		b	.L701
 10557              	.LVL1191:
 10558              	.L753:
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10559              		.loc 1 4240 10 view .LVU3581
 10560 05e0 0E20     		movs	r0, #14
 10561 05e2 ECE7     		b	.L701
 10562              	.LVL1192:
 10563              	.L757:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
 10564              		.loc 1 4278 12 view .LVU3582
 10565 05e4 0120     		movs	r0, #1
 10566 05e6 EAE7     		b	.L701
 10567              	.LVL1193:
 10568              	.L759:
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
 10569              		.loc 1 4322 10 view .LVU3583
 10570 05e8 0120     		movs	r0, #1
 10571 05ea E8E7     		b	.L701
 10572              	.LVL1194:
 10573              	.L761:
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
 10574              		.loc 1 4341 11 view .LVU3584
 10575 05ec 0120     		movs	r0, #1
 10576 05ee E6E7     		b	.L701
 10577              	.LVL1195:
 10578              	.L762:
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/ccLzcuV9.s 			page 319


 10579              		.loc 1 4345 12 view .LVU3585
 10580 05f0 0120     		movs	r0, #1
 10581 05f2 E4E7     		b	.L701
 10582              	.LVL1196:
 10583              	.L763:
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
 10584              		.loc 1 4353 11 view .LVU3586
 10585 05f4 0120     		movs	r0, #1
 10586 05f6 E2E7     		b	.L701
 10587              	.L783:
 10588              		.align	2
 10589              	.L782:
 10590 05f8 00000000 		.word	.LC1
 10591 05fc 20000000 		.word	.LC3
 10592 0600 0C000000 		.word	.LC2
 10593 0604 00FFFF00 		.word	16776960
 10594              		.cfi_endproc
 10595              	.LFE117:
 10597              		.section	.text.f_gets,"ax",%progbits
 10598              		.align	1
 10599              		.global	f_gets
 10600              		.syntax unified
 10601              		.thumb
 10602              		.thumb_func
 10604              	f_gets:
 10605              	.LVL1197:
 10606              	.LFB118:
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 10607              		.loc 1 4462 1 is_stmt 1 view -0
 10608              		.cfi_startproc
 10609              		@ args = 0, pretend = 0, frame = 8
 10610              		@ frame_needed = 0, uses_anonymous_args = 0
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 10611              		.loc 1 4462 1 is_stmt 0 view .LVU3588
 10612 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 10613              	.LCFI110:
 10614              		.cfi_def_cfa_offset 24
 10615              		.cfi_offset 4, -24
 10616              		.cfi_offset 5, -20
 10617              		.cfi_offset 6, -16
 10618              		.cfi_offset 7, -12
 10619              		.cfi_offset 8, -8
 10620              		.cfi_offset 14, -4
 10621 0004 82B0     		sub	sp, sp, #8
 10622              	.LCFI111:
 10623              		.cfi_def_cfa_offset 32
 10624 0006 8046     		mov	r8, r0
 10625 0008 0E46     		mov	r6, r1
 10626 000a 1746     		mov	r7, r2
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 10627              		.loc 1 4463 2 is_stmt 1 view .LVU3589
 10628              	.LVL1198:
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 10629              		.loc 1 4464 2 view .LVU3590
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 10630              		.loc 1 4465 2 view .LVU3591
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 320


 10631              		.loc 1 4466 2 view .LVU3592
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10632              		.loc 1 4469 2 view .LVU3593
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 10633              		.loc 1 4464 12 is_stmt 0 view .LVU3594
 10634 000c 0446     		mov	r4, r0
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 10635              		.loc 1 4463 6 view .LVU3595
 10636 000e 0025     		movs	r5, #0
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10637              		.loc 1 4469 8 view .LVU3596
 10638 0010 01E0     		b	.L785
 10639              	.LVL1199:
 10640              	.L790:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10641              		.loc 1 4469 8 view .LVU3597
 10642 0012 A446     		mov	ip, r4
 10643              	.LVL1200:
 10644              	.L787:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10645              		.loc 1 4469 8 view .LVU3598
 10646 0014 6446     		mov	r4, ip
 10647              	.LVL1201:
 10648              	.L785:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10649              		.loc 1 4469 11 is_stmt 1 view .LVU3599
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10650              		.loc 1 4469 17 is_stmt 0 view .LVU3600
 10651 0016 731E     		subs	r3, r6, #1
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 10652              		.loc 1 4469 11 view .LVU3601
 10653 0018 AB42     		cmp	r3, r5
 10654 001a 13DD     		ble	.L786
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 10655              		.loc 1 4514 3 is_stmt 1 view .LVU3602
 10656 001c 6B46     		mov	r3, sp
 10657 001e 0122     		movs	r2, #1
 10658 0020 01A9     		add	r1, sp, #4
 10659 0022 3846     		mov	r0, r7
 10660 0024 FFF7FEFF 		bl	f_read
 10661              	.LVL1202:
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10662              		.loc 1 4515 3 view .LVU3603
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10663              		.loc 1 4515 10 is_stmt 0 view .LVU3604
 10664 0028 009B     		ldr	r3, [sp]
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 10665              		.loc 1 4515 6 view .LVU3605
 10666 002a 012B     		cmp	r3, #1
 10667 002c 0AD1     		bne	.L786
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10668              		.loc 1 4516 3 is_stmt 1 view .LVU3606
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10669              		.loc 1 4516 5 is_stmt 0 view .LVU3607
 10670 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 10671              	.LVL1203:
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
ARM GAS  /tmp/ccLzcuV9.s 			page 321


 10672              		.loc 1 4518 3 is_stmt 1 view .LVU3608
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 10673              		.loc 1 4518 6 is_stmt 0 view .LVU3609
 10674 0032 0D2B     		cmp	r3, #13
 10675 0034 EDD0     		beq	.L790
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10676              		.loc 1 4519 3 is_stmt 1 view .LVU3610
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10677              		.loc 1 4519 5 is_stmt 0 view .LVU3611
 10678 0036 A446     		mov	ip, r4
 10679              	.LVL1204:
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10680              		.loc 1 4519 8 view .LVU3612
 10681 0038 0CF8013B 		strb	r3, [ip], #1
 10682              	.LVL1205:
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 10683              		.loc 1 4520 3 is_stmt 1 view .LVU3613
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 10684              		.loc 1 4520 4 is_stmt 0 view .LVU3614
 10685 003c 0135     		adds	r5, r5, #1
 10686              	.LVL1206:
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10687              		.loc 1 4521 3 is_stmt 1 view .LVU3615
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10688              		.loc 1 4521 6 is_stmt 0 view .LVU3616
 10689 003e 0A2B     		cmp	r3, #10
 10690 0040 E8D1     		bne	.L787
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 10691              		.loc 1 4519 5 view .LVU3617
 10692 0042 6446     		mov	r4, ip
 10693              	.LVL1207:
 10694              	.L786:
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 10695              		.loc 1 4523 2 is_stmt 1 view .LVU3618
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 10696              		.loc 1 4523 5 is_stmt 0 view .LVU3619
 10697 0044 0023     		movs	r3, #0
 10698 0046 2370     		strb	r3, [r4]
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10699              		.loc 1 4524 2 is_stmt 1 view .LVU3620
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10700              		.loc 1 4524 18 is_stmt 0 view .LVU3621
 10701 0048 1DB1     		cbz	r5, .L792
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10702              		.loc 1 4524 18 discriminator 1 view .LVU3622
 10703 004a 4046     		mov	r0, r8
 10704              	.L784:
4525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10705              		.loc 1 4525 1 view .LVU3623
 10706 004c 02B0     		add	sp, sp, #8
 10707              	.LCFI112:
 10708              		.cfi_remember_state
 10709              		.cfi_def_cfa_offset 24
 10710              		@ sp needed
 10711 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 10712              	.LVL1208:
 10713              	.L792:
ARM GAS  /tmp/ccLzcuV9.s 			page 322


 10714              	.LCFI113:
 10715              		.cfi_restore_state
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10716              		.loc 1 4524 18 discriminator 2 view .LVU3624
 10717 0052 0020     		movs	r0, #0
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10718              		.loc 1 4524 18 view .LVU3625
 10719 0054 FAE7     		b	.L784
 10720              		.cfi_endproc
 10721              	.LFE118:
 10723              		.section	.text.f_putc,"ax",%progbits
 10724              		.align	1
 10725              		.global	f_putc
 10726              		.syntax unified
 10727              		.thumb
 10728              		.thumb_func
 10730              	f_putc:
 10731              	.LVL1209:
 10732              	.LFB120:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 
4598:Middlewares/Third_Party/FatFs/src/ff.c **** 
4599:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
4600:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4602:Middlewares/Third_Party/FatFs/src/ff.c **** )
4603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10733              		.loc 1 4603 1 is_stmt 1 view -0
 10734              		.cfi_startproc
 10735              		@ args = 0, pretend = 0, frame = 80
 10736              		@ frame_needed = 0, uses_anonymous_args = 0
 10737              		.loc 1 4603 1 is_stmt 0 view .LVU3627
 10738 0000 00B5     		push	{lr}
 10739              	.LCFI114:
 10740              		.cfi_def_cfa_offset 4
 10741              		.cfi_offset 14, -4
 10742 0002 95B0     		sub	sp, sp, #84
 10743              	.LCFI115:
 10744              		.cfi_def_cfa_offset 88
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10745              		.loc 1 4604 2 is_stmt 1 view .LVU3628
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 10746              		.loc 1 4605 2 view .LVU3629
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;			/* Initialize output buffer */
 10747              		.loc 1 4608 2 view .LVU3630
 10748              		.loc 1 4608 8 is_stmt 0 view .LVU3631
 10749 0004 0191     		str	r1, [sp, #4]
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10750              		.loc 1 4609 2 is_stmt 1 view .LVU3632
 10751              		.loc 1 4609 19 is_stmt 0 view .LVU3633
 10752 0006 0023     		movs	r3, #0
 10753 0008 0293     		str	r3, [sp, #8]
 10754              		.loc 1 4609 10 view .LVU3634
 10755 000a 0393     		str	r3, [sp, #12]
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/ccLzcuV9.s 			page 323


4611:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put a character */
 10756              		.loc 1 4611 2 is_stmt 1 view .LVU3635
 10757 000c 0146     		mov	r1, r0
 10758              	.LVL1210:
 10759              		.loc 1 4611 2 is_stmt 0 view .LVU3636
 10760 000e 01A8     		add	r0, sp, #4
 10761              	.LVL1211:
 10762              		.loc 1 4611 2 view .LVU3637
 10763 0010 FFF7FEFF 		bl	putc_bfd
 10764              	.LVL1212:
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0	/* Flush buffered characters to the file */
 10765              		.loc 1 4613 2 is_stmt 1 view .LVU3638
 10766              		.loc 1 4613 11 is_stmt 0 view .LVU3639
 10767 0014 029A     		ldr	r2, [sp, #8]
 10768              		.loc 1 4613 5 view .LVU3640
 10769 0016 002A     		cmp	r2, #0
 10770 0018 0DDB     		blt	.L796
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 10771              		.loc 1 4614 6 view .LVU3641
 10772 001a 6B46     		mov	r3, sp
 10773 001c 04A9     		add	r1, sp, #16
 10774 001e 0198     		ldr	r0, [sp, #4]
 10775 0020 FFF7FEFF 		bl	f_write
 10776              	.LVL1213:
 10777              		.loc 1 4614 3 discriminator 1 view .LVU3642
 10778 0024 50B9     		cbnz	r0, .L797
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 10779              		.loc 1 4615 3 view .LVU3643
 10780 0026 029A     		ldr	r2, [sp, #8]
 10781 0028 009B     		ldr	r3, [sp]
 10782 002a 9A42     		cmp	r2, r3
 10783 002c 09D1     		bne	.L798
 10784              		.loc 1 4615 26 is_stmt 1 discriminator 1 view .LVU3644
 10785              		.loc 1 4615 35 is_stmt 0 discriminator 1 view .LVU3645
 10786 002e 0398     		ldr	r0, [sp, #12]
 10787              	.L794:
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4617:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10788              		.loc 1 4617 1 view .LVU3646
 10789 0030 15B0     		add	sp, sp, #84
 10790              	.LCFI116:
 10791              		.cfi_remember_state
 10792              		.cfi_def_cfa_offset 4
 10793              		@ sp needed
 10794 0032 5DF804FB 		ldr	pc, [sp], #4
 10795              	.L796:
 10796              	.LCFI117:
 10797              		.cfi_restore_state
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 10798              		.loc 1 4616 9 view .LVU3647
 10799 0036 4FF0FF30 		mov	r0, #-1
 10800 003a F9E7     		b	.L794
 10801              	.L797:
 10802 003c 4FF0FF30 		mov	r0, #-1
 10803 0040 F6E7     		b	.L794
 10804              	.L798:
ARM GAS  /tmp/ccLzcuV9.s 			page 324


 10805 0042 4FF0FF30 		mov	r0, #-1
 10806 0046 F3E7     		b	.L794
 10807              		.cfi_endproc
 10808              	.LFE120:
 10810              		.section	.text.f_puts,"ax",%progbits
 10811              		.align	1
 10812              		.global	f_puts
 10813              		.syntax unified
 10814              		.thumb
 10815              		.thumb_func
 10817              	f_puts:
 10818              	.LVL1214:
 10819              	.LFB121:
4618:Middlewares/Third_Party/FatFs/src/ff.c **** 
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** 
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 
4622:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4623:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
4624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 
4626:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
4629:Middlewares/Third_Party/FatFs/src/ff.c **** )
4630:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10820              		.loc 1 4630 1 is_stmt 1 view -0
 10821              		.cfi_startproc
 10822              		@ args = 0, pretend = 0, frame = 80
 10823              		@ frame_needed = 0, uses_anonymous_args = 0
 10824              		.loc 1 4630 1 is_stmt 0 view .LVU3649
 10825 0000 10B5     		push	{r4, lr}
 10826              	.LCFI118:
 10827              		.cfi_def_cfa_offset 8
 10828              		.cfi_offset 4, -8
 10829              		.cfi_offset 14, -4
 10830 0002 94B0     		sub	sp, sp, #80
 10831              	.LCFI119:
 10832              		.cfi_def_cfa_offset 88
 10833 0004 0446     		mov	r4, r0
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10834              		.loc 1 4631 2 is_stmt 1 view .LVU3650
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 10835              		.loc 1 4632 2 view .LVU3651
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 10836              		.loc 1 4635 2 view .LVU3652
 10837              		.loc 1 4635 8 is_stmt 0 view .LVU3653
 10838 0006 0191     		str	r1, [sp, #4]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10839              		.loc 1 4636 2 is_stmt 1 view .LVU3654
 10840              		.loc 1 4636 19 is_stmt 0 view .LVU3655
 10841 0008 0023     		movs	r3, #0
 10842 000a 0293     		str	r3, [sp, #8]
 10843              		.loc 1 4636 10 view .LVU3656
 10844 000c 0393     		str	r3, [sp, #12]
ARM GAS  /tmp/ccLzcuV9.s 			page 325


4637:Middlewares/Third_Party/FatFs/src/ff.c **** 
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str)			/* Put the string */
 10845              		.loc 1 4638 2 is_stmt 1 view .LVU3657
 10846              		.loc 1 4638 8 is_stmt 0 view .LVU3658
 10847 000e 03E0     		b	.L801
 10848              	.LVL1215:
 10849              	.L802:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 10850              		.loc 1 4639 3 is_stmt 1 view .LVU3659
 10851              		.loc 1 4639 21 is_stmt 0 view .LVU3660
 10852 0010 0134     		adds	r4, r4, #1
 10853              	.LVL1216:
 10854              		.loc 1 4639 3 view .LVU3661
 10855 0012 01A8     		add	r0, sp, #4
 10856 0014 FFF7FEFF 		bl	putc_bfd
 10857              	.LVL1217:
 10858              	.L801:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 10859              		.loc 1 4638 9 is_stmt 1 view .LVU3662
 10860 0018 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 10861 001a 0029     		cmp	r1, #0
 10862 001c F8D1     		bne	.L802
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 10863              		.loc 1 4641 2 view .LVU3663
 10864              		.loc 1 4641 11 is_stmt 0 view .LVU3664
 10865 001e 029A     		ldr	r2, [sp, #8]
 10866              		.loc 1 4641 5 view .LVU3665
 10867 0020 002A     		cmp	r2, #0
 10868 0022 0CDB     		blt	.L804
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 10869              		.loc 1 4642 6 view .LVU3666
 10870 0024 6B46     		mov	r3, sp
 10871 0026 04A9     		add	r1, sp, #16
 10872 0028 0198     		ldr	r0, [sp, #4]
 10873 002a FFF7FEFF 		bl	f_write
 10874              	.LVL1218:
 10875              		.loc 1 4642 3 discriminator 1 view .LVU3667
 10876 002e 48B9     		cbnz	r0, .L805
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 10877              		.loc 1 4643 3 view .LVU3668
 10878 0030 029A     		ldr	r2, [sp, #8]
 10879 0032 009B     		ldr	r3, [sp]
 10880 0034 9A42     		cmp	r2, r3
 10881 0036 08D1     		bne	.L806
 10882              		.loc 1 4643 26 is_stmt 1 discriminator 1 view .LVU3669
 10883              		.loc 1 4643 35 is_stmt 0 discriminator 1 view .LVU3670
 10884 0038 0398     		ldr	r0, [sp, #12]
 10885              	.L800:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10886              		.loc 1 4645 1 view .LVU3671
 10887 003a 14B0     		add	sp, sp, #80
 10888              	.LCFI120:
 10889              		.cfi_remember_state
 10890              		.cfi_def_cfa_offset 8
 10891              		@ sp needed
ARM GAS  /tmp/ccLzcuV9.s 			page 326


 10892 003c 10BD     		pop	{r4, pc}
 10893              	.LVL1219:
 10894              	.L804:
 10895              	.LCFI121:
 10896              		.cfi_restore_state
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 10897              		.loc 1 4644 9 view .LVU3672
 10898 003e 4FF0FF30 		mov	r0, #-1
 10899 0042 FAE7     		b	.L800
 10900              	.L805:
 10901 0044 4FF0FF30 		mov	r0, #-1
 10902 0048 F7E7     		b	.L800
 10903              	.L806:
 10904 004a 4FF0FF30 		mov	r0, #-1
 10905 004e F4E7     		b	.L800
 10906              		.cfi_endproc
 10907              	.LFE121:
 10909              		.section	.text.f_printf,"ax",%progbits
 10910              		.align	1
 10911              		.global	f_printf
 10912              		.syntax unified
 10913              		.thumb
 10914              		.thumb_func
 10916              	f_printf:
 10917              	.LVL1220:
 10918              	.LFB122:
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 
4650:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4651:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
4652:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 
4654:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** )
4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 10919              		.loc 1 4659 1 is_stmt 1 view -0
 10920              		.cfi_startproc
 10921              		@ args = 4, pretend = 12, frame = 104
 10922              		@ frame_needed = 0, uses_anonymous_args = 1
 10923              		.loc 1 4659 1 is_stmt 0 view .LVU3674
 10924 0000 0EB4     		push	{r1, r2, r3}
 10925              	.LCFI122:
 10926              		.cfi_def_cfa_offset 12
 10927              		.cfi_offset 1, -12
 10928              		.cfi_offset 2, -8
 10929              		.cfi_offset 3, -4
 10930 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 10931              	.LCFI123:
 10932              		.cfi_def_cfa_offset 44
 10933              		.cfi_offset 4, -44
 10934              		.cfi_offset 5, -40
 10935              		.cfi_offset 6, -36
ARM GAS  /tmp/ccLzcuV9.s 			page 327


 10936              		.cfi_offset 7, -32
 10937              		.cfi_offset 8, -28
 10938              		.cfi_offset 9, -24
 10939              		.cfi_offset 10, -20
 10940              		.cfi_offset 14, -16
 10941 0006 9BB0     		sub	sp, sp, #108
 10942              	.LCFI124:
 10943              		.cfi_def_cfa_offset 152
 10944 0008 23AB     		add	r3, sp, #140
 10945 000a 53F8046B 		ldr	r6, [r3], #4
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 10946              		.loc 1 4660 2 is_stmt 1 view .LVU3675
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 10947              		.loc 1 4661 2 view .LVU3676
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw, i, j, w;
 10948              		.loc 1 4662 2 view .LVU3677
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 10949              		.loc 1 4663 2 view .LVU3678
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, s[16], *p;
 10950              		.loc 1 4664 2 view .LVU3679
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 10951              		.loc 1 4665 2 view .LVU3680
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 10952              		.loc 1 4668 2 view .LVU3681
 10953              		.loc 1 4668 8 is_stmt 0 view .LVU3682
 10954 000e 0190     		str	r0, [sp, #4]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 10955              		.loc 1 4669 2 is_stmt 1 view .LVU3683
 10956              		.loc 1 4669 19 is_stmt 0 view .LVU3684
 10957 0010 0022     		movs	r2, #0
 10958 0012 0292     		str	r2, [sp, #8]
 10959              		.loc 1 4669 10 view .LVU3685
 10960 0014 0392     		str	r2, [sp, #12]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 10961              		.loc 1 4671 2 is_stmt 1 view .LVU3686
 10962 0016 1993     		str	r3, [sp, #100]
 10963 0018 F9E0     		b	.L809
 10964              	.LVL1221:
 10965              	.L811:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4679:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 10966              		.loc 1 4680 3 view .LVU3687
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 10967              		.loc 1 4681 3 view .LVU3688
 10968              		.loc 1 4681 11 is_stmt 0 view .LVU3689
 10969 001a B31C     		adds	r3, r6, #2
 10970              	.LVL1222:
ARM GAS  /tmp/ccLzcuV9.s 			page 328


 10971              		.loc 1 4681 5 view .LVU3690
 10972 001c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 10973              	.LVL1223:
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 10974              		.loc 1 4682 3 is_stmt 1 view .LVU3691
 10975              		.loc 1 4682 6 is_stmt 0 view .LVU3692
 10976 001e 3029     		cmp	r1, #48
 10977 0020 04D0     		beq	.L865
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 10978              		.loc 1 4685 4 is_stmt 1 view .LVU3693
 10979              		.loc 1 4685 7 is_stmt 0 view .LVU3694
 10980 0022 2D29     		cmp	r1, #45
 10981 0024 06D0     		beq	.L866
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 10982              		.loc 1 4680 9 view .LVU3695
 10983 0026 0025     		movs	r5, #0
 10984              	.LVL1224:
 10985              	.L814:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 10986              		.loc 1 4683 6 view .LVU3696
 10987 0028 0024     		movs	r4, #0
 10988 002a 0EE0     		b	.L815
 10989              	.LVL1225:
 10990              	.L865:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 10991              		.loc 1 4683 4 is_stmt 1 view .LVU3697
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 10992              		.loc 1 4683 11 view .LVU3698
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 10993              		.loc 1 4683 19 is_stmt 0 view .LVU3699
 10994 002c F31C     		adds	r3, r6, #3
 10995              	.LVL1226:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 10996              		.loc 1 4683 13 view .LVU3700
 10997 002e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 10998              	.LVL1227:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 10999              		.loc 1 4683 6 view .LVU3701
 11000 0030 0125     		movs	r5, #1
 11001 0032 F9E7     		b	.L814
 11002              	.LVL1228:
 11003              	.L866:
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 11004              		.loc 1 4686 5 is_stmt 1 view .LVU3702
 11005              		.loc 1 4686 12 view .LVU3703
 11006              		.loc 1 4686 20 is_stmt 0 view .LVU3704
 11007 0034 F31C     		adds	r3, r6, #3
 11008              	.LVL1229:
 11009              		.loc 1 4686 14 view .LVU3705
 11010 0036 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11011              	.LVL1230:
 11012              		.loc 1 4686 7 view .LVU3706
 11013 0038 0225     		movs	r5, #2
 11014 003a F5E7     		b	.L814
 11015              	.LVL1231:
ARM GAS  /tmp/ccLzcuV9.s 			page 329


 11016              	.L816:
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11017              		.loc 1 4690 4 is_stmt 1 view .LVU3707
 11018              		.loc 1 4690 10 is_stmt 0 view .LVU3708
 11019 003c 04EB8404 		add	r4, r4, r4, lsl #2
 11020              	.LVL1232:
 11021              		.loc 1 4690 15 view .LVU3709
 11022 0040 01EB4404 		add	r4, r1, r4, lsl #1
 11023              		.loc 1 4690 6 view .LVU3710
 11024 0044 303C     		subs	r4, r4, #48
 11025              	.LVL1233:
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 11026              		.loc 1 4691 4 is_stmt 1 view .LVU3711
 11027              		.loc 1 4691 6 is_stmt 0 view .LVU3712
 11028 0046 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
 11029              	.LVL1234:
 11030              	.L815:
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11031              		.loc 1 4689 10 is_stmt 1 view .LVU3713
 11032 004a A1F13002 		sub	r2, r1, #48
 11033 004e D2B2     		uxtb	r2, r2
 11034 0050 092A     		cmp	r2, #9
 11035 0052 F3D9     		bls	.L816
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 11036              		.loc 1 4693 3 view .LVU3714
 11037              		.loc 1 4693 6 is_stmt 0 view .LVU3715
 11038 0054 6C29     		cmp	r1, #108
 11039 0056 03D0     		beq	.L817
 11040              		.loc 1 4693 16 discriminator 1 view .LVU3716
 11041 0058 4C29     		cmp	r1, #76
 11042 005a 01D0     		beq	.L817
 11043 005c 1E46     		mov	r6, r3
 11044 005e 04E0     		b	.L818
 11045              	.L817:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 11046              		.loc 1 4694 4 is_stmt 1 view .LVU3717
 11047              		.loc 1 4694 6 is_stmt 0 view .LVU3718
 11048 0060 45F00405 		orr	r5, r5, #4
 11049              	.LVL1235:
 11050              		.loc 1 4694 12 is_stmt 1 view .LVU3719
 11051              		.loc 1 4694 20 is_stmt 0 view .LVU3720
 11052 0064 1E46     		mov	r6, r3
 11053              	.LVL1236:
 11054              		.loc 1 4694 14 view .LVU3721
 11055 0066 16F8011B 		ldrb	r1, [r6], #1	@ zero_extendqisi2
 11056              	.LVL1237:
 11057              	.L818:
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 11058              		.loc 1 4696 3 is_stmt 1 view .LVU3722
 11059              		.loc 1 4696 6 is_stmt 0 view .LVU3723
 11060 006a 0029     		cmp	r1, #0
 11061 006c 00F0DB80 		beq	.L810
ARM GAS  /tmp/ccLzcuV9.s 			page 330


4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11062              		.loc 1 4697 3 is_stmt 1 view .LVU3724
 11063              	.LVL1238:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 11064              		.loc 1 4698 3 view .LVU3725
 11065              		.loc 1 4698 7 is_stmt 0 view .LVU3726
 11066 0070 A1F16103 		sub	r3, r1, #97
 11067 0074 DBB2     		uxtb	r3, r3
 11068              		.loc 1 4698 6 view .LVU3727
 11069 0076 192B     		cmp	r3, #25
 11070 0078 14D8     		bhi	.L856
 11071              		.loc 1 4698 19 is_stmt 1 discriminator 1 view .LVU3728
 11072              		.loc 1 4698 21 is_stmt 0 discriminator 1 view .LVU3729
 11073 007a A1F12003 		sub	r3, r1, #32
 11074 007e DBB2     		uxtb	r3, r3
 11075              	.LVL1239:
 11076              	.L819:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 11077              		.loc 1 4699 3 is_stmt 1 view .LVU3730
 11078 0080 A3F14202 		sub	r2, r3, #66
 11079 0084 162A     		cmp	r2, #22
 11080 0086 53D8     		bhi	.L820
 11081 0088 DFE802F0 		tbb	[pc, r2]
 11082              	.L822:
 11083 008c 56       		.byte	(.L827-.L822)/2
 11084 008d 3B       		.byte	(.L826-.L822)/2
 11085 008e 43       		.byte	(.L823-.L822)/2
 11086 008f 52       		.byte	(.L820-.L822)/2
 11087 0090 52       		.byte	(.L820-.L822)/2
 11088 0091 52       		.byte	(.L820-.L822)/2
 11089 0092 52       		.byte	(.L820-.L822)/2
 11090 0093 52       		.byte	(.L820-.L822)/2
 11091 0094 52       		.byte	(.L820-.L822)/2
 11092 0095 52       		.byte	(.L820-.L822)/2
 11093 0096 52       		.byte	(.L820-.L822)/2
 11094 0097 52       		.byte	(.L820-.L822)/2
 11095 0098 52       		.byte	(.L820-.L822)/2
 11096 0099 58       		.byte	(.L857-.L822)/2
 11097 009a 52       		.byte	(.L820-.L822)/2
 11098 009b 52       		.byte	(.L820-.L822)/2
 11099 009c 52       		.byte	(.L820-.L822)/2
 11100 009d 0E       		.byte	(.L824-.L822)/2
 11101 009e 52       		.byte	(.L820-.L822)/2
 11102 009f 43       		.byte	(.L823-.L822)/2
 11103 00a0 52       		.byte	(.L820-.L822)/2
 11104 00a1 52       		.byte	(.L820-.L822)/2
 11105 00a2 50       		.byte	(.L821-.L822)/2
 11106              	.LVL1240:
 11107 00a3 00       		.p2align 1
 11108              	.L856:
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11109              		.loc 1 4697 5 is_stmt 0 view .LVU3731
 11110 00a4 0B46     		mov	r3, r1
 11111 00a6 EBE7     		b	.L819
 11112              	.LVL1241:
 11113              	.L824:
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
ARM GAS  /tmp/ccLzcuV9.s 			page 331


4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 11114              		.loc 1 4701 4 is_stmt 1 view .LVU3732
 11115              		.loc 1 4701 6 is_stmt 0 view .LVU3733
 11116 00a8 199B     		ldr	r3, [sp, #100]
 11117              	.LVL1242:
 11118              		.loc 1 4701 6 view .LVU3734
 11119 00aa 1A1D     		adds	r2, r3, #4
 11120              	.LVL1243:
 11121              		.loc 1 4701 6 view .LVU3735
 11122 00ac 1992     		str	r2, [sp, #100]
 11123 00ae D3F80080 		ldr	r8, [r3]
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 11124              		.loc 1 4702 4 is_stmt 1 view .LVU3736
 11125              	.LVL1244:
 11126              		.loc 1 4702 11 is_stmt 0 view .LVU3737
 11127 00b2 0027     		movs	r7, #0
 11128              		.loc 1 4702 4 view .LVU3738
 11129 00b4 00E0     		b	.L828
 11130              	.LVL1245:
 11131              	.L829:
 11132              		.loc 1 4702 23 is_stmt 1 discriminator 3 view .LVU3739
 11133 00b6 0137     		adds	r7, r7, #1
 11134              	.LVL1246:
 11135              	.L828:
 11136              		.loc 1 4702 16 discriminator 1 view .LVU3740
 11137              		.loc 1 4702 17 is_stmt 0 discriminator 1 view .LVU3741
 11138 00b8 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 11139              		.loc 1 4702 16 discriminator 1 view .LVU3742
 11140 00bc 002B     		cmp	r3, #0
 11141 00be FAD1     		bne	.L829
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 11142              		.loc 1 4703 4 is_stmt 1 view .LVU3743
 11143              		.loc 1 4703 7 is_stmt 0 view .LVU3744
 11144 00c0 15F0020F 		tst	r5, #2
 11145 00c4 0FD1     		bne	.L833
 11146 00c6 04E0     		b	.L830
 11147              	.LVL1247:
 11148              	.L832:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11149              		.loc 1 4704 21 is_stmt 1 discriminator 2 view .LVU3745
 11150 00c8 2021     		movs	r1, #32
 11151 00ca 01A8     		add	r0, sp, #4
 11152 00cc FFF7FEFF 		bl	putc_bfd
 11153              	.LVL1248:
 11154              		.loc 1 4704 13 is_stmt 0 discriminator 1 view .LVU3746
 11155 00d0 2F46     		mov	r7, r5
 11156              	.LVL1249:
 11157              	.L830:
 11158              		.loc 1 4704 16 is_stmt 1 discriminator 1 view .LVU3747
 11159              		.loc 1 4704 13 is_stmt 0 discriminator 1 view .LVU3748
 11160 00d2 7D1C     		adds	r5, r7, #1
 11161              	.LVL1250:
 11162              		.loc 1 4704 16 discriminator 1 view .LVU3749
 11163 00d4 A742     		cmp	r7, r4
 11164 00d6 F7D3     		bcc	.L832
 11165              		.loc 1 4704 13 discriminator 1 view .LVU3750
 11166 00d8 2F46     		mov	r7, r5
ARM GAS  /tmp/ccLzcuV9.s 			page 332


 11167 00da 04E0     		b	.L833
 11168              	.LVL1251:
 11169              	.L834:
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 11170              		.loc 1 4706 15 is_stmt 1 discriminator 2 view .LVU3751
 11171              		.loc 1 4706 31 is_stmt 0 discriminator 2 view .LVU3752
 11172 00dc 08F10108 		add	r8, r8, #1
 11173              	.LVL1252:
 11174              		.loc 1 4706 15 discriminator 2 view .LVU3753
 11175 00e0 01A8     		add	r0, sp, #4
 11176 00e2 FFF7FEFF 		bl	putc_bfd
 11177              	.LVL1253:
 11178              	.L833:
 11179              		.loc 1 4706 11 is_stmt 1 discriminator 1 view .LVU3754
 11180 00e6 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 11181 00ea 0029     		cmp	r1, #0
 11182 00ec F6D1     		bne	.L834
 11183              		.loc 1 4706 11 is_stmt 0 discriminator 1 view .LVU3755
 11184 00ee 04E0     		b	.L835
 11185              	.LVL1254:
 11186              	.L836:
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 11187              		.loc 1 4707 20 is_stmt 1 discriminator 2 view .LVU3756
 11188 00f0 2021     		movs	r1, #32
 11189 00f2 01A8     		add	r0, sp, #4
 11190 00f4 FFF7FEFF 		bl	putc_bfd
 11191              	.LVL1255:
 11192              		.loc 1 4707 12 is_stmt 0 discriminator 1 view .LVU3757
 11193 00f8 2F46     		mov	r7, r5
 11194              	.LVL1256:
 11195              	.L835:
 11196              		.loc 1 4707 15 is_stmt 1 discriminator 1 view .LVU3758
 11197              		.loc 1 4707 12 is_stmt 0 discriminator 1 view .LVU3759
 11198 00fa 7D1C     		adds	r5, r7, #1
 11199              	.LVL1257:
 11200              		.loc 1 4707 15 discriminator 1 view .LVU3760
 11201 00fc A742     		cmp	r7, r4
 11202 00fe F7D3     		bcc	.L836
 11203 0100 85E0     		b	.L809
 11204              	.LVL1258:
 11205              	.L826:
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 11206              		.loc 1 4710 4 is_stmt 1 view .LVU3761
 11207              		.loc 1 4710 25 is_stmt 0 view .LVU3762
 11208 0102 199B     		ldr	r3, [sp, #100]
 11209              	.LVL1259:
 11210              		.loc 1 4710 25 view .LVU3763
 11211 0104 1A1D     		adds	r2, r3, #4
 11212              	.LVL1260:
 11213              		.loc 1 4710 25 view .LVU3764
 11214 0106 1992     		str	r2, [sp, #100]
 11215              		.loc 1 4710 4 discriminator 1 view .LVU3765
 11216 0108 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 11217              	.LVL1261:
ARM GAS  /tmp/ccLzcuV9.s 			page 333


 11218              		.loc 1 4710 4 discriminator 1 view .LVU3766
 11219 010a 01A8     		add	r0, sp, #4
 11220 010c FFF7FEFF 		bl	putc_bfd
 11221              	.LVL1262:
 11222              		.loc 1 4710 44 is_stmt 1 discriminator 2 view .LVU3767
 11223              		.loc 1 4710 44 is_stmt 0 view .LVU3768
 11224 0110 7DE0     		b	.L809
 11225              	.LVL1263:
 11226              	.L823:
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
4713:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
4715:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 11227              		.loc 1 4717 4 is_stmt 1 view .LVU3769
 11228              		.loc 1 4717 12 view .LVU3770
 11229              		.loc 1 4717 6 is_stmt 0 view .LVU3771
 11230 0112 0A20     		movs	r0, #10
 11231              	.LVL1264:
 11232              	.L825:
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
4720:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 11233              		.loc 1 4725 3 is_stmt 1 view .LVU3772
 11234              		.loc 1 4725 42 is_stmt 0 view .LVU3773
 11235 0114 15F0040F 		tst	r5, #4
 11236 0118 12D0     		beq	.L837
 11237              		.loc 1 4725 24 discriminator 1 view .LVU3774
 11238 011a 199A     		ldr	r2, [sp, #100]
 11239 011c 171D     		adds	r7, r2, #4
 11240 011e 1997     		str	r7, [sp, #100]
 11241 0120 1268     		ldr	r2, [r2]
 11242              	.LVL1265:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11243              		.loc 1 4726 3 is_stmt 1 view .LVU3775
 11244              		.loc 1 4726 6 is_stmt 0 view .LVU3776
 11245 0122 442B     		cmp	r3, #68
 11246 0124 17D0     		beq	.L838
 11247              	.LVL1266:
 11248              	.L839:
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 11249              		.loc 1 4730 3 is_stmt 1 view .LVU3777
 11250              		.loc 1 4730 5 is_stmt 0 view .LVU3778
 11251 0126 4FF0000C 		mov	ip, #0
 11252 012a 2AE0     		b	.L844
 11253              	.LVL1267:
 11254              	.L821:
ARM GAS  /tmp/ccLzcuV9.s 			page 334


4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11255              		.loc 1 4719 4 is_stmt 1 view .LVU3779
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11256              		.loc 1 4719 12 view .LVU3780
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11257              		.loc 1 4719 6 is_stmt 0 view .LVU3781
 11258 012c 1020     		movs	r0, #16
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 11259              		.loc 1 4719 12 view .LVU3782
 11260 012e F1E7     		b	.L825
 11261              	.LVL1268:
 11262              	.L820:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11263              		.loc 1 4721 4 is_stmt 1 view .LVU3783
 11264 0130 01A8     		add	r0, sp, #4
 11265 0132 FFF7FEFF 		bl	putc_bfd
 11266              	.LVL1269:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11267              		.loc 1 4721 22 discriminator 1 view .LVU3784
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11268              		.loc 1 4721 22 is_stmt 0 view .LVU3785
 11269 0136 6AE0     		b	.L809
 11270              	.LVL1270:
 11271              	.L827:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
 11272              		.loc 1 4699 3 view .LVU3786
 11273 0138 0220     		movs	r0, #2
 11274 013a EBE7     		b	.L825
 11275              	.L857:
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
 11276              		.loc 1 4714 6 view .LVU3787
 11277 013c 0820     		movs	r0, #8
 11278 013e E9E7     		b	.L825
 11279              	.LVL1271:
 11280              	.L837:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11281              		.loc 1 4725 88 discriminator 2 view .LVU3788
 11282 0140 442B     		cmp	r3, #68
 11283 0142 04D0     		beq	.L867
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11284              		.loc 1 4725 88 discriminator 5 view .LVU3789
 11285 0144 199B     		ldr	r3, [sp, #100]
 11286              	.LVL1272:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11287              		.loc 1 4725 88 discriminator 5 view .LVU3790
 11288 0146 1A1D     		adds	r2, r3, #4
 11289              	.LVL1273:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11290              		.loc 1 4725 88 discriminator 5 view .LVU3791
 11291 0148 1992     		str	r2, [sp, #100]
 11292 014a 1A68     		ldr	r2, [r3]
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11293              		.loc 1 4726 3 is_stmt 1 view .LVU3792
 11294 014c EBE7     		b	.L839
 11295              	.LVL1274:
 11296              	.L867:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
ARM GAS  /tmp/ccLzcuV9.s 			page 335


 11297              		.loc 1 4725 71 is_stmt 0 discriminator 4 view .LVU3793
 11298 014e 199B     		ldr	r3, [sp, #100]
 11299              	.LVL1275:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11300              		.loc 1 4725 71 discriminator 4 view .LVU3794
 11301 0150 1A1D     		adds	r2, r3, #4
 11302              	.LVL1276:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11303              		.loc 1 4725 71 discriminator 4 view .LVU3795
 11304 0152 1992     		str	r2, [sp, #100]
 11305 0154 1A68     		ldr	r2, [r3]
 11306              	.LVL1277:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11307              		.loc 1 4726 3 is_stmt 1 view .LVU3796
 11308              	.L838:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 11309              		.loc 1 4726 16 is_stmt 0 discriminator 1 view .LVU3797
 11310 0156 002A     		cmp	r2, #0
 11311 0158 E5DA     		bge	.L839
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 11312              		.loc 1 4727 4 is_stmt 1 view .LVU3798
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 11313              		.loc 1 4727 6 is_stmt 0 view .LVU3799
 11314 015a 5242     		rsbs	r2, r2, #0
 11315              	.LVL1278:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11316              		.loc 1 4728 4 is_stmt 1 view .LVU3800
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11317              		.loc 1 4728 6 is_stmt 0 view .LVU3801
 11318 015c 45F00805 		orr	r5, r5, #8
 11319              	.LVL1279:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11320              		.loc 1 4728 6 view .LVU3802
 11321 0160 E1E7     		b	.L839
 11322              	.LVL1280:
 11323              	.L868:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11324              		.loc 1 4733 17 discriminator 2 view .LVU3803
 11325 0162 2727     		movs	r7, #39
 11326              	.L842:
 11327              		.loc 1 4733 17 discriminator 5 view .LVU3804
 11328 0164 3B44     		add	r3, r3, r7
 11329              	.LVL1281:
 11330              		.loc 1 4733 17 discriminator 5 view .LVU3805
 11331 0166 DBB2     		uxtb	r3, r3
 11332              	.LVL1282:
 11333              	.L841:
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11334              		.loc 1 4734 4 is_stmt 1 view .LVU3806
 11335              		.loc 1 4734 7 is_stmt 0 view .LVU3807
 11336 0168 0CF10107 		add	r7, ip, #1
 11337              	.LVL1283:
 11338              		.loc 1 4734 15 view .LVU3808
 11339 016c 3033     		adds	r3, r3, #48
 11340              	.LVL1284:
ARM GAS  /tmp/ccLzcuV9.s 			page 336


 11341              		.loc 1 4734 11 view .LVU3809
 11342 016e 0CF16809 		add	r9, ip, #104
 11343 0172 E944     		add	r9, sp, r9
 11344 0174 09F8183C 		strb	r3, [r9, #-24]
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof s / sizeof s[0]);
 11345              		.loc 1 4735 14 is_stmt 1 view .LVU3810
 11346 0178 C645     		cmp	lr, r8
 11347 017a 10D8     		bhi	.L843
 11348              		.loc 1 4735 14 is_stmt 0 discriminator 1 view .LVU3811
 11349 017c 0F2F     		cmp	r7, #15
 11350 017e 0ED8     		bhi	.L843
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11351              		.loc 1 4734 7 view .LVU3812
 11352 0180 BC46     		mov	ip, r7
 11353              	.LVL1285:
 11354              	.L844:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11355              		.loc 1 4731 3 is_stmt 1 view .LVU3813
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11356              		.loc 1 4732 4 view .LVU3814
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11357              		.loc 1 4732 18 is_stmt 0 view .LVU3815
 11358 0182 8646     		mov	lr, r0
 11359 0184 B2FBF0F7 		udiv	r7, r2, r0
 11360 0188 00FB1723 		mls	r3, r0, r7, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11361              		.loc 1 4732 6 view .LVU3816
 11362 018c DBB2     		uxtb	r3, r3
 11363              	.LVL1286:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11364              		.loc 1 4732 24 is_stmt 1 view .LVU3817
 11365 018e 9046     		mov	r8, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 11366              		.loc 1 4732 26 is_stmt 0 view .LVU3818
 11367 0190 3A46     		mov	r2, r7
 11368              	.LVL1287:
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11369              		.loc 1 4733 4 is_stmt 1 view .LVU3819
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11370              		.loc 1 4733 7 is_stmt 0 view .LVU3820
 11371 0192 092B     		cmp	r3, #9
 11372 0194 E8D9     		bls	.L841
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11373              		.loc 1 4733 15 is_stmt 1 discriminator 1 view .LVU3821
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11374              		.loc 1 4733 17 is_stmt 0 discriminator 1 view .LVU3822
 11375 0196 7829     		cmp	r1, #120
 11376 0198 E3D0     		beq	.L868
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 11377              		.loc 1 4733 17 discriminator 3 view .LVU3823
 11378 019a 0727     		movs	r7, #7
 11379 019c E2E7     		b	.L842
 11380              	.LVL1288:
 11381              	.L843:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) s[i++] = '-';
 11382              		.loc 1 4736 3 is_stmt 1 view .LVU3824
 11383              		.loc 1 4736 6 is_stmt 0 view .LVU3825
ARM GAS  /tmp/ccLzcuV9.s 			page 337


 11384 019e 15F0080F 		tst	r5, #8
 11385 01a2 08D0     		beq	.L845
 11386              		.loc 1 4736 14 is_stmt 1 discriminator 1 view .LVU3826
 11387              	.LVL1289:
 11388              		.loc 1 4736 21 is_stmt 0 discriminator 1 view .LVU3827
 11389 01a4 07F16803 		add	r3, r7, #104
 11390              	.LVL1290:
 11391              		.loc 1 4736 21 discriminator 1 view .LVU3828
 11392 01a8 0DEB0307 		add	r7, sp, r3
 11393 01ac 2D23     		movs	r3, #45
 11394 01ae 07F8183C 		strb	r3, [r7, #-24]
 11395              		.loc 1 4736 17 discriminator 1 view .LVU3829
 11396 01b2 0CF10207 		add	r7, ip, #2
 11397              	.LVL1291:
 11398              	.L845:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11399              		.loc 1 4737 3 is_stmt 1 view .LVU3830
 11400              		.loc 1 4737 10 view .LVU3831
 11401              		.loc 1 4737 12 is_stmt 0 view .LVU3832
 11402 01b6 15F0010F 		tst	r5, #1
 11403 01ba 0FD0     		beq	.L860
 11404              		.loc 1 4737 12 discriminator 1 view .LVU3833
 11405 01bc 4FF0300A 		mov	r10, #48
 11406              	.L846:
 11407              	.LVL1292:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 11408              		.loc 1 4738 3 is_stmt 1 view .LVU3834
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11409              		.loc 1 4737 5 is_stmt 0 view .LVU3835
 11410 01c0 B846     		mov	r8, r7
 11411              	.LVL1293:
 11412              	.L847:
 11413              		.loc 1 4738 19 is_stmt 1 discriminator 1 view .LVU3836
 11414 01c2 15F0020F 		tst	r5, #2
 11415 01c6 0DD1     		bne	.L850
 11416              		.loc 1 4738 23 is_stmt 0 discriminator 2 view .LVU3837
 11417 01c8 08F10109 		add	r9, r8, #1
 11418              	.LVL1294:
 11419              		.loc 1 4738 19 discriminator 2 view .LVU3838
 11420 01cc A045     		cmp	r8, r4
 11421 01ce 08D2     		bcs	.L869
 11422              		.loc 1 4738 31 is_stmt 1 discriminator 3 view .LVU3839
 11423 01d0 5146     		mov	r1, r10
 11424 01d2 01A8     		add	r0, sp, #4
 11425 01d4 FFF7FEFF 		bl	putc_bfd
 11426              	.LVL1295:
 11427              		.loc 1 4738 23 is_stmt 0 discriminator 2 view .LVU3840
 11428 01d8 C846     		mov	r8, r9
 11429 01da F2E7     		b	.L847
 11430              	.LVL1296:
 11431              	.L860:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 11432              		.loc 1 4737 12 discriminator 2 view .LVU3841
 11433 01dc 4FF0200A 		mov	r10, #32
 11434 01e0 EEE7     		b	.L846
 11435              	.LVL1297:
 11436              	.L869:
ARM GAS  /tmp/ccLzcuV9.s 			page 338


 11437              		.loc 1 4738 23 discriminator 2 view .LVU3842
 11438 01e2 C846     		mov	r8, r9
 11439              	.LVL1298:
 11440              	.L850:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		do putc_bfd(&pb, s[--i]); while (i);
 11441              		.loc 1 4739 3 is_stmt 1 discriminator 1 view .LVU3843
 11442              		.loc 1 4739 6 discriminator 1 view .LVU3844
 11443 01e4 013F     		subs	r7, r7, #1
 11444              	.LVL1299:
 11445              		.loc 1 4739 6 is_stmt 0 discriminator 1 view .LVU3845
 11446 01e6 07F16803 		add	r3, r7, #104
 11447 01ea 6B44     		add	r3, sp, r3
 11448 01ec 13F8181C 		ldrb	r1, [r3, #-24]	@ zero_extendqisi2
 11449 01f0 01A8     		add	r0, sp, #4
 11450 01f2 FFF7FEFF 		bl	putc_bfd
 11451              	.LVL1300:
 11452              		.loc 1 4739 36 is_stmt 1 discriminator 1 view .LVU3846
 11453 01f6 002F     		cmp	r7, #0
 11454 01f8 F4D1     		bne	.L850
 11455              		.loc 1 4739 36 is_stmt 0 discriminator 1 view .LVU3847
 11456 01fa 04E0     		b	.L851
 11457              	.LVL1301:
 11458              	.L852:
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 11459              		.loc 1 4740 19 is_stmt 1 discriminator 2 view .LVU3848
 11460 01fc 5146     		mov	r1, r10
 11461 01fe 01A8     		add	r0, sp, #4
 11462 0200 FFF7FEFF 		bl	putc_bfd
 11463              	.LVL1302:
 11464              		.loc 1 4740 11 is_stmt 0 discriminator 1 view .LVU3849
 11465 0204 A846     		mov	r8, r5
 11466              	.LVL1303:
 11467              	.L851:
 11468              		.loc 1 4740 14 is_stmt 1 discriminator 1 view .LVU3850
 11469              		.loc 1 4740 11 is_stmt 0 discriminator 1 view .LVU3851
 11470 0206 08F10105 		add	r5, r8, #1
 11471              	.LVL1304:
 11472              		.loc 1 4740 14 discriminator 1 view .LVU3852
 11473 020a A045     		cmp	r8, r4
 11474 020c F6D3     		bcc	.L852
 11475              	.LVL1305:
 11476              	.L809:
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11477              		.loc 1 4673 2 is_stmt 1 view .LVU3853
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11478              		.loc 1 4674 3 view .LVU3854
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11479              		.loc 1 4674 11 is_stmt 0 view .LVU3855
 11480 020e 3446     		mov	r4, r6
 11481              	.LVL1306:
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11482              		.loc 1 4674 5 view .LVU3856
 11483 0210 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 11484              	.LVL1307:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 11485              		.loc 1 4675 3 is_stmt 1 view .LVU3857
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
ARM GAS  /tmp/ccLzcuV9.s 			page 339


 11486              		.loc 1 4675 6 is_stmt 0 view .LVU3858
 11487 0214 39B1     		cbz	r1, .L810
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 11488              		.loc 1 4676 3 is_stmt 1 view .LVU3859
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 11489              		.loc 1 4676 6 is_stmt 0 view .LVU3860
 11490 0216 2529     		cmp	r1, #37
 11491 0218 3FF4FFAE 		beq	.L811
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 11492              		.loc 1 4677 4 is_stmt 1 view .LVU3861
 11493 021c 01A8     		add	r0, sp, #4
 11494 021e FFF7FEFF 		bl	putc_bfd
 11495              	.LVL1308:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11496              		.loc 1 4678 4 view .LVU3862
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11497              		.loc 1 4674 11 is_stmt 0 view .LVU3863
 11498 0222 2646     		mov	r6, r4
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11499              		.loc 1 4678 4 view .LVU3864
 11500 0224 F3E7     		b	.L809
 11501              	.LVL1309:
 11502              	.L810:
4741:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 
4743:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 11503              		.loc 1 4743 2 is_stmt 1 view .LVU3865
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 11504              		.loc 1 4745 2 view .LVU3866
 11505              		.loc 1 4745 11 is_stmt 0 view .LVU3867
 11506 0226 029A     		ldr	r2, [sp, #8]
 11507              		.loc 1 4745 5 view .LVU3868
 11508 0228 002A     		cmp	r2, #0
 11509 022a 0FDB     		blt	.L861
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 11510              		.loc 1 4746 6 view .LVU3869
 11511 022c 18AB     		add	r3, sp, #96
 11512 022e 04A9     		add	r1, sp, #16
 11513              	.LVL1310:
 11514              		.loc 1 4746 6 view .LVU3870
 11515 0230 0198     		ldr	r0, [sp, #4]
 11516 0232 FFF7FEFF 		bl	f_write
 11517              	.LVL1311:
 11518              		.loc 1 4746 3 discriminator 1 view .LVU3871
 11519 0236 60B9     		cbnz	r0, .L862
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 11520              		.loc 1 4747 3 view .LVU3872
 11521 0238 029A     		ldr	r2, [sp, #8]
 11522 023a 189B     		ldr	r3, [sp, #96]
 11523 023c 9A42     		cmp	r2, r3
 11524 023e 0BD1     		bne	.L863
 11525              		.loc 1 4747 26 is_stmt 1 discriminator 1 view .LVU3873
 11526              		.loc 1 4747 35 is_stmt 0 discriminator 1 view .LVU3874
 11527 0240 0398     		ldr	r0, [sp, #12]
 11528              	.L808:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
ARM GAS  /tmp/ccLzcuV9.s 			page 340


4749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11529              		.loc 1 4749 1 view .LVU3875
 11530 0242 1BB0     		add	sp, sp, #108
 11531              	.LCFI125:
 11532              		.cfi_remember_state
 11533              		.cfi_def_cfa_offset 44
 11534              		@ sp needed
 11535 0244 BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 11536              	.LCFI126:
 11537              		.cfi_restore 14
 11538              		.cfi_restore 10
 11539              		.cfi_restore 9
 11540              		.cfi_restore 8
 11541              		.cfi_restore 7
 11542              		.cfi_restore 6
 11543              		.cfi_restore 5
 11544              		.cfi_restore 4
 11545              		.cfi_def_cfa_offset 12
 11546 0248 03B0     		add	sp, sp, #12
 11547              	.LCFI127:
 11548              		.cfi_restore 3
 11549              		.cfi_restore 2
 11550              		.cfi_restore 1
 11551              		.cfi_def_cfa_offset 0
 11552 024a 7047     		bx	lr
 11553              	.LVL1312:
 11554              	.L861:
 11555              	.LCFI128:
 11556              		.cfi_restore_state
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11557              		.loc 1 4748 9 view .LVU3876
 11558 024c 4FF0FF30 		mov	r0, #-1
 11559 0250 F7E7     		b	.L808
 11560              	.LVL1313:
 11561              	.L862:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11562              		.loc 1 4748 9 view .LVU3877
 11563 0252 4FF0FF30 		mov	r0, #-1
 11564 0256 F4E7     		b	.L808
 11565              	.L863:
 11566 0258 4FF0FF30 		mov	r0, #-1
 11567 025c F1E7     		b	.L808
 11568              		.cfi_endproc
 11569              	.LFE122:
 11571              		.section	.rodata.cst.0,"a"
 11572              		.align	2
 11575              	cst.0:
 11576 0000 0080     		.short	-32768
 11577 0002 0040     		.short	16384
 11578 0004 0020     		.short	8192
 11579 0006 0010     		.short	4096
 11580 0008 0008     		.short	2048
 11581 000a 0040     		.short	16384
 11582 000c 0020     		.short	8192
 11583 000e 0010     		.short	4096
 11584 0010 0008     		.short	2048
 11585 0012 0004     		.short	1024
ARM GAS  /tmp/ccLzcuV9.s 			page 341


 11586 0014 0002     		.short	512
 11587              		.section	.rodata.vst.1,"a"
 11588              		.align	2
 11591              	vst.1:
 11592 0000 0004     		.short	1024
 11593 0002 0002     		.short	512
 11594 0004 0001     		.short	256
 11595 0006 8000     		.short	128
 11596 0008 4000     		.short	64
 11597 000a 2000     		.short	32
 11598 000c 1000     		.short	16
 11599 000e 0800     		.short	8
 11600 0010 0400     		.short	4
 11601 0012 0200     		.short	2
 11602 0014 0000     		.short	0
 11603              		.section	.bss.Files,"aw",%nobits
 11604              		.align	2
 11607              	Files:
 11608 0000 00000000 		.space	24
 11608      00000000 
 11608      00000000 
 11608      00000000 
 11608      00000000 
 11609              		.section	.bss.Fsid,"aw",%nobits
 11610              		.align	1
 11613              	Fsid:
 11614 0000 0000     		.space	2
 11615              		.section	.bss.FatFs,"aw",%nobits
 11616              		.align	2
 11619              	FatFs:
 11620 0000 00000000 		.space	4
 11621              		.text
 11622              	.Letext0:
 11623              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 11624              		.file 3 "Middlewares/Third_Party/FatFs/src/ff.h"
 11625              		.file 4 "Middlewares/Third_Party/FatFs/src/diskio.h"
 11626              		.file 5 "/usr/lib/gcc/arm-none-eabi/13.3.1/include/stdarg.h"
 11627              		.file 6 "<built-in>"
ARM GAS  /tmp/ccLzcuV9.s 			page 342


DEFINED SYMBOLS
                            *ABS*:00000000 ff.c
     /tmp/ccLzcuV9.s:19     .text.mem_cpy:00000000 $t
     /tmp/ccLzcuV9.s:24     .text.mem_cpy:00000000 mem_cpy
     /tmp/ccLzcuV9.s:63     .text.mem_set:00000000 $t
     /tmp/ccLzcuV9.s:68     .text.mem_set:00000000 mem_set
     /tmp/ccLzcuV9.s:103    .text.mem_cmp:00000000 $t
     /tmp/ccLzcuV9.s:108    .text.mem_cmp:00000000 mem_cmp
     /tmp/ccLzcuV9.s:161    .text.chk_chr:00000000 $t
     /tmp/ccLzcuV9.s:166    .text.chk_chr:00000000 chk_chr
     /tmp/ccLzcuV9.s:202    .text.chk_lock:00000000 $t
     /tmp/ccLzcuV9.s:207    .text.chk_lock:00000000 chk_lock
     /tmp/ccLzcuV9.s:355    .text.chk_lock:00000088 $d
     /tmp/ccLzcuV9.s:11607  .bss.Files:00000000 Files
     /tmp/ccLzcuV9.s:360    .text.enq_lock:00000000 $t
     /tmp/ccLzcuV9.s:365    .text.enq_lock:00000000 enq_lock
     /tmp/ccLzcuV9.s:410    .text.enq_lock:00000020 $d
     /tmp/ccLzcuV9.s:415    .text.inc_lock:00000000 $t
     /tmp/ccLzcuV9.s:420    .text.inc_lock:00000000 inc_lock
     /tmp/ccLzcuV9.s:587    .text.inc_lock:000000c8 $d
     /tmp/ccLzcuV9.s:592    .text.dec_lock:00000000 $t
     /tmp/ccLzcuV9.s:597    .text.dec_lock:00000000 dec_lock
     /tmp/ccLzcuV9.s:681    .text.dec_lock:00000048 $d
     /tmp/ccLzcuV9.s:686    .text.clear_lock:00000000 $t
     /tmp/ccLzcuV9.s:691    .text.clear_lock:00000000 clear_lock
     /tmp/ccLzcuV9.s:769    .text.clear_lock:00000040 $d
     /tmp/ccLzcuV9.s:774    .text.clmt_clust:00000000 $t
     /tmp/ccLzcuV9.s:779    .text.clmt_clust:00000000 clmt_clust
     /tmp/ccLzcuV9.s:844    .text.ld_clust:00000000 $t
     /tmp/ccLzcuV9.s:849    .text.ld_clust:00000000 ld_clust
     /tmp/ccLzcuV9.s:897    .text.st_clust:00000000 $t
     /tmp/ccLzcuV9.s:902    .text.st_clust:00000000 st_clust
     /tmp/ccLzcuV9.s:929    .text.get_fileinfo:00000000 $t
     /tmp/ccLzcuV9.s:934    .text.get_fileinfo:00000000 get_fileinfo
     /tmp/ccLzcuV9.s:1076   .rodata.create_name.str1.4:00000000 $d
     /tmp/ccLzcuV9.s:1080   .text.create_name:00000000 $t
     /tmp/ccLzcuV9.s:1085   .text.create_name:00000000 create_name
     /tmp/ccLzcuV9.s:1382   .text.create_name:00000108 $d
     /tmp/ccLzcuV9.s:1387   .text.get_ldnumber:00000000 $t
     /tmp/ccLzcuV9.s:1392   .text.get_ldnumber:00000000 get_ldnumber
     /tmp/ccLzcuV9.s:1518   .text.sync_window:00000000 $t
     /tmp/ccLzcuV9.s:1523   .text.sync_window:00000000 sync_window
     /tmp/ccLzcuV9.s:1628   .text.move_window:00000000 $t
     /tmp/ccLzcuV9.s:1633   .text.move_window:00000000 move_window
     /tmp/ccLzcuV9.s:1705   .text.check_fs:00000000 $t
     /tmp/ccLzcuV9.s:1710   .text.check_fs:00000000 check_fs
     /tmp/ccLzcuV9.s:1799   .text.check_fs:00000088 $d
     /tmp/ccLzcuV9.s:1805   .text.validate:00000000 $t
     /tmp/ccLzcuV9.s:1810   .text.validate:00000000 validate
     /tmp/ccLzcuV9.s:1878   .text.find_volume:00000000 $t
     /tmp/ccLzcuV9.s:1883   .text.find_volume:00000000 find_volume
     /tmp/ccLzcuV9.s:2401   .text.find_volume:00000298 $d
     /tmp/ccLzcuV9.s:11619  .bss.FatFs:00000000 FatFs
     /tmp/ccLzcuV9.s:11613  .bss.Fsid:00000000 Fsid
     /tmp/ccLzcuV9.s:2406   .text.find_volume:000002a0 $t
     /tmp/ccLzcuV9.s:2607   .text.find_volume:000003a0 $d
     /tmp/ccLzcuV9.s:2614   .text.sync_fs:00000000 $t
ARM GAS  /tmp/ccLzcuV9.s 			page 343


     /tmp/ccLzcuV9.s:2619   .text.sync_fs:00000000 sync_fs
     /tmp/ccLzcuV9.s:2756   .text.clust2sect:00000000 $t
     /tmp/ccLzcuV9.s:2762   .text.clust2sect:00000000 clust2sect
     /tmp/ccLzcuV9.s:2802   .text.get_fat:00000000 $t
     /tmp/ccLzcuV9.s:2808   .text.get_fat:00000000 get_fat
     /tmp/ccLzcuV9.s:3043   .text.dir_sdi:00000000 $t
     /tmp/ccLzcuV9.s:3048   .text.dir_sdi:00000000 dir_sdi
     /tmp/ccLzcuV9.s:3251   .text.dir_remove:00000000 $t
     /tmp/ccLzcuV9.s:3256   .text.dir_remove:00000000 dir_remove
     /tmp/ccLzcuV9.s:3328   .text.put_fat:00000000 $t
     /tmp/ccLzcuV9.s:3334   .text.put_fat:00000000 put_fat
     /tmp/ccLzcuV9.s:3598   .text.create_chain:00000000 $t
     /tmp/ccLzcuV9.s:3603   .text.create_chain:00000000 create_chain
     /tmp/ccLzcuV9.s:3829   .text.dir_next:00000000 $t
     /tmp/ccLzcuV9.s:3834   .text.dir_next:00000000 dir_next
     /tmp/ccLzcuV9.s:4132   .text.dir_find:00000000 $t
     /tmp/ccLzcuV9.s:4137   .text.dir_find:00000000 dir_find
     /tmp/ccLzcuV9.s:4234   .text.follow_path:00000000 $t
     /tmp/ccLzcuV9.s:4239   .text.follow_path:00000000 follow_path
     /tmp/ccLzcuV9.s:4396   .text.dir_alloc:00000000 $t
     /tmp/ccLzcuV9.s:4401   .text.dir_alloc:00000000 dir_alloc
     /tmp/ccLzcuV9.s:4510   .text.dir_register:00000000 $t
     /tmp/ccLzcuV9.s:4515   .text.dir_register:00000000 dir_register
     /tmp/ccLzcuV9.s:4587   .text.dir_read:00000000 $t
     /tmp/ccLzcuV9.s:4592   .text.dir_read:00000000 dir_read
     /tmp/ccLzcuV9.s:4711   .text.remove_chain:00000000 $t
     /tmp/ccLzcuV9.s:4716   .text.remove_chain:00000000 remove_chain
     /tmp/ccLzcuV9.s:4842   .text.f_mount:00000000 $t
     /tmp/ccLzcuV9.s:4848   .text.f_mount:00000000 f_mount
     /tmp/ccLzcuV9.s:4964   .text.f_mount:0000005c $d
     /tmp/ccLzcuV9.s:4969   .text.f_open:00000000 $t
     /tmp/ccLzcuV9.s:4975   .text.f_open:00000000 f_open
     /tmp/ccLzcuV9.s:5386   .text.f_read:00000000 $t
     /tmp/ccLzcuV9.s:5392   .text.f_read:00000000 f_read
     /tmp/ccLzcuV9.s:5788   .text.f_write:00000000 $t
     /tmp/ccLzcuV9.s:5794   .text.f_write:00000000 f_write
     /tmp/ccLzcuV9.s:6249   .text.putc_bfd:00000000 $t
     /tmp/ccLzcuV9.s:6254   .text.putc_bfd:00000000 putc_bfd
     /tmp/ccLzcuV9.s:6366   .text.f_sync:00000000 $t
     /tmp/ccLzcuV9.s:6372   .text.f_sync:00000000 f_sync
     /tmp/ccLzcuV9.s:6523   .text.f_close:00000000 $t
     /tmp/ccLzcuV9.s:6529   .text.f_close:00000000 f_close
     /tmp/ccLzcuV9.s:6586   .text.f_lseek:00000000 $t
     /tmp/ccLzcuV9.s:6592   .text.f_lseek:00000000 f_lseek
     /tmp/ccLzcuV9.s:7291   .text.f_opendir:00000000 $t
     /tmp/ccLzcuV9.s:7297   .text.f_opendir:00000000 f_opendir
     /tmp/ccLzcuV9.s:7475   .text.f_closedir:00000000 $t
     /tmp/ccLzcuV9.s:7481   .text.f_closedir:00000000 f_closedir
     /tmp/ccLzcuV9.s:7535   .text.f_readdir:00000000 $t
     /tmp/ccLzcuV9.s:7541   .text.f_readdir:00000000 f_readdir
     /tmp/ccLzcuV9.s:7662   .text.f_stat:00000000 $t
     /tmp/ccLzcuV9.s:7668   .text.f_stat:00000000 f_stat
     /tmp/ccLzcuV9.s:7763   .text.f_getfree:00000000 $t
     /tmp/ccLzcuV9.s:7769   .text.f_getfree:00000000 f_getfree
     /tmp/ccLzcuV9.s:8049   .text.f_truncate:00000000 $t
     /tmp/ccLzcuV9.s:8055   .text.f_truncate:00000000 f_truncate
     /tmp/ccLzcuV9.s:8286   .text.f_unlink:00000000 $t
ARM GAS  /tmp/ccLzcuV9.s 			page 344


     /tmp/ccLzcuV9.s:8292   .text.f_unlink:00000000 f_unlink
     /tmp/ccLzcuV9.s:8511   .text.f_mkdir:00000000 $t
     /tmp/ccLzcuV9.s:8517   .text.f_mkdir:00000000 f_mkdir
     /tmp/ccLzcuV9.s:8870   .text.f_chmod:00000000 $t
     /tmp/ccLzcuV9.s:8876   .text.f_chmod:00000000 f_chmod
     /tmp/ccLzcuV9.s:8988   .text.f_rename:00000000 $t
     /tmp/ccLzcuV9.s:8994   .text.f_rename:00000000 f_rename
     /tmp/ccLzcuV9.s:9279   .text.f_utime:00000000 $t
     /tmp/ccLzcuV9.s:9285   .text.f_utime:00000000 f_utime
     /tmp/ccLzcuV9.s:9397   .rodata.f_mkfs.str1.4:00000000 $d
     /tmp/ccLzcuV9.s:9407   .text.f_mkfs:00000000 $t
     /tmp/ccLzcuV9.s:9413   .text.f_mkfs:00000000 f_mkfs
     /tmp/ccLzcuV9.s:9973   .text.f_mkfs:00000280 $d
     /tmp/ccLzcuV9.s:11591  .rodata.vst.1:00000000 vst.1
     /tmp/ccLzcuV9.s:11575  .rodata.cst.0:00000000 cst.0
     /tmp/ccLzcuV9.s:9981   .text.f_mkfs:00000294 $t
     /tmp/ccLzcuV9.s:10590  .text.f_mkfs:000005f8 $d
     /tmp/ccLzcuV9.s:10598  .text.f_gets:00000000 $t
     /tmp/ccLzcuV9.s:10604  .text.f_gets:00000000 f_gets
     /tmp/ccLzcuV9.s:10724  .text.f_putc:00000000 $t
     /tmp/ccLzcuV9.s:10730  .text.f_putc:00000000 f_putc
     /tmp/ccLzcuV9.s:10811  .text.f_puts:00000000 $t
     /tmp/ccLzcuV9.s:10817  .text.f_puts:00000000 f_puts
     /tmp/ccLzcuV9.s:10910  .text.f_printf:00000000 $t
     /tmp/ccLzcuV9.s:10916  .text.f_printf:00000000 f_printf
     /tmp/ccLzcuV9.s:11083  .text.f_printf:0000008c $d
     /tmp/ccLzcuV9.s:11572  .rodata.cst.0:00000000 $d
     /tmp/ccLzcuV9.s:11588  .rodata.vst.1:00000000 $d
     /tmp/ccLzcuV9.s:11604  .bss.Files:00000000 $d
     /tmp/ccLzcuV9.s:11610  .bss.Fsid:00000000 $d
     /tmp/ccLzcuV9.s:11616  .bss.FatFs:00000000 $d
     /tmp/ccLzcuV9.s:11107  .text.f_printf:000000a3 $d
     /tmp/ccLzcuV9.s:11107  .text.f_printf:000000a4 $t

UNDEFINED SYMBOLS
disk_write
disk_read
disk_status
disk_initialize
disk_ioctl
get_fattime
