ARM GAS  /tmp/cc3mRTku.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f1xx_hal_sd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c"
  18              		.section	.text.SD_DMATransmitCplt,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	SD_DMATransmitCplt:
  25              	.LVL0:
  26              	.LFB92:
   1:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
   2:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @file    stm32f1xx_hal_sd.c
   4:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *
  13:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ******************************************************************************
  14:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @attention
  15:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *
  16:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * Copyright (c) 2016 STMicroelectronics.
  17:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * All rights reserved.
  18:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *
  19:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * in the root directory of this software component.
  21:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *
  23:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ******************************************************************************
  24:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   @verbatim
  25:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
  26:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                         ##### How to use this driver #####
  27:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
  28:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
  29:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDIO and GPIO) are performed by
  31:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
  32:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
ARM GAS  /tmp/cc3mRTku.s 			page 2


  33:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     examples.
  34:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  36:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
  37:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This driver is a generic layered driver for SDIO memories which uses the HAL
  38:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     SDIO driver functions to interface with SD and uSD cards devices.
  39:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     It is used as follows:
  40:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  41:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#)Initialize the SDIO low level resources by implementing the HAL_SD_MspInit() API:
  42:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         (##) Enable the SDIO interface clock using __HAL_RCC_SDIO_CLK_ENABLE();
  43:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         (##) SDIO pins configuration for SD card
  44:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Enable the clock for the SDIO GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENABL
  45:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Configure these SDIO pins as alternate function pull-up using HAL_GPIO_Init()
  46:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                   and according to your pin assignment;
  47:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         (##) DMA configuration if you need to use DMA process (HAL_SD_ReadBlocks_DMA()
  48:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  49:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE();
  50:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled.
  51:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  52:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Configure the SDIO and DMA interrupt priorities using functions
  53:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDIO's priority
  54:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDIO IRQs using function HAL_NVIC_EnableIRQ()
  55:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  56:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  57:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  58:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  59:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  60:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  61:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Configure the SDIO interrupt priorities using function HAL_NVIC_SetPriority();
  62:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) Enable the NVIC SDIO IRQs using function HAL_NVIC_EnableIRQ()
  63:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  64:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  65:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  66:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  67:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  68:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  69:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  70:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  71:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ================================================
  72:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
  73:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  74:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     SDIO Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tran
  75:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This function provide the following operations:
  76:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  77:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  78:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  79:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  80:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         The SD Card frequency (SDIO_CK) is computed as follows:
  81:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  82:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****            SDIO_CK = SDIOCLK / (ClockDiv + 2)
  83:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  84:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  85:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         make sure that the SDIO_CK frequency doesn't exceed 400KHz.
  86:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  87:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This phase of initialization is done through SDIO_Init() and
  88:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         SDIO_PowerState_ON() SDIO low level APIs.
  89:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 3


  90:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  91:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This phase allows the card initialization and identification
  92:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  93:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  94:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  95:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
  96:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         of plug-off plug-in.
  97:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
  98:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
  99:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
 100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
 101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         SDIO_CK frequency doesn't exceed 25MHz and 50MHz in High-speed mode switch.
 102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         To be able to use a frequency higher than 24MHz, you should use the SDIO
 103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         peripheral in bypass mode. Refer to the corresponding reference manual
 104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         for more details.
 105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
 107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
 109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD Card Read operation ***
 111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================
 112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         chosen as 512 bytes).
 116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         chosen as 512 bytes).
 124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         chosen as 512 bytes).
 133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD Card Write operation ***
 140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ===============================
 141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         chosen as 512 bytes).
 145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
ARM GAS  /tmp/cc3mRTku.s 			page 4


 147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         chosen as 512 bytes).
 153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         chosen as 512 bytes).
 162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD card status ***
 169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ======================
 170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD card information ***
 175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ===========================
 176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         block number ...
 180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD card CSD register ***
 182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ============================
 183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD card CID register ***
 187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ============================
 188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** SD HAL driver macros list ***
 192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==================================
 193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_ENABLE : Enable the SD device
 197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_DISABLE : Disable the SD device
 198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_DMA_ENABLE: Enable the SDIO DMA transfer
 199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_DMA_DISABLE: Disable the SDIO DMA transfer
 200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
 201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
ARM GAS  /tmp/cc3mRTku.s 			page 5


 204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *** Callback registration ***
 208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   =============================================
 209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Use Functions HAL_SD_RegisterCallback() to register a user callback,
 214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     it allows to register following callbacks:
 215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     and a pointer to the user callback function.
 223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Use function HAL_SD_UnRegisterCallback() to reset a callback to the default
 225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     By default, after the HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the HAL_SD_Init
 238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     and  HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the HAL_SD_Init and HAL_SD_DeInit
 240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     during the Init/DeInit.
 246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     using HAL_SD_RegisterCallback before calling HAL_SD_DeInit
 248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     or HAL_SD_Init function.
 249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     not defined, the callback registering feature is not available
 252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   @endverbatim
 255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ******************************************************************************
 256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #include "stm32f1xx_hal.h"
 260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 6


 261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined(SDIO)
 262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup STM32F1xx_HAL_Driver
 264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD
 268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @}
 281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd);
 291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd);
 292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);
 297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd);
 298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd);
 299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd);
 300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMAError(DMA_HandleTypeDef *hdma);
 303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMATxAbort(DMA_HandleTypeDef *hdma);
 304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMARxAbort(DMA_HandleTypeDef *hdma);
 305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @}
 307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions
 316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****  *
 317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** @verbatim
ARM GAS  /tmp/cc3mRTku.s 			page 7


 318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
 319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
 321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
 322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     card device to be ready for use.
 324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** @endverbatim
 326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
 333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
 334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the SD handle allocation */
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd == NULL)
 339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the parameters */
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_ALL_INSTANCE(hsd->Instance));
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_EDGE(hsd->Init.ClockEdge));
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_BYPASS(hsd->Init.ClockBypass));
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_BUS_WIDE(hsd->Init.BusWide));
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLKDIV(hsd->Init.ClockDiv));
 351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_RESET)
 353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
 356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
 359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->MspInitCallback == NULL)
 364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Init the low level hardware */
 369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
 371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
 373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
ARM GAS  /tmp/cc3mRTku.s 			page 8


 375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Initialize the Card parameters */
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
 380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Initialize the error code */
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Initialize the SD operation */
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Initialize the SD state */
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             re-initialization is needed.
 401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
 402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_InitTypeDef Init;
 407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   
 408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Default SDIO peripheral configuration for SD card initialization */
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockEdge           = SDIO_CLOCK_EDGE_RISING;
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.BusWide             = SDIO_BUS_WIDE_1B;
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockDiv            = SDIO_INIT_CLK_DIV;
 415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Initialize SDIO peripheral interface with default configuration */
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_Init(hsd->Instance, Init);
 418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Disable SDIO Clock */
 420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_DISABLE(hsd);
 421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set Power State to ON */
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_PowerState_ON(hsd->Instance);
 424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Enable SDIO Clock */
 426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_ENABLE(hsd);
 427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Required power up waiting time before starting the SD initialization  sequence */
 429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_Delay(2);
 430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Identify card operating voltage */
ARM GAS  /tmp/cc3mRTku.s 			page 9


 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Card initialization */
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set Block Size for Card */
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
 461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
 467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the SD handle allocation */
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd == NULL)
 472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the parameters */
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_ALL_INSTANCE(hsd->Instance));
 478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set SD power state to off */
 482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_PowerOFF(hsd);
 483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->MspDeInitCallback == NULL)
 486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
ARM GAS  /tmp/cc3mRTku.s 			page 10


 489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* DeInit the low level hardware */
 491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
 493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
 508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   UNUSED(hsd);
 513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****    */
 517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
 523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   UNUSED(hsd);
 528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****    */
 532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @}
 536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****  *  @brief   Data transfer functions
 540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****  *
 541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** @verbatim
 542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
 543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                         ##### IO operation functions #####
 544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
 545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
ARM GAS  /tmp/cc3mRTku.s 			page 11


 546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     transfer from/to SD card.
 548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** @endverbatim
 550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
 551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         is managed by polling mode.
 556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the received data
 560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read
 562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
 564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(NULL == pData)
 575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Initialize data control register */
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       add *= 512U;
 598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
ARM GAS  /tmp/cc3mRTku.s 			page 12


 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Read block(s) in polling mode */
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Read Multi Block command */
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
 618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Read Single Block command */
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Poll on SDIO flags */
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     dataremaining = config.DataLength;
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDI
 637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF) && (dataremaining > 0U))
 639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data = SDIO_ReadFIFO(hsd->Instance);
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
ARM GAS  /tmp/cc3mRTku.s 			page 13


 660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Clear all the static flags */
 662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_TIMEOUT;
 667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     
 670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
 674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Send stop transmission command */
 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           /* Clear all the static flags */
 680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           return HAL_ERROR;
 685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Get error state */
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT) || (__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_STBITERR)))
 691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
ARM GAS  /tmp/cc3mRTku.s 			page 14


 717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
 718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Nothing to do */
 720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Empty FIFO if there is still any data */
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while ((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (dataremaining > 0U))
 724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data = SDIO_ReadFIFO(hsd->Instance);
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Clear all the static flags */
 742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
 751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
 752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_OK;
 756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
 758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         transfer is managed by polling mode.
 767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
 772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write
 773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
ARM GAS  /tmp/cc3mRTku.s 			page 15


 774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
 775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(NULL == pData)
 786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Initialize data control register */
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       add *= 512U;
 809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Write Multi Block command */
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
 829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
ARM GAS  /tmp/cc3mRTku.s 			page 16


 831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Write Single Block command */
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Write block(s) in polling mode */
 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     dataremaining = config.DataLength;
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SD
 848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE) && (dataremaining > 0U))
 850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Write data to SDIO Tx FIFO */
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           (void)SDIO_WriteFIFO(hsd->Instance, &data);
 867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Clear all the static flags */
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_TIMEOUT;
 878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
 885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Send stop transmission command */
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
ARM GAS  /tmp/cc3mRTku.s 			page 17


 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           /* Clear all the static flags */
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           return HAL_ERROR;
 896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Get error state */
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT) || (__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_STBITERR)))
 902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR))
 920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
 922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
 929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Nothing to do */
 931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
 934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
 935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_OK;
 939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
 941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
ARM GAS  /tmp/cc3mRTku.s 			page 18


 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
 948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         is managed in interrupt mode.
 950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
 953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         interrupt event.
 954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
 956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
 958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
 959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
 960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, ui
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(NULL == pData)
 967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Initialize data control register */
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DATAEN
 991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       add *= 512U;
 995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
ARM GAS  /tmp/cc3mRTku.s 			page 19


1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
1005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Read Blocks in IT mode */
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Read Multi Block command */
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
1017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Read Single Block command */
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_OK;
1032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_BUSY;
1036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         is managed in interrupt mode.
1042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         interrupt event.
1046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
1051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
1055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
1056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
1057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(NULL == pData)
ARM GAS  /tmp/cc3mRTku.s 			page 20


1059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
1062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Initialize data control register */
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Enable transfer interrupts */
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR | SDIO_IT_DATAE
1084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       add *= 512U;
1088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK| SD_CONTEXT_IT);
1094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Write Multi Block command */
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
1101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Write Single Block command */
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
1108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
ARM GAS  /tmp/cc3mRTku.s 			page 21


1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
1123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_OK;
1125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_BUSY;
1129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         is managed by DMA mode.
1135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         interrupt event.
1139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer SD handle
1140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
1144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
1148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
1149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
1150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(NULL == pData)
1152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
1155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Initialize data control register */
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DATAEN
ARM GAS  /tmp/cc3mRTku.s 			page 22


1173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmarx->XferCpltCallback = SD_DMAReceiveCplt;
1176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set the DMA error callback */
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmarx->XferErrorCallback = SD_DMAError;
1179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set the DMA Abort callback */
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmarx->XferAbortCallback = NULL;
1182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Force DMA Direction */
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmarx->Init.Direction = DMA_PERIPH_TO_MEMORY;
1185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmarx->Instance->CCR, DMA_CCR_DIR, hsd->hdmarx->Init.Direction);
1186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Enable the DMA Channel */
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pData, (uint32_t)(BL
1189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DAT
1191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Enable SD DMA transfer */
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_DMA_ENABLE(hsd);
1200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         add *= 512U;
1204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
1214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Read Blocks in DMA mode */
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(NumberOfBlocks > 1U)
1217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Read Multi Block command */
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       else
1224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
1226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Read Single Block command */
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
ARM GAS  /tmp/cc3mRTku.s 			page 23


1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Clear all the static flags */
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
1238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_OK;
1241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_BUSY;
1246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         is managed by DMA mode.
1252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         interrupt event.
1256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
1261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, 
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
1265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
1266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
1267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(NULL == pData)
1269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
1272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Initialize data control register */
ARM GAS  /tmp/cc3mRTku.s 			page 24


1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Enable SD Error interrupts */
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR));   
1291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmatx->XferCpltCallback = SD_DMATransmitCplt;
1294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set the DMA error callback */
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmatx->XferErrorCallback = SD_DMAError;
1297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set the DMA Abort callback */
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmatx->XferAbortCallback = NULL;
1300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       add *= 512U;
1304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Write Multi Block command */
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
1317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Write Single Block command */
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
1324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Enable SDIO DMA transfer */
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_DMA_ENABLE(hsd);
1333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Force DMA Direction */
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->hdmatx->Init.Direction = DMA_MEMORY_TO_PERIPH;
1336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmatx->Instance->CCR, DMA_CCR_DIR, hsd->hdmatx->Init.Direction);
1337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Enable the DMA Channel */
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pData, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(BL
1340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR));   
1342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
ARM GAS  /tmp/cc3mRTku.s 			page 25


1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
1358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_OK;
1360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_BUSY;
1365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockStartAdd: Start Block address
1374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  BlockEndAdd: End Block address
1375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
1376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
1380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
1381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
1382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(end_add < start_add)
1388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(end_add > (hsd->SdCard.LogBlockNbr))
1394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 26


1401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(((hsd->SdCard.Class) & SDIO_CCCC_ERASE) == 0U)
1403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
1407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
1412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
1414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
1416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       start_add *= 512U;
1424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       end_add   *= 512U;
1425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SECURED)
1429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
1432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Clear all the static flags */
1435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
1439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
1443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Clear all the static flags */
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
1450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD38 ERASE */
1454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance);
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
ARM GAS  /tmp/cc3mRTku.s 			page 27


1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
1462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_OK;
1467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_BUSY;
1471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
1478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
1482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t context = hsd->Context;
1483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
1486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     SD_Read_IT(hsd);
1488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DATAEND) != RESET)
1491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_DATAEND);
1493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND  | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
1495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                              SDIO_IT_TXUNDERR | SDIO_IT_RXOVERR  | SDIO_IT_TXFIFOHE |\
1496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                              SDIO_IT_RXFIFOHF);
1497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL &= ~(SDIO_DCTRL_DTEN);
1499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
1514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
ARM GAS  /tmp/cc3mRTku.s 			page 28


1515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear all the static flags */
1517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
1518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
1522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       else
1530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
1552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) == 0U) && ((context & SD_CONTEXT_READ_MULTIPLE_B
1554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Disable the DMA transfer for transmit request by setting the DMAEN bit
1556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         in the SD DCTRL register */
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
1558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Nothing to do */
1571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
ARM GAS  /tmp/cc3mRTku.s 			page 29


1572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 0U
1575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     SD_Write_IT(hsd);
1577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_RXOVERR | SDIO
1580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Set Error code */
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL) != RESET)
1583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT) != RESET)
1587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR) != RESET)
1591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR) != RESET)
1595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear All flags */
1600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS | SDIO_FLAG_STBITERR);
1601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Disable all interrupts */
1603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
1604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                              SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR | SDIO_IT_STBITERR);
1605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Abort the SD DMA channel */
1622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
1623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Set the DMA Tx abort callback */
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
1626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
1628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
ARM GAS  /tmp/cc3mRTku.s 			page 30


1629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           SD_DMATxAbort(hsd->hdmatx);
1630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
1631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       else if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTI
1633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Set the DMA Rx abort callback */
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
1636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
1638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           SD_DMARxAbort(hsd->hdmarx);
1640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
1641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       else
1643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_NONE;
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->AbortCpltCallback(hsd);
1649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         HAL_SD_AbortCallback(hsd);
1651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
1653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
1655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Nothing to do */
1657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Nothing to do */
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief return the SD state
1667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd: Pointer to sd handle
1668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL state
1669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
1671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return hsd->State;
1673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** * @brief  Return the SD error code
1677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
1678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *              the configuration information.
1679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** * @retval SD Error Code
1680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** */
1681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return hsd->ErrorCode;
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 31


1686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
1688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd: Pointer to SD handle
1689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
1690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
1692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   UNUSED(hsd);
1695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
1698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****    */
1699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
1703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
1705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
1707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   UNUSED(hsd);
1710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
1713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****    */
1714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief SD error callbacks
1718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
1720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   UNUSED(hsd);
1725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
1728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****    */
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief SD Abort callbacks
1733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
1735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   UNUSED(hsd);
1740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
ARM GAS  /tmp/cc3mRTku.s 			page 32


1743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****    */
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Register a User SD Callback
1749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
1750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd : SD handle
1751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
1752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *        This parameter can be one of the following values:
1753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID    SD Tx Complete Callback ID
1754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID    SD Rx Complete Callback ID
1755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID      SD Error Callback ID
1756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID      SD Abort Callback ID
1757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID   SD MspInit Callback ID
1758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID SD MspDeInit Callback ID
1759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
1760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval status
1761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
1763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(pCallback == NULL)
1767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Update the error code */
1769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
1771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Process locked */
1774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_LOCK(hsd);
1775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     switch (CallbackID)
1779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
1781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->TxCpltCallback = pCallback;
1782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
1784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->RxCpltCallback = pCallback;
1785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
1787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCallback = pCallback;
1788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
1790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->AbortCpltCallback = pCallback;
1791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
1794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
1797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     default :
1799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Update the error code */
ARM GAS  /tmp/cc3mRTku.s 			page 33


1800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* update return status */
1802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       status =  HAL_ERROR;
1803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     switch (CallbackID)
1809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
1812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
1815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     default :
1817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Update the error code */
1818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* update return status */
1820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       status =  HAL_ERROR;
1821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Update the error code */
1827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* update return status */
1829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status =  HAL_ERROR;
1830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Release Lock */
1833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
1834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return status;
1835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
1839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
1840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param hsd : SD handle
1841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
1842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *        This parameter can be one of the following values:
1843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID    SD Tx Complete Callback ID
1844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID    SD Rx Complete Callback ID
1845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID      SD Error Callback ID
1846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID      SD Abort Callback ID
1847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID   SD MspInit Callback ID
1848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID SD MspDeInit Callback ID
1849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval status
1850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
1852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Process locked */
1856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_LOCK(hsd);
ARM GAS  /tmp/cc3mRTku.s 			page 34


1857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     switch (CallbackID)
1861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
1863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
1864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
1866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
1867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
1869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCallback = HAL_SD_ErrorCallback;
1870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
1872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->AbortCpltCallback = HAL_SD_AbortCallback;
1873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
1876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
1879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     default :
1881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Update the error code */
1882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* update return status */
1884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       status =  HAL_ERROR;
1885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     switch (CallbackID)
1891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
1892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
1894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
1897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     default :
1899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Update the error code */
1900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* update return status */
1902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       status =  HAL_ERROR;
1903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
1904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
1905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
1907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
1908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Update the error code */
1909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* update return status */
1911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status =  HAL_ERROR;
1912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
1913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 35


1914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Release Lock */
1915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
1916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return status;
1917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
1918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @}
1922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
1925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****  *  @brief   management functions
1926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****  *
1927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** @verbatim
1928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
1929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                       ##### Peripheral Control functions #####
1930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   ==============================================================================
1931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   [..]
1932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
1933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     operations and get the related information
1934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** @endverbatim
1936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
1937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
1941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         the CID register.
1942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pCID: Pointer to a HAL_SD_CardCIDTypeDef structure that  
1944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         contains all CID register parameters
1945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
1946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
1948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
1950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
1952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
1954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
1956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
1958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
1960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
1962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
1964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
1966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->Reserved2 = 1U;
1968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
1970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
ARM GAS  /tmp/cc3mRTku.s 			page 36


1971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
1973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
1974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         the CSD register.
1975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pCSD: Pointer to a HAL_SD_CardCSDTypeDef structure that  
1977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         contains all CSD register parameters
1978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
1979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
1980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
1983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
1985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
1987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
1989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
1991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
1993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
1995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
1997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
1999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
2001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
2003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
2005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
2007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->SdCard.CardType == CARD_SDSC)
2009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
2011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
2013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
2015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
2017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
2019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
2021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
2025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr =  (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
2027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
ARM GAS  /tmp/cc3mRTku.s 			page 37


2028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(hsd->SdCard.CardType == CARD_SDHC_SDXC)
2030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Byte 7 */
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
2033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
2035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
2037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
2038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
2042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
2046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
2049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
2051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
2053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
2055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
2057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
2059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->MaxWrBlockLen= (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
2061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
2063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->Reserved3 = 0;
2065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
2067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
2069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
2071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
2073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
2075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
2077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->ECC= (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
2079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
2081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->Reserved4 = 1;
2083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
ARM GAS  /tmp/cc3mRTku.s 			page 38


2085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Gets the SD status info.
2089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pStatus: Pointer to the HAL_SD_CardStatusTypeDef structure that 
2091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         will contain the SD card status information
2092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
2093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t sd_status[16];
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
2101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
2108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
2112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
2114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
2116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
2118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
2119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
2121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
2123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
2125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
2127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
2129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
2131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set Block Size for Card */
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
2138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
ARM GAS  /tmp/cc3mRTku.s 			page 39


2142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return status;
2145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Gets the SD card info.
2149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pCardInfo: Pointer to the HAL_SD_CardInfoTypeDef structure that
2151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         will contain the SD card status information
2152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
2153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
2164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         card.
2171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode
2173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *          This parameter can be one of the following values:
2174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_8B: 8-bit data transfer
2175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_4B: 4-bit data transfer
2176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_1B: 1-bit data transfer
2177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
2178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_InitTypeDef Init;
2182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the parameters */
2186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_BUS_WIDE(WideMode));
2187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Change State */
2189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(WideMode == SDIO_BUS_WIDE_8B)
2194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(WideMode == SDIO_BUS_WIDE_4B)
2198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
ARM GAS  /tmp/cc3mRTku.s 			page 40


2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
2200:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2202:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(WideMode == SDIO_BUS_WIDE_1B)
2204:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
2206:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
2210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2214:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2215:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2217:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* MMC Card does not support this feature */
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2219:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2220:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
2222:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2223:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
2227:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2229:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Configure the SDIO peripheral */
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockEdge           = hsd->Init.ClockEdge;
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.BusWide             = WideMode;
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
2238:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2239:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set Block Size for Card */
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2243:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2244:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
2245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
2248:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2249:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2250:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Change State */
2251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2252:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return status;
2254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2255:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 41


2256:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2257:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
2258:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2259:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval Card state
2260:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2261:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t cardstate;
2264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t resp1 = 0;
2266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
2268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2269:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2272:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
2274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2277:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2279:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
2280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *                the configuration information for SD module.
2282:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
2283:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
2285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t context = hsd->Context;
2288:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2289:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* DIsable All interrupts */
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
2291:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
2292:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Clear All flags */
2294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2295:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDIO_DCTRL_DTEN);
2297:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
2299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2300:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Disable the SD DMA request */
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
2302:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
2304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
2305:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmatx) != HAL_OK)
2307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
2309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
2310:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2311:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
2312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
ARM GAS  /tmp/cc3mRTku.s 			page 42


2313:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmarx) != HAL_OK)
2315:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
2316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
2317:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
2318:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
2320:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Nothing to do */
2322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2323:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Initialize the SD operation */
2328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2329:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2334:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
2336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
2338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
2340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
2344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *                the configuration information for SD module.
2346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval HAL status
2347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t context = hsd->Context;
2352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Disable All interrupts */
2354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
2355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
2356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDIO_DCTRL_DTEN);
2358:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
2360:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2361:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Disable the SD DMA request */
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
2363:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
2365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
2366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
2369:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
ARM GAS  /tmp/cc3mRTku.s 			page 43


2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->hdmatx = NULL;
2371:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
2372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2373:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
2374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
2375:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
2378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->hdmarx = NULL;
2380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
2381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2382:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
2383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2384:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Nothing to do */
2385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2386:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* No transfer ongoing on both DMA channels*/
2388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear All flags */
2391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2392:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
2394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
2396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2397:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
2401:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
2403:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
2405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
2407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->AbortCpltCallback(hsd);
2408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       HAL_SD_AbortCallback(hsd);
2410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_OK;
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2418:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @}
2419:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2422:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @}
2423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2425:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
2426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
ARM GAS  /tmp/cc3mRTku.s 			page 44


2427:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @{
2428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2430:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  DMA SD transmit process complete callback
2432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hdma: DMA handle
2433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
2434:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
  27              		.loc 1 2436 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
2437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
  32              		.loc 1 2437 3 view .LVU1
  33              		.loc 1 2437 21 is_stmt 0 view .LVU2
  34 0000 436A     		ldr	r3, [r0, #36]
  35              	.LVL1:
2438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2439:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Enable DATAEND Interrupt */
2440:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DATAEND));
  36              		.loc 1 2440 3 is_stmt 1 view .LVU3
  37 0002 1A68     		ldr	r2, [r3]
  38 0004 D36B     		ldr	r3, [r2, #60]
  39              	.LVL2:
  40              		.loc 1 2440 3 is_stmt 0 view .LVU4
  41 0006 43F48073 		orr	r3, r3, #256
  42 000a D363     		str	r3, [r2, #60]
  43              	.LVL3:
2441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
  44              		.loc 1 2441 1 view .LVU5
  45 000c 7047     		bx	lr
  46              		.cfi_endproc
  47              	.LFE92:
  49              		.section	.text.SD_PowerON,"ax",%progbits
  50              		.align	1
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	SD_PowerON:
  56              	.LVL4:
  57              	.LFB98:
2442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  DMA SD receive process complete callback
2445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hdma: DMA handle
2446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
2447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2452:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2453:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send stop command in multiblock write */
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->Context == (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA))
ARM GAS  /tmp/cc3mRTku.s 			page 45


2455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
2462:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
2464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2465:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2467:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2468:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Disable the DMA transfer for transmit request by setting the DMAEN bit
2469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   in the SD DCTRL register */
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
2471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Clear all the static flags */
2473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2474:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2478:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->RxCpltCallback(hsd);
2480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_RxCpltCallback(hsd);
2482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2484:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2486:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  DMA SD communication error callback
2487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hdma: DMA handle
2488:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
2489:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMAError(DMA_HandleTypeDef *hdma)
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
2495:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     RxErrorCode = hsd->hdmarx->ErrorCode;
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
2498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
2499:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Clear All flags */
2501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2503:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Disable All interrupts */
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
2505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
2506:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
2508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
2509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
ARM GAS  /tmp/cc3mRTku.s 			page 46


2512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
2513:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State= HAL_SD_STATE_READY;
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
2516:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2518:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
2520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
2522:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2524:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  DMA SD Tx Abort callback
2527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hdma: DMA handle
2528:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
2529:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2530:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMATxAbort(DMA_HandleTypeDef *hdma)
2531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2535:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Clear All flags */
2536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2537:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
2544:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
2547:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2548:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
2550:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
2552:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2554:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2555:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2556:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
2558:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
2560:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2561:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2563:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2565:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  DMA SD Rx Abort callback
2566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hdma: DMA handle
2567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
2568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
ARM GAS  /tmp/cc3mRTku.s 			page 47


2569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_DMARxAbort(DMA_HandleTypeDef *hdma)
2570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2573:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Clear All flags */
2575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2581:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
2583:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
2586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
2589:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
2591:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
2597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #else
2598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
2599:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
2600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Initializes the sd card.
2605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval SD Card error state
2607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
2611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint16_t sd_rca = 1U;
2613:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2614:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the power State */
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(SDIO_GetPowerState(hsd->Instance) == 0U)
2616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2617:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Power off */
2618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
2619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2620:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2623:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/cc3mRTku.s 			page 48


2626:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
2630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Get Card identification number data */
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[0U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
2634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
2635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
2636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2640:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
2642:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
2644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Get the SD card RCA */
2652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
2653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2657:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2658:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2660:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else
2661:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       /* Get Card Specific Data */
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[0U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
2665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
2666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
2667:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2668:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2669:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2670:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Get the Card Class */
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->SdCard.Class = (SDIO_GetResponse(hsd->Instance, SDIO_RESP2) >> 20U);
2672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Get CSD parameters */
2674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
2675:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2678:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2679:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Select the Card */
2680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
2681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
ARM GAS  /tmp/cc3mRTku.s 			page 49


2683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2685:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2686:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Configure SDIO peripheral interface */
2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_Init(hsd->Instance, hsd->Init);
2688:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2689:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* All cards are initialized */
2690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
2695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
2696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         in the SD handle.
2697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2698:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval error state
2699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2700:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
2701:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
  58              		.loc 1 2701 1 is_stmt 1 view -0
  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 8
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		.loc 1 2701 1 is_stmt 0 view .LVU7
  63 0000 70B5     		push	{r4, r5, r6, lr}
  64              	.LCFI0:
  65              		.cfi_def_cfa_offset 16
  66              		.cfi_offset 4, -16
  67              		.cfi_offset 5, -12
  68              		.cfi_offset 6, -8
  69              		.cfi_offset 14, -4
  70 0002 82B0     		sub	sp, sp, #8
  71              	.LCFI1:
  72              		.cfi_def_cfa_offset 24
  73 0004 0446     		mov	r4, r0
2702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __IO uint32_t count = 0U;
  74              		.loc 1 2702 3 is_stmt 1 view .LVU8
  75              		.loc 1 2702 17 is_stmt 0 view .LVU9
  76 0006 0023     		movs	r3, #0
  77 0008 0193     		str	r3, [sp, #4]
2703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t response = 0U, validvoltage = 0U;
  78              		.loc 1 2703 3 is_stmt 1 view .LVU10
  79              	.LVL5:
2704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
  80              		.loc 1 2704 3 view .LVU11
2705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
2707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
  81              		.loc 1 2707 3 view .LVU12
  82              		.loc 1 2707 16 is_stmt 0 view .LVU13
  83 000a 0068     		ldr	r0, [r0]
  84              	.LVL6:
  85              		.loc 1 2707 16 view .LVU14
  86 000c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
  87              	.LVL7:
2708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
  88              		.loc 1 2708 3 is_stmt 1 view .LVU15
ARM GAS  /tmp/cc3mRTku.s 			page 50


  89              		.loc 1 2708 5 is_stmt 0 view .LVU16
  90 0010 0546     		mov	r5, r0
  91 0012 10B1     		cbz	r0, .L19
  92              	.LVL8:
  93              	.L2:
2709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2710:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
2714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
2715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2716:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
2718:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
2719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
2720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2721:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
2729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if( hsd->SdCard.CardVersion == CARD_V2_X)
2732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
2735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2738:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2740:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* SD CARD */
2741:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   while((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
2743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
2745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2747:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2749:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2750:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD41 */
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
2753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2754:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2756:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2757:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2758:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Get command response */
2759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     response = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 51


2761:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Get operating voltage*/
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
2763:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     count++;
2765:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2766:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(count >= SDMMC_MAX_VOLT_TRIAL)
2768:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
2770:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2771:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
2773:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
2775:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2776:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDSC;
2779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
  94              		.loc 1 2783 1 view .LVU17
  95 0014 2846     		mov	r0, r5
  96 0016 02B0     		add	sp, sp, #8
  97              	.LCFI2:
  98              		.cfi_remember_state
  99              		.cfi_def_cfa_offset 16
 100              		@ sp needed
 101 0018 70BD     		pop	{r4, r5, r6, pc}
 102              	.LVL9:
 103              	.L19:
 104              	.LCFI3:
 105              		.cfi_restore_state
2714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 106              		.loc 1 2714 3 is_stmt 1 view .LVU18
2714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 107              		.loc 1 2714 16 is_stmt 0 view .LVU19
 108 001a 2068     		ldr	r0, [r4]
 109              	.LVL10:
2714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 110              		.loc 1 2714 16 view .LVU20
 111 001c FFF7FEFF 		bl	SDMMC_CmdOperCond
 112              	.LVL11:
2715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 113              		.loc 1 2715 3 is_stmt 1 view .LVU21
2715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 114              		.loc 1 2715 5 is_stmt 0 view .LVU22
 115 0020 38B9     		cbnz	r0, .L20
2728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 116              		.loc 1 2728 5 is_stmt 1 view .LVU23
2728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 117              		.loc 1 2728 29 is_stmt 0 view .LVU24
 118 0022 0123     		movs	r3, #1
 119 0024 A364     		str	r3, [r4, #72]
 120              	.L5:
ARM GAS  /tmp/cc3mRTku.s 			page 52


2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 121              		.loc 1 2731 3 is_stmt 1 view .LVU25
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 122              		.loc 1 2731 18 is_stmt 0 view .LVU26
 123 0026 A36C     		ldr	r3, [r4, #72]
2731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 124              		.loc 1 2731 5 view .LVU27
 125 0028 012B     		cmp	r3, #1
 126 002a 0BD0     		beq	.L6
 127              	.L8:
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 128              		.loc 1 2762 52 discriminator 1 view .LVU28
 129 002c 2E46     		mov	r6, r5
 130 002e 2846     		mov	r0, r5
 131              	.LVL12:
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 132              		.loc 1 2762 52 discriminator 1 view .LVU29
 133 0030 14E0     		b	.L7
 134              	.LVL13:
 135              	.L20:
2717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 136              		.loc 1 2717 5 is_stmt 1 view .LVU30
2717:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 137              		.loc 1 2717 29 is_stmt 0 view .LVU31
 138 0032 0023     		movs	r3, #0
 139 0034 A364     		str	r3, [r4, #72]
2719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 140              		.loc 1 2719 5 is_stmt 1 view .LVU32
2719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 141              		.loc 1 2719 18 is_stmt 0 view .LVU33
 142 0036 2068     		ldr	r0, [r4]
 143              	.LVL14:
2719:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 144              		.loc 1 2719 18 view .LVU34
 145 0038 FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 146              	.LVL15:
2720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 147              		.loc 1 2720 5 is_stmt 1 view .LVU35
2720:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 148              		.loc 1 2720 7 is_stmt 0 view .LVU36
 149 003c 0028     		cmp	r0, #0
 150 003e F2D0     		beq	.L5
2722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 151              		.loc 1 2722 14 view .LVU37
 152 0040 0546     		mov	r5, r0
 153 0042 E7E7     		b	.L2
 154              	.L6:
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 155              		.loc 1 2734 5 is_stmt 1 view .LVU38
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 156              		.loc 1 2734 18 is_stmt 0 view .LVU39
 157 0044 0021     		movs	r1, #0
 158 0046 2068     		ldr	r0, [r4]
 159              	.LVL16:
2734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 160              		.loc 1 2734 18 view .LVU40
 161 0048 FFF7FEFF 		bl	SDMMC_CmdAppCommand
ARM GAS  /tmp/cc3mRTku.s 			page 53


 162              	.LVL17:
2735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 163              		.loc 1 2735 5 is_stmt 1 view .LVU41
2735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 164              		.loc 1 2735 7 is_stmt 0 view .LVU42
 165 004c 0028     		cmp	r0, #0
 166 004e EDD0     		beq	.L8
2737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 167              		.loc 1 2737 14 view .LVU43
 168 0050 4FF08055 		mov	r5, #268435456
 169 0054 DEE7     		b	.L2
 170              	.LVL18:
 171              	.L9:
2764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 172              		.loc 1 2764 5 is_stmt 1 view .LVU44
2764:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 173              		.loc 1 2764 10 is_stmt 0 view .LVU45
 174 0056 019B     		ldr	r3, [sp, #4]
 175 0058 0133     		adds	r3, r3, #1
 176 005a 0193     		str	r3, [sp, #4]
 177              	.LVL19:
 178              	.L7:
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 179              		.loc 1 2742 40 is_stmt 1 view .LVU46
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 180              		.loc 1 2742 16 is_stmt 0 view .LVU47
 181 005c 019A     		ldr	r2, [sp, #4]
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 182              		.loc 1 2742 40 view .LVU48
 183 005e 4FF6FE73 		movw	r3, #65534
 184 0062 9A42     		cmp	r2, r3
 185 0064 13D8     		bhi	.L10
2742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 186              		.loc 1 2742 40 discriminator 1 view .LVU49
 187 0066 96B9     		cbnz	r6, .L10
2745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 188              		.loc 1 2745 5 is_stmt 1 view .LVU50
2745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 189              		.loc 1 2745 18 is_stmt 0 view .LVU51
 190 0068 0021     		movs	r1, #0
 191 006a 2068     		ldr	r0, [r4]
 192              	.LVL20:
2745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 193              		.loc 1 2745 18 view .LVU52
 194 006c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 195              	.LVL21:
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 196              		.loc 1 2746 5 is_stmt 1 view .LVU53
2746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 197              		.loc 1 2746 7 is_stmt 0 view .LVU54
 198 0070 E0B9     		cbnz	r0, .L15
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 199              		.loc 1 2752 5 is_stmt 1 view .LVU55
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 200              		.loc 1 2752 18 is_stmt 0 view .LVU56
 201 0072 1249     		ldr	r1, .L21
 202 0074 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cc3mRTku.s 			page 54


 203              	.LVL22:
2752:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 204              		.loc 1 2752 18 view .LVU57
 205 0076 FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 206              	.LVL23:
2753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 207              		.loc 1 2753 5 is_stmt 1 view .LVU58
2753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 208              		.loc 1 2753 7 is_stmt 0 view .LVU59
 209 007a 0646     		mov	r6, r0
 210              	.LVL24:
2753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 211              		.loc 1 2753 7 view .LVU60
 212 007c C0B9     		cbnz	r0, .L16
2759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 213              		.loc 1 2759 5 is_stmt 1 view .LVU61
2759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 214              		.loc 1 2759 16 is_stmt 0 view .LVU62
 215 007e 0021     		movs	r1, #0
 216 0080 2068     		ldr	r0, [r4]
 217              	.LVL25:
2759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 218              		.loc 1 2759 16 view .LVU63
 219 0082 FFF7FEFF 		bl	SDIO_GetResponse
 220              	.LVL26:
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 221              		.loc 1 2762 5 is_stmt 1 view .LVU64
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 222              		.loc 1 2762 52 is_stmt 0 view .LVU65
 223 0086 C30F     		lsrs	r3, r0, #31
 224 0088 E5D0     		beq	.L9
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 225              		.loc 1 2762 52 discriminator 1 view .LVU66
 226 008a 1E46     		mov	r6, r3
 227              	.LVL27:
2762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 228              		.loc 1 2762 52 discriminator 1 view .LVU67
 229 008c E3E7     		b	.L9
 230              	.LVL28:
 231              	.L10:
2767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 232              		.loc 1 2767 3 is_stmt 1 view .LVU68
2767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 233              		.loc 1 2767 12 is_stmt 0 view .LVU69
 234 008e 019A     		ldr	r2, [sp, #4]
2767:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 235              		.loc 1 2767 5 view .LVU70
 236 0090 4FF6FE73 		movw	r3, #65534
 237 0094 9A42     		cmp	r2, r3
 238 0096 0ED8     		bhi	.L17
2772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 239              		.loc 1 2772 3 is_stmt 1 view .LVU71
2772:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 240              		.loc 1 2772 5 is_stmt 0 view .LVU72
 241 0098 10F08043 		ands	r3, r0, #1073741824
 242 009c 02D0     		beq	.L12
2774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
ARM GAS  /tmp/cc3mRTku.s 			page 55


 243              		.loc 1 2774 5 is_stmt 1 view .LVU73
2774:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 244              		.loc 1 2774 26 is_stmt 0 view .LVU74
 245 009e 0123     		movs	r3, #1
 246 00a0 6364     		str	r3, [r4, #68]
 247 00a2 B7E7     		b	.L2
 248              	.L12:
2778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 249              		.loc 1 2778 5 is_stmt 1 view .LVU75
2778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 250              		.loc 1 2778 26 is_stmt 0 view .LVU76
 251 00a4 0022     		movs	r2, #0
 252 00a6 6264     		str	r2, [r4, #68]
2782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 253              		.loc 1 2782 10 view .LVU77
 254 00a8 1D46     		mov	r5, r3
 255 00aa B3E7     		b	.L2
 256              	.LVL29:
 257              	.L15:
2748:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 258              		.loc 1 2748 14 view .LVU78
 259 00ac 0546     		mov	r5, r0
 260 00ae B1E7     		b	.L2
 261              	.LVL30:
 262              	.L16:
2755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 263              		.loc 1 2755 14 view .LVU79
 264 00b0 4FF08055 		mov	r5, #268435456
 265 00b4 AEE7     		b	.L2
 266              	.LVL31:
 267              	.L17:
2769:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 268              		.loc 1 2769 12 view .LVU80
 269 00b6 4FF08075 		mov	r5, #16777216
 270 00ba ABE7     		b	.L2
 271              	.L22:
 272              		.align	2
 273              	.L21:
 274 00bc 000010C1 		.word	-1055916032
 275              		.cfi_endproc
 276              	.LFE98:
 278              		.section	.text.SD_PowerOFF,"ax",%progbits
 279              		.align	1
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 284              	SD_PowerOFF:
 285              	.LVL32:
 286              	.LFB99:
2784:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2786:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Turns the SDIO output signals off.
2787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
2789:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2790:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
2791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
ARM GAS  /tmp/cc3mRTku.s 			page 56


 287              		.loc 1 2791 1 is_stmt 1 view -0
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 0
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 291              		.loc 1 2791 1 is_stmt 0 view .LVU82
 292 0000 08B5     		push	{r3, lr}
 293              	.LCFI4:
 294              		.cfi_def_cfa_offset 8
 295              		.cfi_offset 3, -8
 296              		.cfi_offset 14, -4
2792:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set Power State to OFF */
2793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_PowerState_OFF(hsd->Instance);
 297              		.loc 1 2793 3 is_stmt 1 view .LVU83
 298              		.loc 1 2793 9 is_stmt 0 view .LVU84
 299 0002 0068     		ldr	r0, [r0]
 300              	.LVL33:
 301              		.loc 1 2793 9 view .LVU85
 302 0004 FFF7FEFF 		bl	SDIO_PowerState_OFF
 303              	.LVL34:
2794:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 304              		.loc 1 2794 1 view .LVU86
 305 0008 08BD     		pop	{r3, pc}
 306              		.cfi_endproc
 307              	.LFE99:
 309              		.section	.text.SD_Read_IT,"ax",%progbits
 310              		.align	1
 311              		.syntax unified
 312              		.thumb
 313              		.thumb_func
 315              	SD_Read_IT:
 316              	.LVL35:
 317              	.LFB105:
2795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2796:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Send Status info command.
2798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2799:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status
2800:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         SD Status register)
2801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval error state
2802:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2803:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
2804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
2806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
2808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count;
2809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
2810:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2811:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check SD response */
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
2813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
2815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
2818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
2819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/cc3mRTku.s 			page 57


2820:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
2822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2824:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2825:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send CMD55 */
2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2828:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
2830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2831:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2832:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
2835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataLength    = 64U;
2836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
2839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
2840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
2841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
2843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
2844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2845:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
2847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2848:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2850:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Get status data */
2851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_
2852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
2854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       for(count = 0U; count < 8U; count++)
2856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
2857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         *pData = SDIO_ReadFIFO(hsd->Instance);
2858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         pData++;
2859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
2860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
2863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
2865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2867:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT) || (__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_STBITERR)))
2869:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
2871:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
2873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
2875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
ARM GAS  /tmp/cc3mRTku.s 			page 58


2877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
2879:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2880:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2881:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Nothing to do */
2883:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)))
2886:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     *pData = SDIO_ReadFIFO(hsd->Instance);
2888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pData++;
2889:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
2891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
2893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2896:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Clear all the static status flags*/
2897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2898:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2902:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2903:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Returns the current card's status.
2904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card
2906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *         status (Card Status register)
2907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval error state
2908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2909:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
2910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2912:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(pCardStatus == NULL)
2914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
2916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2918:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send Status command */
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2921:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Get SD card status */
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *pCardStatus = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2927:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2930:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2932:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Enables the SDIO wide bus mode.
2933:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
ARM GAS  /tmp/cc3mRTku.s 			page 59


2934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval error state
2935:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
2937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
2939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2940:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
2942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
2944:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2946:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Get SCR Register */
2947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
2948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2950:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2952:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* If requested card supports wide bus operation */
2954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
2955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2956:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2960:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
2965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
2967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
2968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
2969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
2971:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
2973:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
2975:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
2977:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
2979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Disables the SDIO wide bus mode.
2980:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval error state
2982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
2983:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
2985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
2986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
2987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
2989:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
ARM GAS  /tmp/cc3mRTku.s 			page 60


2991:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
2993:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Get SCR Register */
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
2995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
2997:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
2998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
2999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
3002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
3008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
3012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3013:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return errorstate;
3015:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3017:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
3020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
3024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
3027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value
3030:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval error state
3031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
3032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
3034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
3035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t index = 0U;
3038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
3039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t *scr = pSCR;
3040:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3041:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
3046:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3047:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 61


3048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
3050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3051:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
3053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataLength    = 8U;
3057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
3058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
3059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
3060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
3062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3063:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
3065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3067:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
3068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3069:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT))
3071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXDAVL))
3073:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *(tempscr + index) = SDIO_ReadFIFO(hsd->Instance);
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       index++;
3076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     else if(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXACT))
3078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       break;
3080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3081:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_SWDATATIMEOUT)
3083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3086:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT) || (__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_STBITERR)))
3089:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
3091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
3095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
3097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3099:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
3101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
3103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
ARM GAS  /tmp/cc3mRTku.s 			page 62


3105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   else
3107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* No error flag set */
3109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Clear all the static flags */
3110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
3111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) |\
3113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
3114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     scr++;
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
3117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
3122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3123:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
3124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
3125:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *              the configuration information.
3127:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
3128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
3129:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
3130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 318              		.loc 1 3130 1 is_stmt 1 view -0
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322              		.loc 1 3130 1 is_stmt 0 view .LVU88
 323 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 324              	.LCFI5:
 325              		.cfi_def_cfa_offset 24
 326              		.cfi_offset 3, -24
 327              		.cfi_offset 4, -20
 328              		.cfi_offset 5, -16
 329              		.cfi_offset 6, -12
 330              		.cfi_offset 7, -8
 331              		.cfi_offset 14, -4
3131:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 332              		.loc 1 3131 3 is_stmt 1 view .LVU89
3132:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint8_t* tmp;
 333              		.loc 1 3132 3 view .LVU90
3133:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 334              		.loc 1 3134 3 view .LVU91
 335              		.loc 1 3134 7 is_stmt 0 view .LVU92
 336 0002 846A     		ldr	r4, [r0, #40]
 337              	.LVL36:
3135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   dataremaining = hsd->RxXferSize;
 338              		.loc 1 3135 3 is_stmt 1 view .LVU93
 339              		.loc 1 3135 17 is_stmt 0 view .LVU94
 340 0004 C66A     		ldr	r6, [r0, #44]
 341              	.LVL37:
3136:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3137:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if (dataremaining > 0U)
ARM GAS  /tmp/cc3mRTku.s 			page 63


 342              		.loc 1 3137 3 is_stmt 1 view .LVU95
 343              		.loc 1 3137 6 is_stmt 0 view .LVU96
 344 0006 A6B9     		cbnz	r6, .L29
 345              	.LVL38:
 346              	.L25:
3138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Read data from SDIO Rx FIFO */
3140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
3141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data = SDIO_ReadFIFO(hsd->Instance);
3143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
3147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
3153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
3159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 347              		.loc 1 3160 1 view .LVU97
 348 0008 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 349              	.LVL39:
 350              	.L28:
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 351              		.loc 1 3142 7 is_stmt 1 view .LVU98
3142:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 352              		.loc 1 3142 14 is_stmt 0 view .LVU99
 353 000a 3868     		ldr	r0, [r7]
 354 000c FFF7FEFF 		bl	SDIO_ReadFIFO
 355              	.LVL40:
3143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 356              		.loc 1 3143 7 is_stmt 1 view .LVU100
3143:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 357              		.loc 1 3143 12 is_stmt 0 view .LVU101
 358 0010 2070     		strb	r0, [r4]
3144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 359              		.loc 1 3144 7 is_stmt 1 view .LVU102
 360              	.LVL41:
3145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 361              		.loc 1 3145 7 view .LVU103
3146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 362              		.loc 1 3146 7 view .LVU104
3146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 363              		.loc 1 3146 14 is_stmt 0 view .LVU105
 364 0012 C0F30723 		ubfx	r3, r0, #8, #8
3146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 365              		.loc 1 3146 12 view .LVU106
 366 0016 6370     		strb	r3, [r4, #1]
ARM GAS  /tmp/cc3mRTku.s 			page 64


3147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 367              		.loc 1 3147 7 is_stmt 1 view .LVU107
 368              	.LVL42:
3148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 369              		.loc 1 3148 7 view .LVU108
3149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 370              		.loc 1 3149 7 view .LVU109
3149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 371              		.loc 1 3149 14 is_stmt 0 view .LVU110
 372 0018 C0F30743 		ubfx	r3, r0, #16, #8
3149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 373              		.loc 1 3149 12 view .LVU111
 374 001c A370     		strb	r3, [r4, #2]
3150:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 375              		.loc 1 3150 7 is_stmt 1 view .LVU112
 376              	.LVL43:
3151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 377              		.loc 1 3151 7 view .LVU113
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 378              		.loc 1 3152 7 view .LVU114
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 379              		.loc 1 3152 14 is_stmt 0 view .LVU115
 380 001e 000E     		lsrs	r0, r0, #24
 381              	.LVL44:
3152:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 382              		.loc 1 3152 12 view .LVU116
 383 0020 E070     		strb	r0, [r4, #3]
3153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 384              		.loc 1 3153 7 is_stmt 1 view .LVU117
3153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 385              		.loc 1 3153 10 is_stmt 0 view .LVU118
 386 0022 0434     		adds	r4, r4, #4
 387              	.LVL45:
3154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 388              		.loc 1 3154 7 is_stmt 1 view .LVU119
3154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 389              		.loc 1 3154 20 is_stmt 0 view .LVU120
 390 0024 043E     		subs	r6, r6, #4
 391              	.LVL46:
3140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 392              		.loc 1 3140 38 is_stmt 1 discriminator 3 view .LVU121
 393 0026 0135     		adds	r5, r5, #1
 394              	.LVL47:
 395              	.L26:
3140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 396              		.loc 1 3140 27 discriminator 1 view .LVU122
 397 0028 072D     		cmp	r5, #7
 398 002a EED9     		bls	.L28
3157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 399              		.loc 1 3157 5 view .LVU123
3157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 400              		.loc 1 3157 21 is_stmt 0 view .LVU124
 401 002c BC62     		str	r4, [r7, #40]
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 402              		.loc 1 3158 5 is_stmt 1 view .LVU125
3158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 403              		.loc 1 3158 21 is_stmt 0 view .LVU126
ARM GAS  /tmp/cc3mRTku.s 			page 65


 404 002e FE62     		str	r6, [r7, #44]
 405              		.loc 1 3160 1 view .LVU127
 406 0030 EAE7     		b	.L25
 407              	.LVL48:
 408              	.L29:
 409              		.loc 1 3160 1 view .LVU128
 410 0032 0746     		mov	r7, r0
3140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 411              		.loc 1 3140 15 view .LVU129
 412 0034 0025     		movs	r5, #0
 413 0036 F7E7     		b	.L26
 414              		.cfi_endproc
 415              	.LFE105:
 417              		.section	.text.SD_Write_IT,"ax",%progbits
 418              		.align	1
 419              		.syntax unified
 420              		.thumb
 421              		.thumb_func
 423              	SD_Write_IT:
 424              	.LVL49:
 425              	.LFB106:
3161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** /**
3163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
3164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   *              the configuration information.
3166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   * @retval None
3167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   */
3168:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
3169:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** {
 426              		.loc 1 3169 1 is_stmt 1 view -0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 8
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 430              		.loc 1 3169 1 is_stmt 0 view .LVU131
 431 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 432              	.LCFI6:
 433              		.cfi_def_cfa_offset 20
 434              		.cfi_offset 4, -20
 435              		.cfi_offset 5, -16
 436              		.cfi_offset 6, -12
 437              		.cfi_offset 7, -8
 438              		.cfi_offset 14, -4
 439 0002 83B0     		sub	sp, sp, #12
 440              	.LCFI7:
 441              		.cfi_def_cfa_offset 32
3170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 442              		.loc 1 3170 3 is_stmt 1 view .LVU132
3171:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint8_t* tmp;
 443              		.loc 1 3171 3 view .LVU133
3172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3173:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 444              		.loc 1 3173 3 view .LVU134
 445              		.loc 1 3173 7 is_stmt 0 view .LVU135
 446 0004 046A     		ldr	r4, [r0, #32]
 447              	.LVL50:
3174:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   dataremaining = hsd->TxXferSize;
ARM GAS  /tmp/cc3mRTku.s 			page 66


 448              		.loc 1 3174 3 is_stmt 1 view .LVU136
 449              		.loc 1 3174 17 is_stmt 0 view .LVU137
 450 0006 466A     		ldr	r6, [r0, #36]
 451              	.LVL51:
3175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3176:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if (dataremaining > 0U)
 452              		.loc 1 3176 3 is_stmt 1 view .LVU138
 453              		.loc 1 3176 6 is_stmt 0 view .LVU139
 454 0008 DEB9     		cbnz	r6, .L35
 455              	.LVL52:
 456              	.L31:
3177:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
3178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     /* Write data to SDIO Tx FIFO */
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
3180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
3181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data = (uint32_t)(*tmp);
3182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
3185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
3188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
3191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
3192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
3193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_WriteFIFO(hsd->Instance, &data);
3194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
3195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
3197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
3198:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
3199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 457              		.loc 1 3199 1 view .LVU140
 458 000a 03B0     		add	sp, sp, #12
 459              	.LCFI8:
 460              		.cfi_remember_state
 461              		.cfi_def_cfa_offset 20
 462              		@ sp needed
 463 000c F0BD     		pop	{r4, r5, r6, r7, pc}
 464              	.LVL53:
 465              	.L34:
 466              	.LCFI9:
 467              		.cfi_restore_state
3181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 468              		.loc 1 3181 7 is_stmt 1 view .LVU141
3181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 469              		.loc 1 3181 25 is_stmt 0 view .LVU142
 470 000e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 471              		.loc 1 3181 12 view .LVU143
 472 0010 0193     		str	r3, [sp, #4]
3182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 473              		.loc 1 3182 7 is_stmt 1 view .LVU144
 474              	.LVL54:
3183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
ARM GAS  /tmp/cc3mRTku.s 			page 67


 475              		.loc 1 3183 7 view .LVU145
3184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 476              		.loc 1 3184 7 view .LVU146
3184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 477              		.loc 1 3184 27 is_stmt 0 view .LVU147
 478 0012 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
3184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 479              		.loc 1 3184 12 view .LVU148
 480 0014 43EA0223 		orr	r3, r3, r2, lsl #8
 481 0018 0193     		str	r3, [sp, #4]
3185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 482              		.loc 1 3185 7 is_stmt 1 view .LVU149
 483              	.LVL55:
3186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 484              		.loc 1 3186 7 view .LVU150
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 485              		.loc 1 3187 7 view .LVU151
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 486              		.loc 1 3187 27 is_stmt 0 view .LVU152
 487 001a A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
3187:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 488              		.loc 1 3187 12 view .LVU153
 489 001c 43EA0243 		orr	r3, r3, r2, lsl #16
 490 0020 0193     		str	r3, [sp, #4]
3188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 491              		.loc 1 3188 7 is_stmt 1 view .LVU154
 492              	.LVL56:
3189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 493              		.loc 1 3189 7 view .LVU155
3190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 494              		.loc 1 3190 7 view .LVU156
3190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 495              		.loc 1 3190 27 is_stmt 0 view .LVU157
 496 0022 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
3190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tmp++;
 497              		.loc 1 3190 12 view .LVU158
 498 0024 43EA0263 		orr	r3, r3, r2, lsl #24
 499 0028 0193     		str	r3, [sp, #4]
3191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 500              		.loc 1 3191 7 is_stmt 1 view .LVU159
3191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 501              		.loc 1 3191 10 is_stmt 0 view .LVU160
 502 002a 0434     		adds	r4, r4, #4
 503              	.LVL57:
3192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_WriteFIFO(hsd->Instance, &data);
 504              		.loc 1 3192 7 is_stmt 1 view .LVU161
3192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_WriteFIFO(hsd->Instance, &data);
 505              		.loc 1 3192 20 is_stmt 0 view .LVU162
 506 002c 043E     		subs	r6, r6, #4
 507              	.LVL58:
3193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 508              		.loc 1 3193 7 is_stmt 1 view .LVU163
3193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 509              		.loc 1 3193 13 is_stmt 0 view .LVU164
 510 002e 01A9     		add	r1, sp, #4
 511 0030 3868     		ldr	r0, [r7]
 512 0032 FFF7FEFF 		bl	SDIO_WriteFIFO
ARM GAS  /tmp/cc3mRTku.s 			page 68


 513              	.LVL59:
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 514              		.loc 1 3179 38 is_stmt 1 discriminator 3 view .LVU165
 515 0036 0135     		adds	r5, r5, #1
 516              	.LVL60:
 517              	.L32:
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 518              		.loc 1 3179 27 discriminator 1 view .LVU166
 519 0038 072D     		cmp	r5, #7
 520 003a E8D9     		bls	.L34
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 521              		.loc 1 3196 5 view .LVU167
3196:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 522              		.loc 1 3196 21 is_stmt 0 view .LVU168
 523 003c 3C62     		str	r4, [r7, #32]
3197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 524              		.loc 1 3197 5 is_stmt 1 view .LVU169
3197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 525              		.loc 1 3197 21 is_stmt 0 view .LVU170
 526 003e 7E62     		str	r6, [r7, #36]
 527              		.loc 1 3199 1 view .LVU171
 528 0040 E3E7     		b	.L31
 529              	.LVL61:
 530              	.L35:
 531              		.loc 1 3199 1 view .LVU172
 532 0042 0746     		mov	r7, r0
3179:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 533              		.loc 1 3179 15 view .LVU173
 534 0044 0025     		movs	r5, #0
 535 0046 F7E7     		b	.L32
 536              		.cfi_endproc
 537              	.LFE106:
 539              		.section	.text.SD_SendSDStatus,"ax",%progbits
 540              		.align	1
 541              		.syntax unified
 542              		.thumb
 543              		.thumb_func
 545              	SD_SendSDStatus:
 546              	.LVL62:
 547              	.LFB100:
2804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 548              		.loc 1 2804 1 is_stmt 1 view -0
 549              		.cfi_startproc
 550              		@ args = 0, pretend = 0, frame = 24
 551              		@ frame_needed = 0, uses_anonymous_args = 0
2804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 552              		.loc 1 2804 1 is_stmt 0 view .LVU175
 553 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 554              	.LCFI10:
 555              		.cfi_def_cfa_offset 20
 556              		.cfi_offset 4, -20
 557              		.cfi_offset 5, -16
 558              		.cfi_offset 6, -12
 559              		.cfi_offset 7, -8
 560              		.cfi_offset 14, -4
 561 0002 87B0     		sub	sp, sp, #28
 562              	.LCFI11:
ARM GAS  /tmp/cc3mRTku.s 			page 69


 563              		.cfi_def_cfa_offset 48
 564 0004 0546     		mov	r5, r0
 565 0006 0E46     		mov	r6, r1
2805:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 566              		.loc 1 2805 3 is_stmt 1 view .LVU176
2806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 567              		.loc 1 2806 3 view .LVU177
2807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count;
 568              		.loc 1 2807 3 view .LVU178
2807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count;
 569              		.loc 1 2807 24 is_stmt 0 view .LVU179
 570 0008 FFF7FEFF 		bl	HAL_GetTick
 571              	.LVL63:
2807:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count;
 572              		.loc 1 2807 24 view .LVU180
 573 000c 0746     		mov	r7, r0
 574              	.LVL64:
2808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 575              		.loc 1 2808 3 is_stmt 1 view .LVU181
2809:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 576              		.loc 1 2809 3 view .LVU182
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 577              		.loc 1 2812 3 view .LVU183
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 578              		.loc 1 2812 7 is_stmt 0 view .LVU184
 579 000e 0021     		movs	r1, #0
 580 0010 2868     		ldr	r0, [r5]
 581              	.LVL65:
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 582              		.loc 1 2812 7 view .LVU185
 583 0012 FFF7FEFF 		bl	SDIO_GetResponse
 584              	.LVL66:
2812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 585              		.loc 1 2812 5 discriminator 1 view .LVU186
 586 0016 10F0007F 		tst	r0, #33554432
 587 001a 6AD1     		bne	.L48
2818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 588              		.loc 1 2818 3 is_stmt 1 view .LVU187
2818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 589              		.loc 1 2818 16 is_stmt 0 view .LVU188
 590 001c 4021     		movs	r1, #64
 591 001e 2868     		ldr	r0, [r5]
 592 0020 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 593              	.LVL67:
2819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 594              		.loc 1 2819 3 is_stmt 1 view .LVU189
2819:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 595              		.loc 1 2819 5 is_stmt 0 view .LVU190
 596 0024 0346     		mov	r3, r0
 597 0026 10B1     		cbz	r0, .L39
2821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 598              		.loc 1 2821 5 is_stmt 1 view .LVU191
2821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 599              		.loc 1 2821 8 is_stmt 0 view .LVU192
 600 0028 AA6B     		ldr	r2, [r5, #56]
2821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 601              		.loc 1 2821 20 view .LVU193
ARM GAS  /tmp/cc3mRTku.s 			page 70


 602 002a AA63     		str	r2, [r5, #56]
2822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 603              		.loc 1 2822 5 is_stmt 1 view .LVU194
2822:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 604              		.loc 1 2822 12 is_stmt 0 view .LVU195
 605 002c 63E0     		b	.L37
 606              	.L39:
2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 607              		.loc 1 2826 3 is_stmt 1 view .LVU196
2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 608              		.loc 1 2826 73 is_stmt 0 view .LVU197
 609 002e 296D     		ldr	r1, [r5, #80]
2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 610              		.loc 1 2826 16 view .LVU198
 611 0030 0904     		lsls	r1, r1, #16
 612 0032 2868     		ldr	r0, [r5]
 613              	.LVL68:
2826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 614              		.loc 1 2826 16 view .LVU199
 615 0034 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 616              	.LVL69:
2827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 617              		.loc 1 2827 3 is_stmt 1 view .LVU200
2827:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 618              		.loc 1 2827 5 is_stmt 0 view .LVU201
 619 0038 0346     		mov	r3, r0
 620 003a 10B1     		cbz	r0, .L40
2829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 621              		.loc 1 2829 5 is_stmt 1 view .LVU202
2829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 622              		.loc 1 2829 8 is_stmt 0 view .LVU203
 623 003c AA6B     		ldr	r2, [r5, #56]
2829:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 624              		.loc 1 2829 20 view .LVU204
 625 003e AA63     		str	r2, [r5, #56]
2830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 626              		.loc 1 2830 5 is_stmt 1 view .LVU205
2830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 627              		.loc 1 2830 12 is_stmt 0 view .LVU206
 628 0040 59E0     		b	.L37
 629              	.L40:
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataLength    = 64U;
 630              		.loc 1 2834 3 is_stmt 1 view .LVU207
2834:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataLength    = 64U;
 631              		.loc 1 2834 24 is_stmt 0 view .LVU208
 632 0042 4FF0FF33 		mov	r3, #-1
 633 0046 0093     		str	r3, [sp]
2835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 634              		.loc 1 2835 3 is_stmt 1 view .LVU209
2835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 635              		.loc 1 2835 24 is_stmt 0 view .LVU210
 636 0048 4023     		movs	r3, #64
 637 004a 0193     		str	r3, [sp, #4]
2836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 638              		.loc 1 2836 3 is_stmt 1 view .LVU211
2836:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 639              		.loc 1 2836 24 is_stmt 0 view .LVU212
ARM GAS  /tmp/cc3mRTku.s 			page 71


 640 004c 6023     		movs	r3, #96
 641 004e 0293     		str	r3, [sp, #8]
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 642              		.loc 1 2837 3 is_stmt 1 view .LVU213
2837:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 643              		.loc 1 2837 24 is_stmt 0 view .LVU214
 644 0050 0223     		movs	r3, #2
 645 0052 0393     		str	r3, [sp, #12]
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 646              		.loc 1 2838 3 is_stmt 1 view .LVU215
2838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 647              		.loc 1 2838 24 is_stmt 0 view .LVU216
 648 0054 0023     		movs	r3, #0
 649 0056 0493     		str	r3, [sp, #16]
2839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 650              		.loc 1 2839 3 is_stmt 1 view .LVU217
2839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 651              		.loc 1 2839 24 is_stmt 0 view .LVU218
 652 0058 0123     		movs	r3, #1
 653 005a 0593     		str	r3, [sp, #20]
2840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 654              		.loc 1 2840 3 is_stmt 1 view .LVU219
2840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 655              		.loc 1 2840 9 is_stmt 0 view .LVU220
 656 005c 6946     		mov	r1, sp
 657 005e 2868     		ldr	r0, [r5]
 658              	.LVL70:
2840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 659              		.loc 1 2840 9 view .LVU221
 660 0060 FFF7FEFF 		bl	SDIO_ConfigData
 661              	.LVL71:
2843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 662              		.loc 1 2843 3 is_stmt 1 view .LVU222
2843:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 663              		.loc 1 2843 16 is_stmt 0 view .LVU223
 664 0064 2868     		ldr	r0, [r5]
 665 0066 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 666              	.LVL72:
2844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 667              		.loc 1 2844 3 is_stmt 1 view .LVU224
2844:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 668              		.loc 1 2844 5 is_stmt 0 view .LVU225
 669 006a 0346     		mov	r3, r0
 670 006c 80B1     		cbz	r0, .L41
2846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 671              		.loc 1 2846 5 is_stmt 1 view .LVU226
2846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 672              		.loc 1 2846 8 is_stmt 0 view .LVU227
 673 006e AA6B     		ldr	r2, [r5, #56]
2846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return errorstate;
 674              		.loc 1 2846 20 view .LVU228
 675 0070 AA63     		str	r2, [r5, #56]
2847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 676              		.loc 1 2847 5 is_stmt 1 view .LVU229
2847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 677              		.loc 1 2847 12 is_stmt 0 view .LVU230
 678 0072 40E0     		b	.L37
ARM GAS  /tmp/cc3mRTku.s 			page 72


 679              	.LVL73:
 680              	.L44:
2857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         pData++;
 681              		.loc 1 2857 9 is_stmt 1 view .LVU231
2857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         pData++;
 682              		.loc 1 2857 18 is_stmt 0 view .LVU232
 683 0074 2868     		ldr	r0, [r5]
 684 0076 FFF7FEFF 		bl	SDIO_ReadFIFO
 685              	.LVL74:
2857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         pData++;
 686              		.loc 1 2857 16 discriminator 1 view .LVU233
 687 007a 46F8040B 		str	r0, [r6], #4
 688              	.LVL75:
2858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 689              		.loc 1 2858 9 is_stmt 1 view .LVU234
2855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 690              		.loc 1 2855 40 discriminator 3 view .LVU235
 691 007e 0134     		adds	r4, r4, #1
 692              	.LVL76:
 693              	.L42:
2855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 694              		.loc 1 2855 29 discriminator 1 view .LVU236
 695 0080 072C     		cmp	r4, #7
 696 0082 F7D9     		bls	.L44
 697              	.LVL77:
 698              	.L43:
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 699              		.loc 1 2862 5 view .LVU237
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 700              		.loc 1 2862 9 is_stmt 0 view .LVU238
 701 0084 FFF7FEFF 		bl	HAL_GetTick
 702              	.LVL78:
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 703              		.loc 1 2862 23 discriminator 1 view .LVU239
 704 0088 C01B     		subs	r0, r0, r7
2862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 705              		.loc 1 2862 7 discriminator 1 view .LVU240
 706 008a B0F1FF3F 		cmp	r0, #-1
 707 008e 35D0     		beq	.L49
 708              	.L41:
2851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 709              		.loc 1 2851 9 is_stmt 1 view .LVU241
2851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 710              		.loc 1 2851 10 is_stmt 0 view .LVU242
 711 0090 2B68     		ldr	r3, [r5]
 712 0092 5C6B     		ldr	r4, [r3, #52]
 713 0094 40F22A42 		movw	r2, #1066
2851:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 714              		.loc 1 2851 9 view .LVU243
 715 0098 1440     		ands	r4, r4, r2
 716 009a 04D1     		bne	.L56
2853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 717              		.loc 1 2853 5 is_stmt 1 view .LVU244
2853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 718              		.loc 1 2853 8 is_stmt 0 view .LVU245
 719 009c 5B6B     		ldr	r3, [r3, #52]
2853:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
ARM GAS  /tmp/cc3mRTku.s 			page 73


 720              		.loc 1 2853 7 view .LVU246
 721 009e 13F4004F 		tst	r3, #32768
 722 00a2 EFD0     		beq	.L43
 723 00a4 ECE7     		b	.L42
 724              	.L56:
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 725              		.loc 1 2868 3 is_stmt 1 view .LVU247
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 726              		.loc 1 2868 6 is_stmt 0 view .LVU248
 727 00a6 5A6B     		ldr	r2, [r3, #52]
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 728              		.loc 1 2868 5 view .LVU249
 729 00a8 12F0080F 		tst	r2, #8
 730 00ac 29D1     		bne	.L50
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 731              		.loc 1 2868 53 discriminator 1 view .LVU250
 732 00ae 5A6B     		ldr	r2, [r3, #52]
2868:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 733              		.loc 1 2868 49 discriminator 1 view .LVU251
 734 00b0 12F4007F 		tst	r2, #512
 735 00b4 27D1     		bne	.L51
2872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 736              		.loc 1 2872 8 is_stmt 1 view .LVU252
2872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 737              		.loc 1 2872 11 is_stmt 0 view .LVU253
 738 00b6 5A6B     		ldr	r2, [r3, #52]
2872:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 739              		.loc 1 2872 10 view .LVU254
 740 00b8 12F0020F 		tst	r2, #2
 741 00bc 25D1     		bne	.L52
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 742              		.loc 1 2876 8 is_stmt 1 view .LVU255
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 743              		.loc 1 2876 11 is_stmt 0 view .LVU256
 744 00be 5B6B     		ldr	r3, [r3, #52]
2876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 745              		.loc 1 2876 10 view .LVU257
 746 00c0 13F0200F 		tst	r3, #32
 747 00c4 23D1     		bne	.L57
 748              	.L46:
2885:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 749              		.loc 1 2885 11 is_stmt 1 view .LVU258
 750 00c6 2868     		ldr	r0, [r5]
 751 00c8 436B     		ldr	r3, [r0, #52]
 752 00ca 13F40013 		ands	r3, r3, #2097152
 753 00ce 0CD0     		beq	.L58
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pData++;
 754              		.loc 1 2887 5 view .LVU259
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pData++;
 755              		.loc 1 2887 14 is_stmt 0 view .LVU260
 756 00d0 FFF7FEFF 		bl	SDIO_ReadFIFO
 757              	.LVL79:
2887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     pData++;
 758              		.loc 1 2887 12 discriminator 1 view .LVU261
 759 00d4 46F8040B 		str	r0, [r6], #4
 760              	.LVL80:
2888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 74


 761              		.loc 1 2888 5 is_stmt 1 view .LVU262
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 762              		.loc 1 2890 5 view .LVU263
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 763              		.loc 1 2890 9 is_stmt 0 view .LVU264
 764 00d8 FFF7FEFF 		bl	HAL_GetTick
 765              	.LVL81:
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 766              		.loc 1 2890 23 discriminator 1 view .LVU265
 767 00dc C01B     		subs	r0, r0, r7
2890:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 768              		.loc 1 2890 7 discriminator 1 view .LVU266
 769 00de B0F1FF3F 		cmp	r0, #-1
 770 00e2 F0D1     		bne	.L46
2892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 771              		.loc 1 2892 14 view .LVU267
 772 00e4 4FF00043 		mov	r3, #-2147483648
 773 00e8 05E0     		b	.L37
 774              	.L58:
2897:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 775              		.loc 1 2897 3 is_stmt 1 view .LVU268
 776 00ea 40F23A52 		movw	r2, #1338
 777 00ee 8263     		str	r2, [r0, #56]
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 778              		.loc 1 2899 3 view .LVU269
2899:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 779              		.loc 1 2899 10 is_stmt 0 view .LVU270
 780 00f0 01E0     		b	.L37
 781              	.LVL82:
 782              	.L48:
2814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 783              		.loc 1 2814 12 view .LVU271
 784 00f2 4FF40063 		mov	r3, #2048
 785              	.LVL83:
 786              	.L37:
2900:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 787              		.loc 1 2900 1 view .LVU272
 788 00f6 1846     		mov	r0, r3
 789 00f8 07B0     		add	sp, sp, #28
 790              	.LCFI12:
 791              		.cfi_remember_state
 792              		.cfi_def_cfa_offset 20
 793              		@ sp needed
 794 00fa F0BD     		pop	{r4, r5, r6, r7, pc}
 795              	.LVL84:
 796              	.L49:
 797              	.LCFI13:
 798              		.cfi_restore_state
2864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 799              		.loc 1 2864 14 view .LVU273
 800 00fc 4FF00043 		mov	r3, #-2147483648
 801 0100 F9E7     		b	.L37
 802              	.L50:
2870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 803              		.loc 1 2870 12 view .LVU274
 804 0102 0823     		movs	r3, #8
 805 0104 F7E7     		b	.L37
ARM GAS  /tmp/cc3mRTku.s 			page 75


 806              	.L51:
 807 0106 0823     		movs	r3, #8
 808 0108 F5E7     		b	.L37
 809              	.L52:
2874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 810              		.loc 1 2874 12 view .LVU275
 811 010a 0223     		movs	r3, #2
 812 010c F3E7     		b	.L37
 813              	.L57:
2878:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 814              		.loc 1 2878 12 view .LVU276
 815 010e 2023     		movs	r3, #32
 816 0110 F1E7     		b	.L37
 817              		.cfi_endproc
 818              	.LFE100:
 820              		.section	.text.SD_FindSCR,"ax",%progbits
 821              		.align	1
 822              		.syntax unified
 823              		.thumb
 824              		.thumb_func
 826              	SD_FindSCR:
 827              	.LVL85:
 828              	.LFB104:
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 829              		.loc 1 3033 1 is_stmt 1 view -0
 830              		.cfi_startproc
 831              		@ args = 0, pretend = 0, frame = 32
 832              		@ frame_needed = 0, uses_anonymous_args = 0
3033:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 833              		.loc 1 3033 1 is_stmt 0 view .LVU278
 834 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 835              	.LCFI14:
 836              		.cfi_def_cfa_offset 20
 837              		.cfi_offset 4, -20
 838              		.cfi_offset 5, -16
 839              		.cfi_offset 6, -12
 840              		.cfi_offset 7, -8
 841              		.cfi_offset 14, -4
 842 0002 89B0     		sub	sp, sp, #36
 843              	.LCFI15:
 844              		.cfi_def_cfa_offset 56
 845 0004 0446     		mov	r4, r0
 846 0006 0F46     		mov	r7, r1
3034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 847              		.loc 1 3034 3 is_stmt 1 view .LVU279
3035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 848              		.loc 1 3035 3 view .LVU280
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t index = 0U;
 849              		.loc 1 3036 3 view .LVU281
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t index = 0U;
 850              		.loc 1 3036 24 is_stmt 0 view .LVU282
 851 0008 FFF7FEFF 		bl	HAL_GetTick
 852              	.LVL86:
3036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t index = 0U;
 853              		.loc 1 3036 24 view .LVU283
 854 000c 0646     		mov	r6, r0
 855              	.LVL87:
ARM GAS  /tmp/cc3mRTku.s 			page 76


3037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
 856              		.loc 1 3037 3 is_stmt 1 view .LVU284
3038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t *scr = pSCR;
 857              		.loc 1 3038 3 view .LVU285
3038:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t *scr = pSCR;
 858              		.loc 1 3038 12 is_stmt 0 view .LVU286
 859 000e 0023     		movs	r3, #0
 860 0010 0093     		str	r3, [sp]
 861 0012 0193     		str	r3, [sp, #4]
3039:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 862              		.loc 1 3039 3 is_stmt 1 view .LVU287
 863              	.LVL88:
3042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 864              		.loc 1 3042 3 view .LVU288
3042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 865              		.loc 1 3042 16 is_stmt 0 view .LVU289
 866 0014 0821     		movs	r1, #8
 867 0016 2068     		ldr	r0, [r4]
 868              	.LVL89:
3042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 869              		.loc 1 3042 16 view .LVU290
 870 0018 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 871              	.LVL90:
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 872              		.loc 1 3043 3 is_stmt 1 view .LVU291
3043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 873              		.loc 1 3043 5 is_stmt 0 view .LVU292
 874 001c 0546     		mov	r5, r0
 875 001e 10B1     		cbz	r0, .L72
 876              	.LVL91:
 877              	.L59:
3121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 878              		.loc 1 3121 1 view .LVU293
 879 0020 2846     		mov	r0, r5
 880 0022 09B0     		add	sp, sp, #36
 881              	.LCFI16:
 882              		.cfi_remember_state
 883              		.cfi_def_cfa_offset 20
 884              		@ sp needed
 885 0024 F0BD     		pop	{r4, r5, r6, r7, pc}
 886              	.LVL92:
 887              	.L72:
 888              	.LCFI17:
 889              		.cfi_restore_state
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 890              		.loc 1 3049 3 is_stmt 1 view .LVU294
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 891              		.loc 1 3049 74 is_stmt 0 view .LVU295
 892 0026 216D     		ldr	r1, [r4, #80]
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 893              		.loc 1 3049 16 view .LVU296
 894 0028 0904     		lsls	r1, r1, #16
 895 002a 2068     		ldr	r0, [r4]
 896              	.LVL93:
3049:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 897              		.loc 1 3049 16 view .LVU297
 898 002c FFF7FEFF 		bl	SDMMC_CmdAppCommand
ARM GAS  /tmp/cc3mRTku.s 			page 77


 899              	.LVL94:
3050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 900              		.loc 1 3050 3 is_stmt 1 view .LVU298
3050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 901              		.loc 1 3050 5 is_stmt 0 view .LVU299
 902 0030 0546     		mov	r5, r0
 903 0032 0028     		cmp	r0, #0
 904 0034 F4D1     		bne	.L59
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataLength    = 8U;
 905              		.loc 1 3055 3 is_stmt 1 view .LVU300
3055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataLength    = 8U;
 906              		.loc 1 3055 24 is_stmt 0 view .LVU301
 907 0036 4FF0FF33 		mov	r3, #-1
 908 003a 0293     		str	r3, [sp, #8]
3056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 909              		.loc 1 3056 3 is_stmt 1 view .LVU302
3056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 910              		.loc 1 3056 24 is_stmt 0 view .LVU303
 911 003c 0823     		movs	r3, #8
 912 003e 0393     		str	r3, [sp, #12]
3057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 913              		.loc 1 3057 3 is_stmt 1 view .LVU304
3057:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 914              		.loc 1 3057 24 is_stmt 0 view .LVU305
 915 0040 3023     		movs	r3, #48
 916 0042 0493     		str	r3, [sp, #16]
3058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 917              		.loc 1 3058 3 is_stmt 1 view .LVU306
3058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 918              		.loc 1 3058 24 is_stmt 0 view .LVU307
 919 0044 0223     		movs	r3, #2
 920 0046 0593     		str	r3, [sp, #20]
3059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 921              		.loc 1 3059 3 is_stmt 1 view .LVU308
3059:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 922              		.loc 1 3059 24 is_stmt 0 view .LVU309
 923 0048 0023     		movs	r3, #0
 924 004a 0693     		str	r3, [sp, #24]
3060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 925              		.loc 1 3060 3 is_stmt 1 view .LVU310
3060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 926              		.loc 1 3060 24 is_stmt 0 view .LVU311
 927 004c 0123     		movs	r3, #1
 928 004e 0793     		str	r3, [sp, #28]
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 929              		.loc 1 3061 3 is_stmt 1 view .LVU312
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 930              		.loc 1 3061 9 is_stmt 0 view .LVU313
 931 0050 02A9     		add	r1, sp, #8
 932 0052 2068     		ldr	r0, [r4]
 933              	.LVL95:
3061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 934              		.loc 1 3061 9 view .LVU314
 935 0054 FFF7FEFF 		bl	SDIO_ConfigData
 936              	.LVL96:
3064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 937              		.loc 1 3064 3 is_stmt 1 view .LVU315
ARM GAS  /tmp/cc3mRTku.s 			page 78


3064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 938              		.loc 1 3064 16 is_stmt 0 view .LVU316
 939 0058 2068     		ldr	r0, [r4]
 940 005a FFF7FEFF 		bl	SDMMC_CmdSendSCR
 941              	.LVL97:
3065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 942              		.loc 1 3065 3 is_stmt 1 view .LVU317
3065:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 943              		.loc 1 3065 5 is_stmt 0 view .LVU318
 944 005e 0546     		mov	r5, r0
 945 0060 58B1     		cbz	r0, .L61
 946 0062 DDE7     		b	.L59
 947              	.LVL98:
 948              	.L73:
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       index++;
 949              		.loc 1 3074 7 is_stmt 1 view .LVU319
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       index++;
 950              		.loc 1 3074 28 is_stmt 0 view .LVU320
 951 0064 FFF7FEFF 		bl	SDIO_ReadFIFO
 952              	.LVL99:
3074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       index++;
 953              		.loc 1 3074 26 discriminator 1 view .LVU321
 954 0068 4DF82500 		str	r0, [sp, r5, lsl #2]
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 955              		.loc 1 3075 7 is_stmt 1 view .LVU322
3075:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 956              		.loc 1 3075 12 is_stmt 0 view .LVU323
 957 006c 0135     		adds	r5, r5, #1
 958              	.LVL100:
 959              	.L63:
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 960              		.loc 1 3082 5 is_stmt 1 view .LVU324
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 961              		.loc 1 3082 9 is_stmt 0 view .LVU325
 962 006e FFF7FEFF 		bl	HAL_GetTick
 963              	.LVL101:
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 964              		.loc 1 3082 23 discriminator 1 view .LVU326
 965 0072 831B     		subs	r3, r0, r6
3082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 966              		.loc 1 3082 7 discriminator 1 view .LVU327
 967 0074 B3F1FF3F 		cmp	r3, #-1
 968 0078 43D0     		beq	.L70
 969              	.LVL102:
 970              	.L61:
3070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 971              		.loc 1 3070 9 is_stmt 1 view .LVU328
3070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 972              		.loc 1 3070 10 is_stmt 0 view .LVU329
 973 007a 2068     		ldr	r0, [r4]
 974 007c 436B     		ldr	r3, [r0, #52]
3070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 975              		.loc 1 3070 9 view .LVU330
 976 007e 13F02A0F 		tst	r3, #42
 977 0082 07D1     		bne	.L64
3072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 978              		.loc 1 3072 5 is_stmt 1 view .LVU331
ARM GAS  /tmp/cc3mRTku.s 			page 79


3072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 979              		.loc 1 3072 8 is_stmt 0 view .LVU332
 980 0084 436B     		ldr	r3, [r0, #52]
3072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 981              		.loc 1 3072 7 view .LVU333
 982 0086 13F4001F 		tst	r3, #2097152
 983 008a EBD1     		bne	.L73
3077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 984              		.loc 1 3077 10 is_stmt 1 view .LVU334
3077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 985              		.loc 1 3077 14 is_stmt 0 view .LVU335
 986 008c 436B     		ldr	r3, [r0, #52]
3077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 987              		.loc 1 3077 12 view .LVU336
 988 008e 13F4005F 		tst	r3, #8192
 989 0092 ECD1     		bne	.L63
 990              	.L64:
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 991              		.loc 1 3088 3 is_stmt 1 view .LVU337
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 992              		.loc 1 3088 6 is_stmt 0 view .LVU338
 993 0094 436B     		ldr	r3, [r0, #52]
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 994              		.loc 1 3088 5 view .LVU339
 995 0096 13F0080F 		tst	r3, #8
 996 009a 29D1     		bne	.L66
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 997              		.loc 1 3088 53 discriminator 1 view .LVU340
 998 009c 436B     		ldr	r3, [r0, #52]
3088:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 999              		.loc 1 3088 49 discriminator 1 view .LVU341
 1000 009e 13F4007F 		tst	r3, #512
 1001 00a2 25D1     		bne	.L66
3094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1002              		.loc 1 3094 8 is_stmt 1 view .LVU342
3094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1003              		.loc 1 3094 11 is_stmt 0 view .LVU343
 1004 00a4 436B     		ldr	r3, [r0, #52]
3094:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1005              		.loc 1 3094 10 view .LVU344
 1006 00a6 13F0020F 		tst	r3, #2
 1007 00aa 24D1     		bne	.L74
3100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1008              		.loc 1 3100 8 is_stmt 1 view .LVU345
3100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1009              		.loc 1 3100 11 is_stmt 0 view .LVU346
 1010 00ac 456B     		ldr	r5, [r0, #52]
 1011              	.LVL103:
3100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1012              		.loc 1 3100 10 view .LVU347
 1013 00ae 15F02005 		ands	r5, r5, #32
 1014 00b2 23D1     		bne	.L75
3110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1015              		.loc 1 3110 5 is_stmt 1 view .LVU348
 1016 00b4 40F23A53 		movw	r3, #1338
 1017 00b8 8363     		str	r3, [r0, #56]
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
ARM GAS  /tmp/cc3mRTku.s 			page 80


 1018              		.loc 1 3112 5 view .LVU349
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1019              		.loc 1 3112 22 is_stmt 0 view .LVU350
 1020 00ba 019A     		ldr	r2, [sp, #4]
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1021              		.loc 1 3112 86 view .LVU351
 1022 00bc 1302     		lsls	r3, r2, #8
 1023 00be 03F47F03 		and	r3, r3, #16711680
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1024              		.loc 1 3112 52 view .LVU352
 1025 00c2 43EA0263 		orr	r3, r3, r2, lsl #24
3113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     scr++;
 1026              		.loc 1 3113 46 view .LVU353
 1027 00c6 110A     		lsrs	r1, r2, #8
 1028 00c8 01F47F41 		and	r1, r1, #65280
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1029              		.loc 1 3112 92 view .LVU354
 1030 00cc 0B43     		orrs	r3, r3, r1
3113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     scr++;
 1031              		.loc 1 3113 52 view .LVU355
 1032 00ce 43EA1263 		orr	r3, r3, r2, lsr #24
3112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1033              		.loc 1 3112 10 view .LVU356
 1034 00d2 3B60     		str	r3, [r7]
3114:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
 1035              		.loc 1 3114 5 is_stmt 1 view .LVU357
 1036              	.LVL104:
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1037              		.loc 1 3115 5 view .LVU358
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1038              		.loc 1 3115 22 is_stmt 0 view .LVU359
 1039 00d4 009A     		ldr	r2, [sp]
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1040              		.loc 1 3115 86 view .LVU360
 1041 00d6 1302     		lsls	r3, r2, #8
 1042 00d8 03F47F03 		and	r3, r3, #16711680
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1043              		.loc 1 3115 52 view .LVU361
 1044 00dc 43EA0263 		orr	r3, r3, r2, lsl #24
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1045              		.loc 1 3116 46 view .LVU362
 1046 00e0 110A     		lsrs	r1, r2, #8
 1047 00e2 01F47F41 		and	r1, r1, #65280
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1048              		.loc 1 3115 92 view .LVU363
 1049 00e6 0B43     		orrs	r3, r3, r1
3116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1050              		.loc 1 3116 52 view .LVU364
 1051 00e8 43EA1263 		orr	r3, r3, r2, lsr #24
3115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1052              		.loc 1 3115 10 view .LVU365
 1053 00ec 7B60     		str	r3, [r7, #4]
3120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 1054              		.loc 1 3120 3 is_stmt 1 view .LVU366
3120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 1055              		.loc 1 3120 10 is_stmt 0 view .LVU367
 1056 00ee 97E7     		b	.L59
ARM GAS  /tmp/cc3mRTku.s 			page 81


 1057              	.LVL105:
 1058              	.L66:
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1059              		.loc 1 3090 5 is_stmt 1 view .LVU368
 1060 00f0 0825     		movs	r5, #8
 1061              	.LVL106:
3090:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1062              		.loc 1 3090 5 is_stmt 0 view .LVU369
 1063 00f2 8563     		str	r5, [r0, #56]
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1064              		.loc 1 3092 5 is_stmt 1 view .LVU370
3092:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1065              		.loc 1 3092 12 is_stmt 0 view .LVU371
 1066 00f4 94E7     		b	.L59
 1067              	.LVL107:
 1068              	.L74:
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1069              		.loc 1 3096 5 is_stmt 1 view .LVU372
 1070 00f6 0225     		movs	r5, #2
 1071              	.LVL108:
3096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1072              		.loc 1 3096 5 is_stmt 0 view .LVU373
 1073 00f8 8563     		str	r5, [r0, #56]
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1074              		.loc 1 3098 5 is_stmt 1 view .LVU374
3098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1075              		.loc 1 3098 12 is_stmt 0 view .LVU375
 1076 00fa 91E7     		b	.L59
 1077              	.L75:
3102:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1078              		.loc 1 3102 5 is_stmt 1 view .LVU376
 1079 00fc 2025     		movs	r5, #32
 1080 00fe 8563     		str	r5, [r0, #56]
3104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1081              		.loc 1 3104 5 view .LVU377
3104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1082              		.loc 1 3104 12 is_stmt 0 view .LVU378
 1083 0100 8EE7     		b	.L59
 1084              	.LVL109:
 1085              	.L70:
3084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1086              		.loc 1 3084 14 view .LVU379
 1087 0102 4FF00045 		mov	r5, #-2147483648
 1088              	.LVL110:
3084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1089              		.loc 1 3084 14 view .LVU380
 1090 0106 8BE7     		b	.L59
 1091              		.cfi_endproc
 1092              	.LFE104:
 1094              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 1095              		.align	1
 1096              		.syntax unified
 1097              		.thumb
 1098              		.thumb_func
 1100              	SD_WideBus_Enable:
 1101              	.LVL111:
 1102              	.LFB102:
ARM GAS  /tmp/cc3mRTku.s 			page 82


2937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1103              		.loc 1 2937 1 is_stmt 1 view -0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 8
 1106              		@ frame_needed = 0, uses_anonymous_args = 0
2937:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1107              		.loc 1 2937 1 is_stmt 0 view .LVU382
 1108 0000 10B5     		push	{r4, lr}
 1109              	.LCFI18:
 1110              		.cfi_def_cfa_offset 8
 1111              		.cfi_offset 4, -8
 1112              		.cfi_offset 14, -4
 1113 0002 82B0     		sub	sp, sp, #8
 1114              	.LCFI19:
 1115              		.cfi_def_cfa_offset 16
 1116 0004 0446     		mov	r4, r0
2938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1117              		.loc 1 2938 3 is_stmt 1 view .LVU383
2938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1118              		.loc 1 2938 12 is_stmt 0 view .LVU384
 1119 0006 0021     		movs	r1, #0
 1120 0008 0091     		str	r1, [sp]
 1121 000a 0191     		str	r1, [sp, #4]
2939:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1122              		.loc 1 2939 3 is_stmt 1 view .LVU385
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1123              		.loc 1 2941 3 view .LVU386
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1124              		.loc 1 2941 7 is_stmt 0 view .LVU387
 1125 000c 0068     		ldr	r0, [r0]
 1126              	.LVL112:
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1127              		.loc 1 2941 7 view .LVU388
 1128 000e FFF7FEFF 		bl	SDIO_GetResponse
 1129              	.LVL113:
2941:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1130              		.loc 1 2941 5 discriminator 1 view .LVU389
 1131 0012 10F0007F 		tst	r0, #33554432
 1132 0016 13D1     		bne	.L78
2947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1133              		.loc 1 2947 3 is_stmt 1 view .LVU390
2947:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1134              		.loc 1 2947 16 is_stmt 0 view .LVU391
 1135 0018 6946     		mov	r1, sp
 1136 001a 2046     		mov	r0, r4
 1137 001c FFF7FEFF 		bl	SD_FindSCR
 1138              	.LVL114:
2948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1139              		.loc 1 2948 3 is_stmt 1 view .LVU392
2948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1140              		.loc 1 2948 5 is_stmt 0 view .LVU393
 1141 0020 80B9     		cbnz	r0, .L76
2954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1142              		.loc 1 2954 3 is_stmt 1 view .LVU394
2954:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1143              		.loc 1 2954 5 is_stmt 0 view .LVU395
 1144 0022 019B     		ldr	r3, [sp, #4]
ARM GAS  /tmp/cc3mRTku.s 			page 83


 1145 0024 13F4802F 		tst	r3, #262144
 1146 0028 0ED0     		beq	.L79
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1147              		.loc 1 2957 5 is_stmt 1 view .LVU396
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1148              		.loc 1 2957 75 is_stmt 0 view .LVU397
 1149 002a 216D     		ldr	r1, [r4, #80]
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1150              		.loc 1 2957 18 view .LVU398
 1151 002c 0904     		lsls	r1, r1, #16
 1152 002e 2068     		ldr	r0, [r4]
 1153              	.LVL115:
2957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1154              		.loc 1 2957 18 view .LVU399
 1155 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1156              	.LVL116:
2958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1157              		.loc 1 2958 5 is_stmt 1 view .LVU400
2958:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1158              		.loc 1 2958 7 is_stmt 0 view .LVU401
 1159 0034 30B9     		cbnz	r0, .L76
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1160              		.loc 1 2964 5 is_stmt 1 view .LVU402
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1161              		.loc 1 2964 18 is_stmt 0 view .LVU403
 1162 0036 0221     		movs	r1, #2
 1163 0038 2068     		ldr	r0, [r4]
 1164              	.LVL117:
2964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1165              		.loc 1 2964 18 view .LVU404
 1166 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1167              	.LVL118:
2965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1168              		.loc 1 2965 5 is_stmt 1 view .LVU405
 1169 003e 01E0     		b	.L76
 1170              	.LVL119:
 1171              	.L78:
2943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1172              		.loc 1 2943 12 is_stmt 0 view .LVU406
 1173 0040 4FF40060 		mov	r0, #2048
 1174              	.L76:
2976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1175              		.loc 1 2976 1 view .LVU407
 1176 0044 02B0     		add	sp, sp, #8
 1177              	.LCFI20:
 1178              		.cfi_remember_state
 1179              		.cfi_def_cfa_offset 8
 1180              		@ sp needed
 1181 0046 10BD     		pop	{r4, pc}
 1182              	.LVL120:
 1183              	.L79:
 1184              	.LCFI21:
 1185              		.cfi_restore_state
2974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1186              		.loc 1 2974 12 view .LVU408
 1187 0048 4FF08060 		mov	r0, #67108864
 1188              	.LVL121:
ARM GAS  /tmp/cc3mRTku.s 			page 84


2974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1189              		.loc 1 2974 12 view .LVU409
 1190 004c FAE7     		b	.L76
 1191              		.cfi_endproc
 1192              	.LFE102:
 1194              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 1195              		.align	1
 1196              		.syntax unified
 1197              		.thumb
 1198              		.thumb_func
 1200              	SD_WideBus_Disable:
 1201              	.LVL122:
 1202              	.LFB103:
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1203              		.loc 1 2984 1 is_stmt 1 view -0
 1204              		.cfi_startproc
 1205              		@ args = 0, pretend = 0, frame = 8
 1206              		@ frame_needed = 0, uses_anonymous_args = 0
2984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1207              		.loc 1 2984 1 is_stmt 0 view .LVU411
 1208 0000 10B5     		push	{r4, lr}
 1209              	.LCFI22:
 1210              		.cfi_def_cfa_offset 8
 1211              		.cfi_offset 4, -8
 1212              		.cfi_offset 14, -4
 1213 0002 82B0     		sub	sp, sp, #8
 1214              	.LCFI23:
 1215              		.cfi_def_cfa_offset 16
 1216 0004 0446     		mov	r4, r0
2985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1217              		.loc 1 2985 3 is_stmt 1 view .LVU412
2985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1218              		.loc 1 2985 12 is_stmt 0 view .LVU413
 1219 0006 0021     		movs	r1, #0
 1220 0008 0091     		str	r1, [sp]
 1221 000a 0191     		str	r1, [sp, #4]
2986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1222              		.loc 1 2986 3 is_stmt 1 view .LVU414
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1223              		.loc 1 2988 3 view .LVU415
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1224              		.loc 1 2988 7 is_stmt 0 view .LVU416
 1225 000c 0068     		ldr	r0, [r0]
 1226              	.LVL123:
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1227              		.loc 1 2988 7 view .LVU417
 1228 000e FFF7FEFF 		bl	SDIO_GetResponse
 1229              	.LVL124:
2988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1230              		.loc 1 2988 5 discriminator 1 view .LVU418
 1231 0012 10F0007F 		tst	r0, #33554432
 1232 0016 13D1     		bne	.L83
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1233              		.loc 1 2994 3 is_stmt 1 view .LVU419
2994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1234              		.loc 1 2994 16 is_stmt 0 view .LVU420
 1235 0018 6946     		mov	r1, sp
ARM GAS  /tmp/cc3mRTku.s 			page 85


 1236 001a 2046     		mov	r0, r4
 1237 001c FFF7FEFF 		bl	SD_FindSCR
 1238              	.LVL125:
2995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1239              		.loc 1 2995 3 is_stmt 1 view .LVU421
2995:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1240              		.loc 1 2995 5 is_stmt 0 view .LVU422
 1241 0020 80B9     		cbnz	r0, .L81
3001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1242              		.loc 1 3001 3 is_stmt 1 view .LVU423
3001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1243              		.loc 1 3001 5 is_stmt 0 view .LVU424
 1244 0022 019B     		ldr	r3, [sp, #4]
 1245 0024 13F4803F 		tst	r3, #65536
 1246 0028 0ED0     		beq	.L84
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1247              		.loc 1 3004 5 is_stmt 1 view .LVU425
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1248              		.loc 1 3004 75 is_stmt 0 view .LVU426
 1249 002a 216D     		ldr	r1, [r4, #80]
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1250              		.loc 1 3004 18 view .LVU427
 1251 002c 0904     		lsls	r1, r1, #16
 1252 002e 2068     		ldr	r0, [r4]
 1253              	.LVL126:
3004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1254              		.loc 1 3004 18 view .LVU428
 1255 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1256              	.LVL127:
3005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1257              		.loc 1 3005 5 is_stmt 1 view .LVU429
3005:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1258              		.loc 1 3005 7 is_stmt 0 view .LVU430
 1259 0034 30B9     		cbnz	r0, .L81
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1260              		.loc 1 3011 5 is_stmt 1 view .LVU431
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1261              		.loc 1 3011 18 is_stmt 0 view .LVU432
 1262 0036 0021     		movs	r1, #0
 1263 0038 2068     		ldr	r0, [r4]
 1264              	.LVL128:
3011:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1265              		.loc 1 3011 18 view .LVU433
 1266 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1267              	.LVL129:
3012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1268              		.loc 1 3012 5 is_stmt 1 view .LVU434
 1269 003e 01E0     		b	.L81
 1270              	.LVL130:
 1271              	.L83:
2990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1272              		.loc 1 2990 12 is_stmt 0 view .LVU435
 1273 0040 4FF40060 		mov	r0, #2048
 1274              	.L81:
3023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1275              		.loc 1 3023 1 view .LVU436
 1276 0044 02B0     		add	sp, sp, #8
ARM GAS  /tmp/cc3mRTku.s 			page 86


 1277              	.LCFI24:
 1278              		.cfi_remember_state
 1279              		.cfi_def_cfa_offset 8
 1280              		@ sp needed
 1281 0046 10BD     		pop	{r4, pc}
 1282              	.LVL131:
 1283              	.L84:
 1284              	.LCFI25:
 1285              		.cfi_restore_state
3021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1286              		.loc 1 3021 12 view .LVU437
 1287 0048 4FF08060 		mov	r0, #67108864
 1288              	.LVL132:
3021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1289              		.loc 1 3021 12 view .LVU438
 1290 004c FAE7     		b	.L81
 1291              		.cfi_endproc
 1292              	.LFE103:
 1294              		.section	.text.SD_SendStatus,"ax",%progbits
 1295              		.align	1
 1296              		.syntax unified
 1297              		.thumb
 1298              		.thumb_func
 1300              	SD_SendStatus:
 1301              	.LVL133:
 1302              	.LFB101:
2910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1303              		.loc 1 2910 1 is_stmt 1 view -0
 1304              		.cfi_startproc
 1305              		@ args = 0, pretend = 0, frame = 0
 1306              		@ frame_needed = 0, uses_anonymous_args = 0
2910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1307              		.loc 1 2910 1 is_stmt 0 view .LVU440
 1308 0000 70B5     		push	{r4, r5, r6, lr}
 1309              	.LCFI26:
 1310              		.cfi_def_cfa_offset 16
 1311              		.cfi_offset 4, -16
 1312              		.cfi_offset 5, -12
 1313              		.cfi_offset 6, -8
 1314              		.cfi_offset 14, -4
2911:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1315              		.loc 1 2911 3 is_stmt 1 view .LVU441
2913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1316              		.loc 1 2913 3 view .LVU442
2913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1317              		.loc 1 2913 5 is_stmt 0 view .LVU443
 1318 0002 81B1     		cbz	r1, .L88
 1319 0004 0446     		mov	r4, r0
 1320 0006 0E46     		mov	r6, r1
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1321              		.loc 1 2919 3 is_stmt 1 view .LVU444
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1322              		.loc 1 2919 73 is_stmt 0 view .LVU445
 1323 0008 016D     		ldr	r1, [r0, #80]
 1324              	.LVL134:
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1325              		.loc 1 2919 16 view .LVU446
ARM GAS  /tmp/cc3mRTku.s 			page 87


 1326 000a 0904     		lsls	r1, r1, #16
 1327 000c 0068     		ldr	r0, [r0]
 1328              	.LVL135:
2919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1329              		.loc 1 2919 16 view .LVU447
 1330 000e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 1331              	.LVL136:
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1332              		.loc 1 2920 3 is_stmt 1 view .LVU448
2920:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1333              		.loc 1 2920 5 is_stmt 0 view .LVU449
 1334 0012 0546     		mov	r5, r0
 1335 0014 08B1     		cbz	r0, .L90
 1336              	.LVL137:
 1337              	.L86:
2929:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1338              		.loc 1 2929 1 view .LVU450
 1339 0016 2846     		mov	r0, r5
 1340 0018 70BD     		pop	{r4, r5, r6, pc}
 1341              	.LVL138:
 1342              	.L90:
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1343              		.loc 1 2926 3 is_stmt 1 view .LVU451
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1344              		.loc 1 2926 18 is_stmt 0 view .LVU452
 1345 001a 0021     		movs	r1, #0
 1346 001c 2068     		ldr	r0, [r4]
 1347              	.LVL139:
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1348              		.loc 1 2926 18 view .LVU453
 1349 001e FFF7FEFF 		bl	SDIO_GetResponse
 1350              	.LVL140:
2926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1351              		.loc 1 2926 16 discriminator 1 view .LVU454
 1352 0022 3060     		str	r0, [r6]
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 1353              		.loc 1 2928 3 is_stmt 1 view .LVU455
2928:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 1354              		.loc 1 2928 10 is_stmt 0 view .LVU456
 1355 0024 F7E7     		b	.L86
 1356              	.LVL141:
 1357              	.L88:
2915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1358              		.loc 1 2915 12 view .LVU457
 1359 0026 4FF00065 		mov	r5, #134217728
 1360 002a F4E7     		b	.L86
 1361              		.cfi_endproc
 1362              	.LFE101:
 1364              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1365              		.align	1
 1366              		.weak	HAL_SD_MspInit
 1367              		.syntax unified
 1368              		.thumb
 1369              		.thumb_func
 1371              	HAL_SD_MspInit:
 1372              	.LVL142:
 1373              	.LFB68:
ARM GAS  /tmp/cc3mRTku.s 			page 88


 510:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1374              		.loc 1 510 1 is_stmt 1 view -0
 1375              		.cfi_startproc
 1376              		@ args = 0, pretend = 0, frame = 0
 1377              		@ frame_needed = 0, uses_anonymous_args = 0
 1378              		@ link register save eliminated.
 512:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1379              		.loc 1 512 3 view .LVU459
 517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1380              		.loc 1 517 1 is_stmt 0 view .LVU460
 1381 0000 7047     		bx	lr
 1382              		.cfi_endproc
 1383              	.LFE68:
 1385              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1386              		.align	1
 1387              		.weak	HAL_SD_MspDeInit
 1388              		.syntax unified
 1389              		.thumb
 1390              		.thumb_func
 1392              	HAL_SD_MspDeInit:
 1393              	.LVL143:
 1394              	.LFB69:
 525:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1395              		.loc 1 525 1 is_stmt 1 view -0
 1396              		.cfi_startproc
 1397              		@ args = 0, pretend = 0, frame = 0
 1398              		@ frame_needed = 0, uses_anonymous_args = 0
 1399              		@ link register save eliminated.
 527:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1400              		.loc 1 527 3 view .LVU462
 532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1401              		.loc 1 532 1 is_stmt 0 view .LVU463
 1402 0000 7047     		bx	lr
 1403              		.cfi_endproc
 1404              	.LFE69:
 1406              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1407              		.align	1
 1408              		.global	HAL_SD_DeInit
 1409              		.syntax unified
 1410              		.thumb
 1411              		.thumb_func
 1413              	HAL_SD_DeInit:
 1414              	.LVL144:
 1415              	.LFB67:
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the SD handle allocation */
 1416              		.loc 1 469 1 is_stmt 1 view -0
 1417              		.cfi_startproc
 1418              		@ args = 0, pretend = 0, frame = 0
 1419              		@ frame_needed = 0, uses_anonymous_args = 0
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1420              		.loc 1 471 3 view .LVU465
 471:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1421              		.loc 1 471 5 is_stmt 0 view .LVU466
 1422 0000 70B1     		cbz	r0, .L95
 469:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the SD handle allocation */
 1423              		.loc 1 469 1 view .LVU467
 1424 0002 10B5     		push	{r4, lr}
ARM GAS  /tmp/cc3mRTku.s 			page 89


 1425              	.LCFI27:
 1426              		.cfi_def_cfa_offset 8
 1427              		.cfi_offset 4, -8
 1428              		.cfi_offset 14, -4
 1429 0004 0446     		mov	r4, r0
 477:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1430              		.loc 1 477 3 is_stmt 1 view .LVU468
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1431              		.loc 1 479 3 view .LVU469
 479:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1432              		.loc 1 479 14 is_stmt 0 view .LVU470
 1433 0006 0323     		movs	r3, #3
 1434 0008 80F83430 		strb	r3, [r0, #52]
 482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1435              		.loc 1 482 3 is_stmt 1 view .LVU471
 1436 000c FFF7FEFF 		bl	SD_PowerOFF
 1437              	.LVL145:
 494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 1438              		.loc 1 494 3 view .LVU472
 1439 0010 2046     		mov	r0, r4
 1440 0012 FFF7FEFF 		bl	HAL_SD_MspDeInit
 1441              	.LVL146:
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1442              		.loc 1 497 3 view .LVU473
 497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1443              		.loc 1 497 18 is_stmt 0 view .LVU474
 1444 0016 0020     		movs	r0, #0
 1445 0018 A063     		str	r0, [r4, #56]
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1446              		.loc 1 498 3 is_stmt 1 view .LVU475
 498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1447              		.loc 1 498 14 is_stmt 0 view .LVU476
 1448 001a 84F83400 		strb	r0, [r4, #52]
 500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 1449              		.loc 1 500 3 is_stmt 1 view .LVU477
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1450              		.loc 1 501 1 is_stmt 0 view .LVU478
 1451 001e 10BD     		pop	{r4, pc}
 1452              	.LVL147:
 1453              	.L95:
 1454              	.LCFI28:
 1455              		.cfi_def_cfa_offset 0
 1456              		.cfi_restore 4
 1457              		.cfi_restore 14
 473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1458              		.loc 1 473 12 view .LVU479
 1459 0020 0120     		movs	r0, #1
 1460              	.LVL148:
 501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1461              		.loc 1 501 1 view .LVU480
 1462 0022 7047     		bx	lr
 1463              		.cfi_endproc
 1464              	.LFE67:
 1466              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1467              		.align	1
 1468              		.global	HAL_SD_ReadBlocks
 1469              		.syntax unified
ARM GAS  /tmp/cc3mRTku.s 			page 90


 1470              		.thumb
 1471              		.thumb_func
 1473              	HAL_SD_ReadBlocks:
 1474              	.LVL149:
 1475              	.LFB70:
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 1476              		.loc 1 566 1 is_stmt 1 view -0
 1477              		.cfi_startproc
 1478              		@ args = 4, pretend = 0, frame = 24
 1479              		@ frame_needed = 0, uses_anonymous_args = 0
 566:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 1480              		.loc 1 566 1 is_stmt 0 view .LVU482
 1481 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1482              	.LCFI29:
 1483              		.cfi_def_cfa_offset 36
 1484              		.cfi_offset 4, -36
 1485              		.cfi_offset 5, -32
 1486              		.cfi_offset 6, -28
 1487              		.cfi_offset 7, -24
 1488              		.cfi_offset 8, -20
 1489              		.cfi_offset 9, -16
 1490              		.cfi_offset 10, -12
 1491              		.cfi_offset 11, -8
 1492              		.cfi_offset 14, -4
 1493 0004 87B0     		sub	sp, sp, #28
 1494              	.LCFI30:
 1495              		.cfi_def_cfa_offset 64
 1496 0006 0546     		mov	r5, r0
 1497 0008 0C46     		mov	r4, r1
 1498 000a 1646     		mov	r6, r2
 1499 000c 9B46     		mov	fp, r3
 1500 000e DDF840A0 		ldr	r10, [sp, #64]
 567:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 1501              		.loc 1 567 3 is_stmt 1 view .LVU483
 568:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1502              		.loc 1 568 3 view .LVU484
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 1503              		.loc 1 569 3 view .LVU485
 569:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 1504              		.loc 1 569 24 is_stmt 0 view .LVU486
 1505 0012 FFF7FEFF 		bl	HAL_GetTick
 1506              	.LVL150:
 570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1507              		.loc 1 570 3 is_stmt 1 view .LVU487
 571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1508              		.loc 1 571 3 view .LVU488
 572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1509              		.loc 1 572 3 view .LVU489
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1510              		.loc 1 574 3 view .LVU490
 574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1511              		.loc 1 574 5 is_stmt 0 view .LVU491
 1512 0016 002C     		cmp	r4, #0
 1513 0018 36D0     		beq	.L124
 1514 001a 8146     		mov	r9, r0
 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1515              		.loc 1 580 3 is_stmt 1 view .LVU492
ARM GAS  /tmp/cc3mRTku.s 			page 91


 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1516              		.loc 1 580 9 is_stmt 0 view .LVU493
 1517 001c 95F83470 		ldrb	r7, [r5, #52]	@ zero_extendqisi2
 1518 0020 FFB2     		uxtb	r7, r7
 580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 1519              		.loc 1 580 5 view .LVU494
 1520 0022 012F     		cmp	r7, #1
 1521 0024 40F00981 		bne	.L103
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1522              		.loc 1 582 5 is_stmt 1 view .LVU495
 582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1523              		.loc 1 582 20 is_stmt 0 view .LVU496
 1524 0028 0023     		movs	r3, #0
 1525 002a AB63     		str	r3, [r5, #56]
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1526              		.loc 1 584 5 is_stmt 1 view .LVU497
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1527              		.loc 1 584 13 is_stmt 0 view .LVU498
 1528 002c 06EB0B03 		add	r3, r6, fp
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1529              		.loc 1 584 45 view .LVU499
 1530 0030 EA6D     		ldr	r2, [r5, #92]
 584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1531              		.loc 1 584 7 view .LVU500
 1532 0032 9342     		cmp	r3, r2
 1533 0034 2ED8     		bhi	.L125
 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1534              		.loc 1 590 5 is_stmt 1 view .LVU501
 590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1535              		.loc 1 590 16 is_stmt 0 view .LVU502
 1536 0036 0323     		movs	r3, #3
 1537 0038 85F83430 		strb	r3, [r5, #52]
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1538              		.loc 1 593 5 is_stmt 1 view .LVU503
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1539              		.loc 1 593 8 is_stmt 0 view .LVU504
 1540 003c 2B68     		ldr	r3, [r5]
 593:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1541              		.loc 1 593 26 view .LVU505
 1542 003e 0022     		movs	r2, #0
 1543 0040 DA62     		str	r2, [r3, #44]
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1544              		.loc 1 595 5 is_stmt 1 view .LVU506
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1545              		.loc 1 595 19 is_stmt 0 view .LVU507
 1546 0042 6B6C     		ldr	r3, [r5, #68]
 595:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1547              		.loc 1 595 7 view .LVU508
 1548 0044 012B     		cmp	r3, #1
 1549 0046 00D0     		beq	.L105
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1550              		.loc 1 597 7 is_stmt 1 view .LVU509
 597:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1551              		.loc 1 597 11 is_stmt 0 view .LVU510
 1552 0048 7602     		lsls	r6, r6, #9
 1553              	.LVL151:
 1554              	.L105:
ARM GAS  /tmp/cc3mRTku.s 			page 92


 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1555              		.loc 1 601 5 is_stmt 1 view .LVU511
 601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1556              		.loc 1 601 26 is_stmt 0 view .LVU512
 1557 004a 4FF0FF33 		mov	r3, #-1
 1558 004e 0093     		str	r3, [sp]
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1559              		.loc 1 602 5 is_stmt 1 view .LVU513
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1560              		.loc 1 602 43 is_stmt 0 view .LVU514
 1561 0050 4FEA4B23 		lsl	r3, fp, #9
 602:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1562              		.loc 1 602 26 view .LVU515
 1563 0054 0193     		str	r3, [sp, #4]
 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1564              		.loc 1 603 5 is_stmt 1 view .LVU516
 603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1565              		.loc 1 603 26 is_stmt 0 view .LVU517
 1566 0056 9023     		movs	r3, #144
 1567 0058 0293     		str	r3, [sp, #8]
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1568              		.loc 1 604 5 is_stmt 1 view .LVU518
 604:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1569              		.loc 1 604 26 is_stmt 0 view .LVU519
 1570 005a 0223     		movs	r3, #2
 1571 005c 0393     		str	r3, [sp, #12]
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 1572              		.loc 1 605 5 is_stmt 1 view .LVU520
 605:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 1573              		.loc 1 605 26 is_stmt 0 view .LVU521
 1574 005e 0023     		movs	r3, #0
 1575 0060 0493     		str	r3, [sp, #16]
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 1576              		.loc 1 606 5 is_stmt 1 view .LVU522
 606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 1577              		.loc 1 606 26 is_stmt 0 view .LVU523
 1578 0062 0123     		movs	r3, #1
 1579 0064 0593     		str	r3, [sp, #20]
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1580              		.loc 1 607 5 is_stmt 1 view .LVU524
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1581              		.loc 1 607 11 is_stmt 0 view .LVU525
 1582 0066 6946     		mov	r1, sp
 1583 0068 2868     		ldr	r0, [r5]
 1584              	.LVL152:
 607:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1585              		.loc 1 607 11 view .LVU526
 1586 006a FFF7FEFF 		bl	SDIO_ConfigData
 1587              	.LVL153:
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1588              		.loc 1 610 5 is_stmt 1 view .LVU527
 610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1589              		.loc 1 610 7 is_stmt 0 view .LVU528
 1590 006e BBF1010F 		cmp	fp, #1
 1591 0072 14D9     		bls	.L106
 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1592              		.loc 1 612 7 is_stmt 1 view .LVU529
ARM GAS  /tmp/cc3mRTku.s 			page 93


 612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1593              		.loc 1 612 20 is_stmt 0 view .LVU530
 1594 0074 0223     		movs	r3, #2
 1595 0076 2B63     		str	r3, [r5, #48]
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1596              		.loc 1 615 7 is_stmt 1 view .LVU531
 615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1597              		.loc 1 615 20 is_stmt 0 view .LVU532
 1598 0078 3146     		mov	r1, r6
 1599 007a 2868     		ldr	r0, [r5]
 1600 007c FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1601              	.LVL154:
 1602              	.L107:
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1603              		.loc 1 624 5 is_stmt 1 view .LVU533
 624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1604              		.loc 1 624 7 is_stmt 0 view .LVU534
 1605 0080 A0B9     		cbnz	r0, .L126
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDI
 1606              		.loc 1 635 5 is_stmt 1 view .LVU535
 635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDI
 1607              		.loc 1 635 19 is_stmt 0 view .LVU536
 1608 0082 DDF80480 		ldr	r8, [sp, #4]
 1609              	.LVL155:
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1610              		.loc 1 636 5 is_stmt 1 view .LVU537
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1611              		.loc 1 636 10 is_stmt 0 view .LVU538
 1612 0086 38E0     		b	.L109
 1613              	.LVL156:
 1614              	.L124:
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 1615              		.loc 1 576 5 is_stmt 1 view .LVU539
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 1616              		.loc 1 576 8 is_stmt 0 view .LVU540
 1617 0088 AB6B     		ldr	r3, [r5, #56]
 576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 1618              		.loc 1 576 20 view .LVU541
 1619 008a 43F00063 		orr	r3, r3, #134217728
 1620 008e AB63     		str	r3, [r5, #56]
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1621              		.loc 1 577 5 is_stmt 1 view .LVU542
 577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 1622              		.loc 1 577 12 is_stmt 0 view .LVU543
 1623 0090 0127     		movs	r7, #1
 1624 0092 D7E0     		b	.L102
 1625              	.L125:
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1626              		.loc 1 586 7 is_stmt 1 view .LVU544
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1627              		.loc 1 586 10 is_stmt 0 view .LVU545
 1628 0094 AB6B     		ldr	r3, [r5, #56]
 586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1629              		.loc 1 586 22 view .LVU546
 1630 0096 43F00073 		orr	r3, r3, #33554432
 1631 009a AB63     		str	r3, [r5, #56]
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
ARM GAS  /tmp/cc3mRTku.s 			page 94


 1632              		.loc 1 587 7 is_stmt 1 view .LVU547
 587:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1633              		.loc 1 587 14 is_stmt 0 view .LVU548
 1634 009c D2E0     		b	.L102
 1635              	.LVL157:
 1636              	.L106:
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1637              		.loc 1 619 7 is_stmt 1 view .LVU549
 619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1638              		.loc 1 619 20 is_stmt 0 view .LVU550
 1639 009e 0123     		movs	r3, #1
 1640 00a0 2B63     		str	r3, [r5, #48]
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1641              		.loc 1 622 7 is_stmt 1 view .LVU551
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1642              		.loc 1 622 20 is_stmt 0 view .LVU552
 1643 00a2 3146     		mov	r1, r6
 1644 00a4 2868     		ldr	r0, [r5]
 1645 00a6 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1646              	.LVL158:
 622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1647              		.loc 1 622 20 view .LVU553
 1648 00aa E9E7     		b	.L107
 1649              	.L126:
 627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1650              		.loc 1 627 7 is_stmt 1 view .LVU554
 1651 00ac 2B68     		ldr	r3, [r5]
 1652 00ae 674A     		ldr	r2, .L131
 1653 00b0 9A63     		str	r2, [r3, #56]
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1654              		.loc 1 628 7 view .LVU555
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1655              		.loc 1 628 10 is_stmt 0 view .LVU556
 1656 00b2 AB6B     		ldr	r3, [r5, #56]
 628:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1657              		.loc 1 628 22 view .LVU557
 1658 00b4 0343     		orrs	r3, r3, r0
 1659 00b6 AB63     		str	r3, [r5, #56]
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1660              		.loc 1 629 7 is_stmt 1 view .LVU558
 629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1661              		.loc 1 629 18 is_stmt 0 view .LVU559
 1662 00b8 0123     		movs	r3, #1
 1663 00ba 85F83430 		strb	r3, [r5, #52]
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1664              		.loc 1 630 7 is_stmt 1 view .LVU560
 630:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1665              		.loc 1 630 20 is_stmt 0 view .LVU561
 1666 00be 0023     		movs	r3, #0
 1667 00c0 2B63     		str	r3, [r5, #48]
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1668              		.loc 1 631 7 is_stmt 1 view .LVU562
 631:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1669              		.loc 1 631 14 is_stmt 0 view .LVU563
 1670 00c2 BFE0     		b	.L102
 1671              	.LVL159:
 1672              	.L112:
ARM GAS  /tmp/cc3mRTku.s 			page 95


 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1673              		.loc 1 643 11 is_stmt 1 view .LVU564
 643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1674              		.loc 1 643 18 is_stmt 0 view .LVU565
 1675 00c4 2868     		ldr	r0, [r5]
 1676 00c6 FFF7FEFF 		bl	SDIO_ReadFIFO
 1677              	.LVL160:
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1678              		.loc 1 644 11 is_stmt 1 view .LVU566
 644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1679              		.loc 1 644 21 is_stmt 0 view .LVU567
 1680 00ca 2070     		strb	r0, [r4]
 645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 1681              		.loc 1 645 11 is_stmt 1 view .LVU568
 1682              	.LVL161:
 646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1683              		.loc 1 646 11 view .LVU569
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1684              		.loc 1 647 11 view .LVU570
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1685              		.loc 1 647 23 is_stmt 0 view .LVU571
 1686 00cc C0F30723 		ubfx	r3, r0, #8, #8
 647:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1687              		.loc 1 647 21 view .LVU572
 1688 00d0 6370     		strb	r3, [r4, #1]
 648:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 1689              		.loc 1 648 11 is_stmt 1 view .LVU573
 1690              	.LVL162:
 649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1691              		.loc 1 649 11 view .LVU574
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1692              		.loc 1 650 11 view .LVU575
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1693              		.loc 1 650 23 is_stmt 0 view .LVU576
 1694 00d2 C0F30743 		ubfx	r3, r0, #16, #8
 650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1695              		.loc 1 650 21 view .LVU577
 1696 00d6 A370     		strb	r3, [r4, #2]
 651:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 1697              		.loc 1 651 11 is_stmt 1 view .LVU578
 1698              	.LVL163:
 652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1699              		.loc 1 652 11 view .LVU579
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1700              		.loc 1 653 11 view .LVU580
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1701              		.loc 1 653 23 is_stmt 0 view .LVU581
 1702 00d8 000E     		lsrs	r0, r0, #24
 1703              	.LVL164:
 653:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 1704              		.loc 1 653 21 view .LVU582
 1705 00da E070     		strb	r0, [r4, #3]
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 1706              		.loc 1 654 11 is_stmt 1 view .LVU583
 654:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 1707              		.loc 1 654 19 is_stmt 0 view .LVU584
 1708 00dc 0434     		adds	r4, r4, #4
ARM GAS  /tmp/cc3mRTku.s 			page 96


 1709              	.LVL165:
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 1710              		.loc 1 655 11 is_stmt 1 view .LVU585
 655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 1711              		.loc 1 655 24 is_stmt 0 view .LVU586
 1712 00de A8F10408 		sub	r8, r8, #4
 1713              	.LVL166:
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 1714              		.loc 1 641 42 is_stmt 1 discriminator 3 view .LVU587
 1715 00e2 0136     		adds	r6, r6, #1
 1716              	.LVL167:
 1717              	.L111:
 641:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 1718              		.loc 1 641 31 discriminator 1 view .LVU588
 1719 00e4 072E     		cmp	r6, #7
 1720 00e6 EDD9     		bls	.L112
 1721              	.LVL168:
 1722              	.L110:
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1723              		.loc 1 659 7 view .LVU589
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1724              		.loc 1 659 12 is_stmt 0 view .LVU590
 1725 00e8 FFF7FEFF 		bl	HAL_GetTick
 1726              	.LVL169:
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1727              		.loc 1 659 25 discriminator 1 view .LVU591
 1728 00ec A0EB0900 		sub	r0, r0, r9
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1729              		.loc 1 659 9 discriminator 1 view .LVU592
 1730 00f0 5045     		cmp	r0, r10
 1731 00f2 10D2     		bcs	.L113
 659:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1732              		.loc 1 659 50 discriminator 1 view .LVU593
 1733 00f4 BAF1000F 		cmp	r10, #0
 1734 00f8 0DD0     		beq	.L113
 1735              	.L109:
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1736              		.loc 1 636 11 is_stmt 1 view .LVU594
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1737              		.loc 1 636 12 is_stmt 0 view .LVU595
 1738 00fa 2868     		ldr	r0, [r5]
 1739 00fc 466B     		ldr	r6, [r0, #52]
 1740 00fe 40F22A33 		movw	r3, #810
 636:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1741              		.loc 1 636 11 view .LVU596
 1742 0102 1E40     		ands	r6, r6, r3
 1743 0104 15D1     		bne	.L127
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1744              		.loc 1 638 7 is_stmt 1 view .LVU597
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1745              		.loc 1 638 10 is_stmt 0 view .LVU598
 1746 0106 436B     		ldr	r3, [r0, #52]
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1747              		.loc 1 638 9 view .LVU599
 1748 0108 13F4004F 		tst	r3, #32768
 1749 010c ECD0     		beq	.L110
 638:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
ARM GAS  /tmp/cc3mRTku.s 			page 97


 1750              		.loc 1 638 53 discriminator 1 view .LVU600
 1751 010e B8F1000F 		cmp	r8, #0
 1752 0112 E9D0     		beq	.L110
 1753 0114 E6E7     		b	.L111
 1754              	.L113:
 662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1755              		.loc 1 662 9 is_stmt 1 view .LVU601
 1756 0116 2B68     		ldr	r3, [r5]
 1757 0118 4C4A     		ldr	r2, .L131
 1758 011a 9A63     		str	r2, [r3, #56]
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1759              		.loc 1 663 9 view .LVU602
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1760              		.loc 1 663 12 is_stmt 0 view .LVU603
 1761 011c AB6B     		ldr	r3, [r5, #56]
 663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1762              		.loc 1 663 24 view .LVU604
 1763 011e 43F00043 		orr	r3, r3, #-2147483648
 1764 0122 AB63     		str	r3, [r5, #56]
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1765              		.loc 1 664 9 is_stmt 1 view .LVU605
 664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1766              		.loc 1 664 19 is_stmt 0 view .LVU606
 1767 0124 0123     		movs	r3, #1
 1768 0126 85F83430 		strb	r3, [r5, #52]
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_TIMEOUT;
 1769              		.loc 1 665 9 is_stmt 1 view .LVU607
 665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_TIMEOUT;
 1770              		.loc 1 665 22 is_stmt 0 view .LVU608
 1771 012a 0023     		movs	r3, #0
 1772 012c 2B63     		str	r3, [r5, #48]
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 1773              		.loc 1 666 9 is_stmt 1 view .LVU609
 666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 1774              		.loc 1 666 16 is_stmt 0 view .LVU610
 1775 012e 0327     		movs	r7, #3
 1776 0130 88E0     		b	.L102
 1777              	.L127:
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1778              		.loc 1 671 5 is_stmt 1 view .LVU611
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1779              		.loc 1 671 8 is_stmt 0 view .LVU612
 1780 0132 436B     		ldr	r3, [r0, #52]
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1781              		.loc 1 671 7 view .LVU613
 1782 0134 13F4807F 		tst	r3, #256
 1783 0138 05D0     		beq	.L115
 671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1784              		.loc 1 671 50 discriminator 1 view .LVU614
 1785 013a BBF1010F 		cmp	fp, #1
 1786 013e 02D9     		bls	.L115
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1787              		.loc 1 673 7 is_stmt 1 view .LVU615
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1788              		.loc 1 673 21 is_stmt 0 view .LVU616
 1789 0140 6B6C     		ldr	r3, [r5, #68]
 673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
ARM GAS  /tmp/cc3mRTku.s 			page 98


 1790              		.loc 1 673 9 view .LVU617
 1791 0142 032B     		cmp	r3, #3
 1792 0144 3CD1     		bne	.L128
 1793              	.LVL170:
 1794              	.L115:
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1795              		.loc 1 690 5 is_stmt 1 view .LVU618
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1796              		.loc 1 690 8 is_stmt 0 view .LVU619
 1797 0146 2B68     		ldr	r3, [r5]
 1798 0148 5A6B     		ldr	r2, [r3, #52]
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1799              		.loc 1 690 7 view .LVU620
 1800 014a 12F0080F 		tst	r2, #8
 1801 014e 48D1     		bne	.L116
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1802              		.loc 1 690 55 discriminator 1 view .LVU621
 1803 0150 5A6B     		ldr	r2, [r3, #52]
 690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1804              		.loc 1 690 51 discriminator 1 view .LVU622
 1805 0152 12F4007F 		tst	r2, #512
 1806 0156 44D1     		bne	.L116
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1807              		.loc 1 699 10 is_stmt 1 view .LVU623
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1808              		.loc 1 699 13 is_stmt 0 view .LVU624
 1809 0158 5A6B     		ldr	r2, [r3, #52]
 699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1810              		.loc 1 699 12 view .LVU625
 1811 015a 12F0020F 		tst	r2, #2
 1812 015e 4CD1     		bne	.L129
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1813              		.loc 1 708 10 is_stmt 1 view .LVU626
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1814              		.loc 1 708 13 is_stmt 0 view .LVU627
 1815 0160 5A6B     		ldr	r2, [r3, #52]
 708:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1816              		.loc 1 708 12 view .LVU628
 1817 0162 12F0200F 		tst	r2, #32
 1818 0166 54D1     		bne	.L130
 1819              	.L119:
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1820              		.loc 1 723 55 is_stmt 1 view .LVU629
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1821              		.loc 1 723 13 is_stmt 0 view .LVU630
 1822 0168 2868     		ldr	r0, [r5]
 1823 016a 436B     		ldr	r3, [r0, #52]
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1824              		.loc 1 723 55 view .LVU631
 1825 016c 13F4001F 		tst	r3, #2097152
 1826 0170 5BD0     		beq	.L121
 723:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 1827              		.loc 1 723 55 discriminator 1 view .LVU632
 1828 0172 B8F1000F 		cmp	r8, #0
 1829 0176 58D0     		beq	.L121
 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 1830              		.loc 1 725 7 is_stmt 1 view .LVU633
ARM GAS  /tmp/cc3mRTku.s 			page 99


 725:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 1831              		.loc 1 725 14 is_stmt 0 view .LVU634
 1832 0178 FFF7FEFF 		bl	SDIO_ReadFIFO
 1833              	.LVL171:
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1834              		.loc 1 726 7 is_stmt 1 view .LVU635
 726:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1835              		.loc 1 726 17 is_stmt 0 view .LVU636
 1836 017c 2070     		strb	r0, [r4]
 727:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 1837              		.loc 1 727 7 is_stmt 1 view .LVU637
 1838              	.LVL172:
 728:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1839              		.loc 1 728 7 view .LVU638
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1840              		.loc 1 729 7 view .LVU639
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1841              		.loc 1 729 19 is_stmt 0 view .LVU640
 1842 017e C0F30723 		ubfx	r3, r0, #8, #8
 729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1843              		.loc 1 729 17 view .LVU641
 1844 0182 6370     		strb	r3, [r4, #1]
 730:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 1845              		.loc 1 730 7 is_stmt 1 view .LVU642
 1846              	.LVL173:
 731:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1847              		.loc 1 731 7 view .LVU643
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1848              		.loc 1 732 7 view .LVU644
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1849              		.loc 1 732 19 is_stmt 0 view .LVU645
 1850 0184 C0F30743 		ubfx	r3, r0, #16, #8
 732:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1851              		.loc 1 732 17 view .LVU646
 1852 0188 A370     		strb	r3, [r4, #2]
 733:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 1853              		.loc 1 733 7 is_stmt 1 view .LVU647
 1854              	.LVL174:
 734:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1855              		.loc 1 734 7 view .LVU648
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1856              		.loc 1 735 7 view .LVU649
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1857              		.loc 1 735 19 is_stmt 0 view .LVU650
 1858 018a 000E     		lsrs	r0, r0, #24
 1859              	.LVL175:
 735:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       tempbuff++;
 1860              		.loc 1 735 17 view .LVU651
 1861 018c E070     		strb	r0, [r4, #3]
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 1862              		.loc 1 736 7 is_stmt 1 view .LVU652
 736:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       dataremaining--;
 1863              		.loc 1 736 15 is_stmt 0 view .LVU653
 1864 018e 0434     		adds	r4, r4, #4
 1865              	.LVL176:
 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1866              		.loc 1 737 7 is_stmt 1 view .LVU654
ARM GAS  /tmp/cc3mRTku.s 			page 100


 737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 1867              		.loc 1 737 20 is_stmt 0 view .LVU655
 1868 0190 A8F10408 		sub	r8, r8, #4
 1869              	.LVL177:
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1870              		.loc 1 739 7 is_stmt 1 view .LVU656
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1871              		.loc 1 739 12 is_stmt 0 view .LVU657
 1872 0194 FFF7FEFF 		bl	HAL_GetTick
 1873              	.LVL178:
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1874              		.loc 1 739 25 discriminator 1 view .LVU658
 1875 0198 A0EB0900 		sub	r0, r0, r9
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1876              		.loc 1 739 9 discriminator 1 view .LVU659
 1877 019c 5045     		cmp	r0, r10
 1878 019e 02D2     		bcs	.L120
 739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 1879              		.loc 1 739 50 discriminator 1 view .LVU660
 1880 01a0 BAF1000F 		cmp	r10, #0
 1881 01a4 E0D1     		bne	.L119
 1882              	.L120:
 742:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1883              		.loc 1 742 9 is_stmt 1 view .LVU661
 1884 01a6 2B68     		ldr	r3, [r5]
 1885 01a8 284A     		ldr	r2, .L131
 1886 01aa 9A63     		str	r2, [r3, #56]
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1887              		.loc 1 743 9 view .LVU662
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1888              		.loc 1 743 12 is_stmt 0 view .LVU663
 1889 01ac AB6B     		ldr	r3, [r5, #56]
 743:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1890              		.loc 1 743 24 view .LVU664
 1891 01ae 43F00043 		orr	r3, r3, #-2147483648
 1892 01b2 AB63     		str	r3, [r5, #56]
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1893              		.loc 1 744 9 is_stmt 1 view .LVU665
 744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1894              		.loc 1 744 19 is_stmt 0 view .LVU666
 1895 01b4 0123     		movs	r3, #1
 1896 01b6 85F83430 		strb	r3, [r5, #52]
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 1897              		.loc 1 745 9 is_stmt 1 view .LVU667
 745:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 1898              		.loc 1 745 22 is_stmt 0 view .LVU668
 1899 01ba 0023     		movs	r3, #0
 1900 01bc 2B63     		str	r3, [r5, #48]
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 1901              		.loc 1 746 9 is_stmt 1 view .LVU669
 746:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 1902              		.loc 1 746 16 is_stmt 0 view .LVU670
 1903 01be 41E0     		b	.L102
 1904              	.LVL179:
 1905              	.L128:
 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1906              		.loc 1 676 9 is_stmt 1 view .LVU671
ARM GAS  /tmp/cc3mRTku.s 			page 101


 676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1907              		.loc 1 676 22 is_stmt 0 view .LVU672
 1908 01c0 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 1909              	.LVL180:
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 1910              		.loc 1 677 9 is_stmt 1 view .LVU673
 677:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 1911              		.loc 1 677 11 is_stmt 0 view .LVU674
 1912 01c4 0346     		mov	r3, r0
 1913 01c6 0028     		cmp	r0, #0
 1914 01c8 BDD0     		beq	.L115
 680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 1915              		.loc 1 680 11 is_stmt 1 view .LVU675
 1916 01ca 2A68     		ldr	r2, [r5]
 1917 01cc 1F49     		ldr	r1, .L131
 1918 01ce 9163     		str	r1, [r2, #56]
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1919              		.loc 1 681 11 view .LVU676
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1920              		.loc 1 681 14 is_stmt 0 view .LVU677
 1921 01d0 AA6B     		ldr	r2, [r5, #56]
 681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1922              		.loc 1 681 26 view .LVU678
 1923 01d2 1343     		orrs	r3, r3, r2
 1924 01d4 AB63     		str	r3, [r5, #56]
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1925              		.loc 1 682 11 is_stmt 1 view .LVU679
 682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1926              		.loc 1 682 22 is_stmt 0 view .LVU680
 1927 01d6 0123     		movs	r3, #1
 1928 01d8 85F83430 		strb	r3, [r5, #52]
 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           return HAL_ERROR;
 1929              		.loc 1 683 11 is_stmt 1 view .LVU681
 683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           return HAL_ERROR;
 1930              		.loc 1 683 24 is_stmt 0 view .LVU682
 1931 01dc 0023     		movs	r3, #0
 1932 01de 2B63     		str	r3, [r5, #48]
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 1933              		.loc 1 684 11 is_stmt 1 view .LVU683
 684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 1934              		.loc 1 684 18 is_stmt 0 view .LVU684
 1935 01e0 30E0     		b	.L102
 1936              	.LVL181:
 1937              	.L116:
 693:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 1938              		.loc 1 693 7 is_stmt 1 view .LVU685
 1939 01e2 1A4A     		ldr	r2, .L131
 1940 01e4 9A63     		str	r2, [r3, #56]
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1941              		.loc 1 694 7 view .LVU686
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1942              		.loc 1 694 10 is_stmt 0 view .LVU687
 1943 01e6 AB6B     		ldr	r3, [r5, #56]
 694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1944              		.loc 1 694 22 view .LVU688
 1945 01e8 43F00803 		orr	r3, r3, #8
 1946 01ec AB63     		str	r3, [r5, #56]
ARM GAS  /tmp/cc3mRTku.s 			page 102


 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1947              		.loc 1 695 7 is_stmt 1 view .LVU689
 695:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1948              		.loc 1 695 18 is_stmt 0 view .LVU690
 1949 01ee 0123     		movs	r3, #1
 1950 01f0 85F83430 		strb	r3, [r5, #52]
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1951              		.loc 1 696 7 is_stmt 1 view .LVU691
 696:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1952              		.loc 1 696 20 is_stmt 0 view .LVU692
 1953 01f4 0023     		movs	r3, #0
 1954 01f6 2B63     		str	r3, [r5, #48]
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1955              		.loc 1 697 7 is_stmt 1 view .LVU693
 697:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1956              		.loc 1 697 14 is_stmt 0 view .LVU694
 1957 01f8 24E0     		b	.L102
 1958              	.L129:
 702:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 1959              		.loc 1 702 7 is_stmt 1 view .LVU695
 1960 01fa 144A     		ldr	r2, .L131
 1961 01fc 9A63     		str	r2, [r3, #56]
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1962              		.loc 1 703 7 view .LVU696
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1963              		.loc 1 703 10 is_stmt 0 view .LVU697
 1964 01fe AB6B     		ldr	r3, [r5, #56]
 703:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1965              		.loc 1 703 22 view .LVU698
 1966 0200 43F00203 		orr	r3, r3, #2
 1967 0204 AB63     		str	r3, [r5, #56]
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1968              		.loc 1 704 7 is_stmt 1 view .LVU699
 704:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1969              		.loc 1 704 18 is_stmt 0 view .LVU700
 1970 0206 0123     		movs	r3, #1
 1971 0208 85F83430 		strb	r3, [r5, #52]
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1972              		.loc 1 705 7 is_stmt 1 view .LVU701
 705:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1973              		.loc 1 705 20 is_stmt 0 view .LVU702
 1974 020c 0023     		movs	r3, #0
 1975 020e 2B63     		str	r3, [r5, #48]
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1976              		.loc 1 706 7 is_stmt 1 view .LVU703
 706:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1977              		.loc 1 706 14 is_stmt 0 view .LVU704
 1978 0210 18E0     		b	.L102
 1979              	.L130:
 711:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 1980              		.loc 1 711 7 is_stmt 1 view .LVU705
 1981 0212 0E4A     		ldr	r2, .L131
 1982 0214 9A63     		str	r2, [r3, #56]
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1983              		.loc 1 712 7 view .LVU706
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1984              		.loc 1 712 10 is_stmt 0 view .LVU707
ARM GAS  /tmp/cc3mRTku.s 			page 103


 1985 0216 AB6B     		ldr	r3, [r5, #56]
 712:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1986              		.loc 1 712 22 view .LVU708
 1987 0218 43F02003 		orr	r3, r3, #32
 1988 021c AB63     		str	r3, [r5, #56]
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1989              		.loc 1 713 7 is_stmt 1 view .LVU709
 713:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1990              		.loc 1 713 18 is_stmt 0 view .LVU710
 1991 021e 0123     		movs	r3, #1
 1992 0220 85F83430 		strb	r3, [r5, #52]
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1993              		.loc 1 714 7 is_stmt 1 view .LVU711
 714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 1994              		.loc 1 714 20 is_stmt 0 view .LVU712
 1995 0224 0023     		movs	r3, #0
 1996 0226 2B63     		str	r3, [r5, #48]
 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1997              		.loc 1 715 7 is_stmt 1 view .LVU713
 715:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 1998              		.loc 1 715 14 is_stmt 0 view .LVU714
 1999 0228 0CE0     		b	.L102
 2000              	.L121:
 751:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2001              		.loc 1 751 5 is_stmt 1 view .LVU715
 2002 022a 40F23A53 		movw	r3, #1338
 2003 022e 8363     		str	r3, [r0, #56]
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2004              		.loc 1 753 5 view .LVU716
 753:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2005              		.loc 1 753 16 is_stmt 0 view .LVU717
 2006 0230 0123     		movs	r3, #1
 2007 0232 85F83430 		strb	r3, [r5, #52]
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2008              		.loc 1 755 5 is_stmt 1 view .LVU718
 755:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2009              		.loc 1 755 12 is_stmt 0 view .LVU719
 2010 0236 0027     		movs	r7, #0
 2011 0238 04E0     		b	.L102
 2012              	.LVL182:
 2013              	.L103:
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2014              		.loc 1 759 5 is_stmt 1 view .LVU720
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2015              		.loc 1 759 8 is_stmt 0 view .LVU721
 2016 023a AB6B     		ldr	r3, [r5, #56]
 759:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2017              		.loc 1 759 20 view .LVU722
 2018 023c 43F00053 		orr	r3, r3, #536870912
 2019 0240 AB63     		str	r3, [r5, #56]
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2020              		.loc 1 760 5 is_stmt 1 view .LVU723
 760:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2021              		.loc 1 760 12 is_stmt 0 view .LVU724
 2022 0242 0127     		movs	r7, #1
 2023              	.LVL183:
 2024              	.L102:
ARM GAS  /tmp/cc3mRTku.s 			page 104


 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2025              		.loc 1 762 1 view .LVU725
 2026 0244 3846     		mov	r0, r7
 2027 0246 07B0     		add	sp, sp, #28
 2028              	.LCFI31:
 2029              		.cfi_def_cfa_offset 36
 2030              		@ sp needed
 2031 0248 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2032              	.LVL184:
 2033              	.L132:
 762:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2034              		.loc 1 762 1 view .LVU726
 2035              		.align	2
 2036              	.L131:
 2037 024c FF054000 		.word	4195839
 2038              		.cfi_endproc
 2039              	.LFE70:
 2041              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 2042              		.align	1
 2043              		.global	HAL_SD_WriteBlocks
 2044              		.syntax unified
 2045              		.thumb
 2046              		.thumb_func
 2048              	HAL_SD_WriteBlocks:
 2049              	.LVL185:
 2050              	.LFB71:
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2051              		.loc 1 777 1 is_stmt 1 view -0
 2052              		.cfi_startproc
 2053              		@ args = 4, pretend = 0, frame = 40
 2054              		@ frame_needed = 0, uses_anonymous_args = 0
 777:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2055              		.loc 1 777 1 is_stmt 0 view .LVU728
 2056 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2057              	.LCFI32:
 2058              		.cfi_def_cfa_offset 36
 2059              		.cfi_offset 4, -36
 2060              		.cfi_offset 5, -32
 2061              		.cfi_offset 6, -28
 2062              		.cfi_offset 7, -24
 2063              		.cfi_offset 8, -20
 2064              		.cfi_offset 9, -16
 2065              		.cfi_offset 10, -12
 2066              		.cfi_offset 11, -8
 2067              		.cfi_offset 14, -4
 2068 0004 8BB0     		sub	sp, sp, #44
 2069              	.LCFI33:
 2070              		.cfi_def_cfa_offset 80
 2071 0006 0546     		mov	r5, r0
 2072 0008 0C46     		mov	r4, r1
 2073 000a 1646     		mov	r6, r2
 2074 000c 9B46     		mov	fp, r3
 2075 000e DDF850A0 		ldr	r10, [sp, #80]
 778:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 2076              		.loc 1 778 3 is_stmt 1 view .LVU729
 779:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 2077              		.loc 1 779 3 view .LVU730
ARM GAS  /tmp/cc3mRTku.s 			page 105


 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 2078              		.loc 1 780 3 view .LVU731
 780:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 2079              		.loc 1 780 24 is_stmt 0 view .LVU732
 2080 0012 FFF7FEFF 		bl	HAL_GetTick
 2081              	.LVL186:
 781:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2082              		.loc 1 781 3 is_stmt 1 view .LVU733
 782:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 2083              		.loc 1 782 3 view .LVU734
 783:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2084              		.loc 1 783 3 view .LVU735
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2085              		.loc 1 785 3 view .LVU736
 785:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2086              		.loc 1 785 5 is_stmt 0 view .LVU737
 2087 0016 002C     		cmp	r4, #0
 2088 0018 37D0     		beq	.L154
 2089 001a 8046     		mov	r8, r0
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2090              		.loc 1 791 3 is_stmt 1 view .LVU738
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2091              		.loc 1 791 9 is_stmt 0 view .LVU739
 2092 001c 95F83470 		ldrb	r7, [r5, #52]	@ zero_extendqisi2
 2093 0020 FFB2     		uxtb	r7, r7
 791:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2094              		.loc 1 791 5 view .LVU740
 2095 0022 012F     		cmp	r7, #1
 2096 0024 40F0E680 		bne	.L136
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2097              		.loc 1 793 5 is_stmt 1 view .LVU741
 793:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2098              		.loc 1 793 20 is_stmt 0 view .LVU742
 2099 0028 0023     		movs	r3, #0
 2100 002a AB63     		str	r3, [r5, #56]
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2101              		.loc 1 795 5 is_stmt 1 view .LVU743
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2102              		.loc 1 795 13 is_stmt 0 view .LVU744
 2103 002c 06EB0B03 		add	r3, r6, fp
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2104              		.loc 1 795 45 view .LVU745
 2105 0030 EA6D     		ldr	r2, [r5, #92]
 795:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2106              		.loc 1 795 7 view .LVU746
 2107 0032 9342     		cmp	r3, r2
 2108 0034 2FD8     		bhi	.L155
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2109              		.loc 1 801 5 is_stmt 1 view .LVU747
 801:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2110              		.loc 1 801 16 is_stmt 0 view .LVU748
 2111 0036 0323     		movs	r3, #3
 2112 0038 85F83430 		strb	r3, [r5, #52]
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2113              		.loc 1 804 5 is_stmt 1 view .LVU749
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2114              		.loc 1 804 8 is_stmt 0 view .LVU750
ARM GAS  /tmp/cc3mRTku.s 			page 106


 2115 003c 2B68     		ldr	r3, [r5]
 804:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2116              		.loc 1 804 26 view .LVU751
 2117 003e 0022     		movs	r2, #0
 2118 0040 DA62     		str	r2, [r3, #44]
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2119              		.loc 1 806 5 is_stmt 1 view .LVU752
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2120              		.loc 1 806 19 is_stmt 0 view .LVU753
 2121 0042 6B6C     		ldr	r3, [r5, #68]
 806:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2122              		.loc 1 806 7 view .LVU754
 2123 0044 012B     		cmp	r3, #1
 2124 0046 00D0     		beq	.L138
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2125              		.loc 1 808 7 is_stmt 1 view .LVU755
 808:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2126              		.loc 1 808 11 is_stmt 0 view .LVU756
 2127 0048 7602     		lsls	r6, r6, #9
 2128              	.LVL187:
 2129              	.L138:
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2130              		.loc 1 812 5 is_stmt 1 view .LVU757
 812:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2131              		.loc 1 812 26 is_stmt 0 view .LVU758
 2132 004a 4FF0FF33 		mov	r3, #-1
 2133 004e 0493     		str	r3, [sp, #16]
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2134              		.loc 1 813 5 is_stmt 1 view .LVU759
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2135              		.loc 1 813 43 is_stmt 0 view .LVU760
 2136 0050 4FEA4B23 		lsl	r3, fp, #9
 813:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2137              		.loc 1 813 26 view .LVU761
 2138 0054 0593     		str	r3, [sp, #20]
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2139              		.loc 1 814 5 is_stmt 1 view .LVU762
 814:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2140              		.loc 1 814 26 is_stmt 0 view .LVU763
 2141 0056 9023     		movs	r3, #144
 2142 0058 0693     		str	r3, [sp, #24]
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2143              		.loc 1 815 5 is_stmt 1 view .LVU764
 815:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2144              		.loc 1 815 26 is_stmt 0 view .LVU765
 2145 005a 0023     		movs	r3, #0
 2146 005c 0793     		str	r3, [sp, #28]
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2147              		.loc 1 816 5 is_stmt 1 view .LVU766
 816:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2148              		.loc 1 816 26 is_stmt 0 view .LVU767
 2149 005e 0893     		str	r3, [sp, #32]
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2150              		.loc 1 817 5 is_stmt 1 view .LVU768
 817:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2151              		.loc 1 817 26 is_stmt 0 view .LVU769
 2152 0060 0123     		movs	r3, #1
ARM GAS  /tmp/cc3mRTku.s 			page 107


 2153 0062 0993     		str	r3, [sp, #36]
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2154              		.loc 1 818 5 is_stmt 1 view .LVU770
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2155              		.loc 1 818 11 is_stmt 0 view .LVU771
 2156 0064 04A9     		add	r1, sp, #16
 2157 0066 2868     		ldr	r0, [r5]
 2158              	.LVL188:
 818:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2159              		.loc 1 818 11 view .LVU772
 2160 0068 FFF7FEFF 		bl	SDIO_ConfigData
 2161              	.LVL189:
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2162              		.loc 1 821 5 is_stmt 1 view .LVU773
 821:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2163              		.loc 1 821 7 is_stmt 0 view .LVU774
 2164 006c BBF1010F 		cmp	fp, #1
 2165 0070 16D9     		bls	.L139
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2166              		.loc 1 823 7 is_stmt 1 view .LVU775
 823:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2167              		.loc 1 823 20 is_stmt 0 view .LVU776
 2168 0072 2023     		movs	r3, #32
 2169 0074 2B63     		str	r3, [r5, #48]
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2170              		.loc 1 826 7 is_stmt 1 view .LVU777
 826:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2171              		.loc 1 826 20 is_stmt 0 view .LVU778
 2172 0076 3146     		mov	r1, r6
 2173 0078 2868     		ldr	r0, [r5]
 2174 007a FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2175              	.LVL190:
 2176 007e 0190     		str	r0, [sp, #4]
 2177              	.LVL191:
 2178              	.L140:
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2179              		.loc 1 835 5 is_stmt 1 view .LVU779
 835:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2180              		.loc 1 835 7 is_stmt 0 view .LVU780
 2181 0080 019B     		ldr	r3, [sp, #4]
 2182 0082 ABB9     		cbnz	r3, .L156
 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SD
 2183              		.loc 1 846 5 is_stmt 1 view .LVU781
 846:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SD
 2184              		.loc 1 846 19 is_stmt 0 view .LVU782
 2185 0084 DDF81490 		ldr	r9, [sp, #20]
 2186              	.LVL192:
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2187              		.loc 1 847 5 is_stmt 1 view .LVU783
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2188              		.loc 1 847 10 is_stmt 0 view .LVU784
 2189 0088 40E0     		b	.L142
 2190              	.LVL193:
 2191              	.L154:
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2192              		.loc 1 787 5 is_stmt 1 view .LVU785
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
ARM GAS  /tmp/cc3mRTku.s 			page 108


 2193              		.loc 1 787 8 is_stmt 0 view .LVU786
 2194 008a AB6B     		ldr	r3, [r5, #56]
 787:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2195              		.loc 1 787 20 view .LVU787
 2196 008c 43F00063 		orr	r3, r3, #134217728
 2197 0090 AB63     		str	r3, [r5, #56]
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2198              		.loc 1 788 5 is_stmt 1 view .LVU788
 788:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2199              		.loc 1 788 12 is_stmt 0 view .LVU789
 2200 0092 0127     		movs	r7, #1
 2201 0094 B3E0     		b	.L135
 2202              	.L155:
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2203              		.loc 1 797 7 is_stmt 1 view .LVU790
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2204              		.loc 1 797 10 is_stmt 0 view .LVU791
 2205 0096 AB6B     		ldr	r3, [r5, #56]
 797:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2206              		.loc 1 797 22 view .LVU792
 2207 0098 43F00073 		orr	r3, r3, #33554432
 2208 009c AB63     		str	r3, [r5, #56]
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2209              		.loc 1 798 7 is_stmt 1 view .LVU793
 798:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2210              		.loc 1 798 14 is_stmt 0 view .LVU794
 2211 009e AEE0     		b	.L135
 2212              	.LVL194:
 2213              	.L139:
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2214              		.loc 1 830 7 is_stmt 1 view .LVU795
 830:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2215              		.loc 1 830 20 is_stmt 0 view .LVU796
 2216 00a0 1023     		movs	r3, #16
 2217 00a2 2B63     		str	r3, [r5, #48]
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2218              		.loc 1 833 7 is_stmt 1 view .LVU797
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2219              		.loc 1 833 20 is_stmt 0 view .LVU798
 2220 00a4 3146     		mov	r1, r6
 2221 00a6 2868     		ldr	r0, [r5]
 2222 00a8 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2223              	.LVL195:
 2224 00ac 0190     		str	r0, [sp, #4]
 2225              	.LVL196:
 833:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2226              		.loc 1 833 20 view .LVU799
 2227 00ae E7E7     		b	.L140
 2228              	.LVL197:
 2229              	.L156:
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2230              		.loc 1 838 7 is_stmt 1 view .LVU800
 2231 00b0 2B68     		ldr	r3, [r5]
 2232              	.LVL198:
 838:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2233              		.loc 1 838 7 is_stmt 0 view .LVU801
 2234 00b2 554A     		ldr	r2, .L160
ARM GAS  /tmp/cc3mRTku.s 			page 109


 2235 00b4 9A63     		str	r2, [r3, #56]
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2236              		.loc 1 839 7 is_stmt 1 view .LVU802
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2237              		.loc 1 839 10 is_stmt 0 view .LVU803
 2238 00b6 AB6B     		ldr	r3, [r5, #56]
 839:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2239              		.loc 1 839 22 view .LVU804
 2240 00b8 019A     		ldr	r2, [sp, #4]
 2241 00ba 1343     		orrs	r3, r3, r2
 2242 00bc AB63     		str	r3, [r5, #56]
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2243              		.loc 1 840 7 is_stmt 1 view .LVU805
 840:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2244              		.loc 1 840 18 is_stmt 0 view .LVU806
 2245 00be 0123     		movs	r3, #1
 2246 00c0 85F83430 		strb	r3, [r5, #52]
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2247              		.loc 1 841 7 is_stmt 1 view .LVU807
 841:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2248              		.loc 1 841 20 is_stmt 0 view .LVU808
 2249 00c4 0023     		movs	r3, #0
 2250 00c6 2B63     		str	r3, [r5, #48]
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2251              		.loc 1 842 7 is_stmt 1 view .LVU809
 842:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2252              		.loc 1 842 14 is_stmt 0 view .LVU810
 2253 00c8 99E0     		b	.L135
 2254              	.LVL199:
 2255              	.L145:
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2256              		.loc 1 854 11 is_stmt 1 view .LVU811
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2257              		.loc 1 854 29 is_stmt 0 view .LVU812
 2258 00ca 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 854:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2259              		.loc 1 854 16 view .LVU813
 2260 00cc 0393     		str	r3, [sp, #12]
 855:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 2261              		.loc 1 855 11 is_stmt 1 view .LVU814
 2262              	.LVL200:
 856:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 2263              		.loc 1 856 11 view .LVU815
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2264              		.loc 1 857 11 view .LVU816
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2265              		.loc 1 857 31 is_stmt 0 view .LVU817
 2266 00ce 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 857:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2267              		.loc 1 857 16 view .LVU818
 2268 00d0 43EA0223 		orr	r3, r3, r2, lsl #8
 2269 00d4 0393     		str	r3, [sp, #12]
 858:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 2270              		.loc 1 858 11 is_stmt 1 view .LVU819
 2271              	.LVL201:
 859:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 2272              		.loc 1 859 11 view .LVU820
ARM GAS  /tmp/cc3mRTku.s 			page 110


 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2273              		.loc 1 860 11 view .LVU821
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2274              		.loc 1 860 31 is_stmt 0 view .LVU822
 2275 00d6 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 860:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2276              		.loc 1 860 16 view .LVU823
 2277 00d8 43EA0243 		orr	r3, r3, r2, lsl #16
 2278 00dc 0393     		str	r3, [sp, #12]
 861:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 2279              		.loc 1 861 11 is_stmt 1 view .LVU824
 2280              	.LVL202:
 862:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 2281              		.loc 1 862 11 view .LVU825
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2282              		.loc 1 863 11 view .LVU826
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2283              		.loc 1 863 31 is_stmt 0 view .LVU827
 2284 00de E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 863:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           tempbuff++;
 2285              		.loc 1 863 16 view .LVU828
 2286 00e0 43EA0263 		orr	r3, r3, r2, lsl #24
 2287 00e4 0393     		str	r3, [sp, #12]
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 2288              		.loc 1 864 11 is_stmt 1 view .LVU829
 864:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           dataremaining--;
 2289              		.loc 1 864 19 is_stmt 0 view .LVU830
 2290 00e6 0434     		adds	r4, r4, #4
 2291              	.LVL203:
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           (void)SDIO_WriteFIFO(hsd->Instance, &data);
 2292              		.loc 1 865 11 is_stmt 1 view .LVU831
 865:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           (void)SDIO_WriteFIFO(hsd->Instance, &data);
 2293              		.loc 1 865 24 is_stmt 0 view .LVU832
 2294 00e8 A9F10409 		sub	r9, r9, #4
 2295              	.LVL204:
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 2296              		.loc 1 866 11 is_stmt 1 view .LVU833
 866:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 2297              		.loc 1 866 17 is_stmt 0 view .LVU834
 2298 00ec 03A9     		add	r1, sp, #12
 2299 00ee 2868     		ldr	r0, [r5]
 2300 00f0 FFF7FEFF 		bl	SDIO_WriteFIFO
 2301              	.LVL205:
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 2302              		.loc 1 852 42 is_stmt 1 discriminator 3 view .LVU835
 2303 00f4 0136     		adds	r6, r6, #1
 2304              	.LVL206:
 2305              	.L144:
 852:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 2306              		.loc 1 852 31 discriminator 1 view .LVU836
 2307 00f6 072E     		cmp	r6, #7
 2308 00f8 E7D9     		bls	.L145
 2309              	.LVL207:
 2310              	.L143:
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2311              		.loc 1 870 7 view .LVU837
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
ARM GAS  /tmp/cc3mRTku.s 			page 111


 2312              		.loc 1 870 12 is_stmt 0 view .LVU838
 2313 00fa FFF7FEFF 		bl	HAL_GetTick
 2314              	.LVL208:
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2315              		.loc 1 870 25 discriminator 1 view .LVU839
 2316 00fe A0EB0800 		sub	r0, r0, r8
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2317              		.loc 1 870 9 discriminator 1 view .LVU840
 2318 0102 5045     		cmp	r0, r10
 2319 0104 10D2     		bcs	.L146
 870:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2320              		.loc 1 870 50 discriminator 1 view .LVU841
 2321 0106 BAF1000F 		cmp	r10, #0
 2322 010a 0DD0     		beq	.L146
 2323              	.L142:
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2324              		.loc 1 847 11 is_stmt 1 view .LVU842
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2325              		.loc 1 847 12 is_stmt 0 view .LVU843
 2326 010c 2868     		ldr	r0, [r5]
 2327 010e 466B     		ldr	r6, [r0, #52]
 2328 0110 40F21A33 		movw	r3, #794
 847:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2329              		.loc 1 847 11 view .LVU844
 2330 0114 1E40     		ands	r6, r6, r3
 2331 0116 15D1     		bne	.L157
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2332              		.loc 1 849 7 is_stmt 1 view .LVU845
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2333              		.loc 1 849 10 is_stmt 0 view .LVU846
 2334 0118 436B     		ldr	r3, [r0, #52]
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2335              		.loc 1 849 9 view .LVU847
 2336 011a 13F4804F 		tst	r3, #16384
 2337 011e ECD0     		beq	.L143
 849:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2338              		.loc 1 849 53 discriminator 1 view .LVU848
 2339 0120 B9F1000F 		cmp	r9, #0
 2340 0124 E9D0     		beq	.L143
 2341 0126 E6E7     		b	.L144
 2342              	.L146:
 873:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2343              		.loc 1 873 9 is_stmt 1 view .LVU849
 2344 0128 2B68     		ldr	r3, [r5]
 2345 012a 374A     		ldr	r2, .L160
 2346 012c 9A63     		str	r2, [r3, #56]
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2347              		.loc 1 874 9 view .LVU850
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2348              		.loc 1 874 12 is_stmt 0 view .LVU851
 2349 012e AB6B     		ldr	r3, [r5, #56]
 874:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2350              		.loc 1 874 24 view .LVU852
 2351 0130 019A     		ldr	r2, [sp, #4]
 2352 0132 1343     		orrs	r3, r3, r2
 2353 0134 AB63     		str	r3, [r5, #56]
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/cc3mRTku.s 			page 112


 2354              		.loc 1 875 9 is_stmt 1 view .LVU853
 875:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2355              		.loc 1 875 20 is_stmt 0 view .LVU854
 2356 0136 0123     		movs	r3, #1
 2357 0138 85F83430 		strb	r3, [r5, #52]
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_TIMEOUT;
 2358              		.loc 1 876 9 is_stmt 1 view .LVU855
 876:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_TIMEOUT;
 2359              		.loc 1 876 22 is_stmt 0 view .LVU856
 2360 013c 0023     		movs	r3, #0
 2361 013e 2B63     		str	r3, [r5, #48]
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 2362              		.loc 1 877 9 is_stmt 1 view .LVU857
 877:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 2363              		.loc 1 877 16 is_stmt 0 view .LVU858
 2364 0140 0327     		movs	r7, #3
 2365 0142 5CE0     		b	.L135
 2366              	.L157:
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2367              		.loc 1 882 5 is_stmt 1 view .LVU859
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2368              		.loc 1 882 8 is_stmt 0 view .LVU860
 2369 0144 436B     		ldr	r3, [r0, #52]
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2370              		.loc 1 882 7 view .LVU861
 2371 0146 13F4807F 		tst	r3, #256
 2372 014a 05D0     		beq	.L148
 882:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2373              		.loc 1 882 50 discriminator 1 view .LVU862
 2374 014c BBF1010F 		cmp	fp, #1
 2375 0150 02D9     		bls	.L148
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2376              		.loc 1 884 7 is_stmt 1 view .LVU863
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2377              		.loc 1 884 21 is_stmt 0 view .LVU864
 2378 0152 6B6C     		ldr	r3, [r5, #68]
 884:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 2379              		.loc 1 884 9 view .LVU865
 2380 0154 032B     		cmp	r3, #3
 2381 0156 1CD1     		bne	.L158
 2382              	.LVL209:
 2383              	.L148:
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2384              		.loc 1 901 5 is_stmt 1 view .LVU866
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2385              		.loc 1 901 8 is_stmt 0 view .LVU867
 2386 0158 2B68     		ldr	r3, [r5]
 2387 015a 5A6B     		ldr	r2, [r3, #52]
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2388              		.loc 1 901 7 view .LVU868
 2389 015c 12F0080F 		tst	r2, #8
 2390 0160 28D1     		bne	.L149
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2391              		.loc 1 901 55 discriminator 1 view .LVU869
 2392 0162 5A6B     		ldr	r2, [r3, #52]
 901:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2393              		.loc 1 901 51 discriminator 1 view .LVU870
ARM GAS  /tmp/cc3mRTku.s 			page 113


 2394 0164 12F4007F 		tst	r2, #512
 2395 0168 24D1     		bne	.L149
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2396              		.loc 1 910 10 is_stmt 1 view .LVU871
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2397              		.loc 1 910 13 is_stmt 0 view .LVU872
 2398 016a 5A6B     		ldr	r2, [r3, #52]
 910:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2399              		.loc 1 910 12 view .LVU873
 2400 016c 12F0020F 		tst	r2, #2
 2401 0170 2CD1     		bne	.L159
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2402              		.loc 1 919 10 is_stmt 1 view .LVU874
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2403              		.loc 1 919 13 is_stmt 0 view .LVU875
 2404 0172 5A6B     		ldr	r2, [r3, #52]
 919:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2405              		.loc 1 919 12 view .LVU876
 2406 0174 12F0100F 		tst	r2, #16
 2407 0178 34D0     		beq	.L152
 922:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 2408              		.loc 1 922 7 is_stmt 1 view .LVU877
 2409 017a 234A     		ldr	r2, .L160
 2410 017c 9A63     		str	r2, [r3, #56]
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2411              		.loc 1 923 7 view .LVU878
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2412              		.loc 1 923 10 is_stmt 0 view .LVU879
 2413 017e AB6B     		ldr	r3, [r5, #56]
 923:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2414              		.loc 1 923 22 view .LVU880
 2415 0180 43F01003 		orr	r3, r3, #16
 2416 0184 AB63     		str	r3, [r5, #56]
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2417              		.loc 1 924 7 is_stmt 1 view .LVU881
 924:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2418              		.loc 1 924 18 is_stmt 0 view .LVU882
 2419 0186 0123     		movs	r3, #1
 2420 0188 85F83430 		strb	r3, [r5, #52]
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2421              		.loc 1 925 7 is_stmt 1 view .LVU883
 925:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2422              		.loc 1 925 20 is_stmt 0 view .LVU884
 2423 018c 0023     		movs	r3, #0
 2424 018e 2B63     		str	r3, [r5, #48]
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2425              		.loc 1 926 7 is_stmt 1 view .LVU885
 926:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2426              		.loc 1 926 14 is_stmt 0 view .LVU886
 2427 0190 35E0     		b	.L135
 2428              	.LVL210:
 2429              	.L158:
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2430              		.loc 1 887 9 is_stmt 1 view .LVU887
 887:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2431              		.loc 1 887 22 is_stmt 0 view .LVU888
 2432 0192 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
ARM GAS  /tmp/cc3mRTku.s 			page 114


 2433              	.LVL211:
 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 2434              		.loc 1 888 9 is_stmt 1 view .LVU889
 888:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 2435              		.loc 1 888 11 is_stmt 0 view .LVU890
 2436 0196 0346     		mov	r3, r0
 2437 0198 0028     		cmp	r0, #0
 2438 019a DDD0     		beq	.L148
 891:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2439              		.loc 1 891 11 is_stmt 1 view .LVU891
 2440 019c 2A68     		ldr	r2, [r5]
 2441 019e 1A49     		ldr	r1, .L160
 2442 01a0 9163     		str	r1, [r2, #56]
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2443              		.loc 1 892 11 view .LVU892
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2444              		.loc 1 892 14 is_stmt 0 view .LVU893
 2445 01a2 AA6B     		ldr	r2, [r5, #56]
 892:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2446              		.loc 1 892 26 view .LVU894
 2447 01a4 1343     		orrs	r3, r3, r2
 2448 01a6 AB63     		str	r3, [r5, #56]
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2449              		.loc 1 893 11 is_stmt 1 view .LVU895
 893:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2450              		.loc 1 893 22 is_stmt 0 view .LVU896
 2451 01a8 0123     		movs	r3, #1
 2452 01aa 85F83430 		strb	r3, [r5, #52]
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           return HAL_ERROR;
 2453              		.loc 1 894 11 is_stmt 1 view .LVU897
 894:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****           return HAL_ERROR;
 2454              		.loc 1 894 24 is_stmt 0 view .LVU898
 2455 01ae 0023     		movs	r3, #0
 2456 01b0 2B63     		str	r3, [r5, #48]
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 2457              		.loc 1 895 11 is_stmt 1 view .LVU899
 895:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 2458              		.loc 1 895 18 is_stmt 0 view .LVU900
 2459 01b2 24E0     		b	.L135
 2460              	.LVL212:
 2461              	.L149:
 904:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2462              		.loc 1 904 7 is_stmt 1 view .LVU901
 2463 01b4 144A     		ldr	r2, .L160
 2464 01b6 9A63     		str	r2, [r3, #56]
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2465              		.loc 1 905 7 view .LVU902
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2466              		.loc 1 905 10 is_stmt 0 view .LVU903
 2467 01b8 AB6B     		ldr	r3, [r5, #56]
 905:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2468              		.loc 1 905 22 view .LVU904
 2469 01ba 43F00803 		orr	r3, r3, #8
 2470 01be AB63     		str	r3, [r5, #56]
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2471              		.loc 1 906 7 is_stmt 1 view .LVU905
 906:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/cc3mRTku.s 			page 115


 2472              		.loc 1 906 18 is_stmt 0 view .LVU906
 2473 01c0 0123     		movs	r3, #1
 2474 01c2 85F83430 		strb	r3, [r5, #52]
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2475              		.loc 1 907 7 is_stmt 1 view .LVU907
 907:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2476              		.loc 1 907 20 is_stmt 0 view .LVU908
 2477 01c6 0023     		movs	r3, #0
 2478 01c8 2B63     		str	r3, [r5, #48]
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2479              		.loc 1 908 7 is_stmt 1 view .LVU909
 908:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2480              		.loc 1 908 14 is_stmt 0 view .LVU910
 2481 01ca 18E0     		b	.L135
 2482              	.L159:
 913:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2483              		.loc 1 913 7 is_stmt 1 view .LVU911
 2484 01cc 0E4A     		ldr	r2, .L160
 2485 01ce 9A63     		str	r2, [r3, #56]
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2486              		.loc 1 914 7 view .LVU912
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2487              		.loc 1 914 10 is_stmt 0 view .LVU913
 2488 01d0 AB6B     		ldr	r3, [r5, #56]
 914:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2489              		.loc 1 914 22 view .LVU914
 2490 01d2 43F00203 		orr	r3, r3, #2
 2491 01d6 AB63     		str	r3, [r5, #56]
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2492              		.loc 1 915 7 is_stmt 1 view .LVU915
 915:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2493              		.loc 1 915 18 is_stmt 0 view .LVU916
 2494 01d8 0123     		movs	r3, #1
 2495 01da 85F83430 		strb	r3, [r5, #52]
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2496              		.loc 1 916 7 is_stmt 1 view .LVU917
 916:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2497              		.loc 1 916 20 is_stmt 0 view .LVU918
 2498 01de 0023     		movs	r3, #0
 2499 01e0 2B63     		str	r3, [r5, #48]
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2500              		.loc 1 917 7 is_stmt 1 view .LVU919
 917:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2501              		.loc 1 917 14 is_stmt 0 view .LVU920
 2502 01e2 0CE0     		b	.L135
 2503              	.L152:
 931:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2504              		.loc 1 931 5 is_stmt 1 view .LVU921
 934:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2505              		.loc 1 934 5 view .LVU922
 2506 01e4 40F23A52 		movw	r2, #1338
 2507 01e8 9A63     		str	r2, [r3, #56]
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2508              		.loc 1 936 5 view .LVU923
 936:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2509              		.loc 1 936 16 is_stmt 0 view .LVU924
 2510 01ea 0123     		movs	r3, #1
ARM GAS  /tmp/cc3mRTku.s 			page 116


 2511 01ec 85F83430 		strb	r3, [r5, #52]
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2512              		.loc 1 938 5 is_stmt 1 view .LVU925
 938:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2513              		.loc 1 938 12 is_stmt 0 view .LVU926
 2514 01f0 0027     		movs	r7, #0
 2515 01f2 04E0     		b	.L135
 2516              	.LVL213:
 2517              	.L136:
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2518              		.loc 1 942 5 is_stmt 1 view .LVU927
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2519              		.loc 1 942 8 is_stmt 0 view .LVU928
 2520 01f4 AB6B     		ldr	r3, [r5, #56]
 942:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2521              		.loc 1 942 20 view .LVU929
 2522 01f6 43F00053 		orr	r3, r3, #536870912
 2523 01fa AB63     		str	r3, [r5, #56]
 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2524              		.loc 1 943 5 is_stmt 1 view .LVU930
 943:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2525              		.loc 1 943 12 is_stmt 0 view .LVU931
 2526 01fc 0127     		movs	r7, #1
 2527              	.LVL214:
 2528              	.L135:
 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2529              		.loc 1 945 1 view .LVU932
 2530 01fe 3846     		mov	r0, r7
 2531 0200 0BB0     		add	sp, sp, #44
 2532              	.LCFI34:
 2533              		.cfi_def_cfa_offset 36
 2534              		@ sp needed
 2535 0202 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2536              	.LVL215:
 2537              	.L161:
 945:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2538              		.loc 1 945 1 view .LVU933
 2539 0206 00BF     		.align	2
 2540              	.L160:
 2541 0208 FF054000 		.word	4195839
 2542              		.cfi_endproc
 2543              	.LFE71:
 2545              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 2546              		.align	1
 2547              		.global	HAL_SD_ReadBlocks_IT
 2548              		.syntax unified
 2549              		.thumb
 2550              		.thumb_func
 2552              	HAL_SD_ReadBlocks_IT:
 2553              	.LVL216:
 2554              	.LFB72:
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2555              		.loc 1 961 1 is_stmt 1 view -0
 2556              		.cfi_startproc
 2557              		@ args = 0, pretend = 0, frame = 24
 2558              		@ frame_needed = 0, uses_anonymous_args = 0
 961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
ARM GAS  /tmp/cc3mRTku.s 			page 117


 2559              		.loc 1 961 1 is_stmt 0 view .LVU935
 2560 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2561              	.LCFI35:
 2562              		.cfi_def_cfa_offset 20
 2563              		.cfi_offset 4, -20
 2564              		.cfi_offset 5, -16
 2565              		.cfi_offset 6, -12
 2566              		.cfi_offset 7, -8
 2567              		.cfi_offset 14, -4
 2568 0002 87B0     		sub	sp, sp, #28
 2569              	.LCFI36:
 2570              		.cfi_def_cfa_offset 48
 2571 0004 0446     		mov	r4, r0
 962:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 2572              		.loc 1 962 3 is_stmt 1 view .LVU936
 963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2573              		.loc 1 963 3 view .LVU937
 964:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2574              		.loc 1 964 3 view .LVU938
 2575              	.LVL217:
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2576              		.loc 1 966 3 view .LVU939
 966:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2577              		.loc 1 966 5 is_stmt 0 view .LVU940
 2578 0006 0029     		cmp	r1, #0
 2579 0008 46D0     		beq	.L172
 2580 000a 1646     		mov	r6, r2
 2581 000c 1F46     		mov	r7, r3
 2582 000e 0A46     		mov	r2, r1
 2583              	.LVL218:
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2584              		.loc 1 972 3 is_stmt 1 view .LVU941
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2585              		.loc 1 972 9 is_stmt 0 view .LVU942
 2586 0010 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 2587 0014 EDB2     		uxtb	r5, r5
 972:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2588              		.loc 1 972 5 view .LVU943
 2589 0016 012D     		cmp	r5, #1
 2590 0018 50D1     		bne	.L169
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2591              		.loc 1 974 5 is_stmt 1 view .LVU944
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2592              		.loc 1 974 20 is_stmt 0 view .LVU945
 2593 001a 0023     		movs	r3, #0
 2594              	.LVL219:
 974:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2595              		.loc 1 974 20 view .LVU946
 2596 001c 8363     		str	r3, [r0, #56]
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2597              		.loc 1 976 5 is_stmt 1 view .LVU947
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2598              		.loc 1 976 13 is_stmt 0 view .LVU948
 2599 001e F319     		adds	r3, r6, r7
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2600              		.loc 1 976 45 view .LVU949
 2601 0020 C16D     		ldr	r1, [r0, #92]
ARM GAS  /tmp/cc3mRTku.s 			page 118


 2602              	.LVL220:
 976:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2603              		.loc 1 976 7 view .LVU950
 2604 0022 8B42     		cmp	r3, r1
 2605 0024 3ED8     		bhi	.L173
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2606              		.loc 1 982 5 is_stmt 1 view .LVU951
 982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2607              		.loc 1 982 16 is_stmt 0 view .LVU952
 2608 0026 0323     		movs	r3, #3
 2609 0028 80F83430 		strb	r3, [r0, #52]
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2610              		.loc 1 985 5 is_stmt 1 view .LVU953
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2611              		.loc 1 985 8 is_stmt 0 view .LVU954
 2612 002c 0368     		ldr	r3, [r0]
 985:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2613              		.loc 1 985 26 view .LVU955
 2614 002e 0021     		movs	r1, #0
 2615 0030 D962     		str	r1, [r3, #44]
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2616              		.loc 1 987 5 is_stmt 1 view .LVU956
 987:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2617              		.loc 1 987 21 is_stmt 0 view .LVU957
 2618 0032 8262     		str	r2, [r0, #40]
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2619              		.loc 1 988 5 is_stmt 1 view .LVU958
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2620              		.loc 1 988 33 is_stmt 0 view .LVU959
 2621 0034 7A02     		lsls	r2, r7, #9
 2622              	.LVL221:
 988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2623              		.loc 1 988 21 view .LVU960
 2624 0036 C262     		str	r2, [r0, #44]
 990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2625              		.loc 1 990 5 is_stmt 1 view .LVU961
 2626 0038 0168     		ldr	r1, [r0]
 2627 003a CB6B     		ldr	r3, [r1, #60]
 2628 003c 43F40143 		orr	r3, r3, #33024
 2629 0040 43F02A03 		orr	r3, r3, #42
 2630 0044 CB63     		str	r3, [r1, #60]
 2631              	.LVL222:
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2632              		.loc 1 992 5 view .LVU962
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2633              		.loc 1 992 19 is_stmt 0 view .LVU963
 2634 0046 436C     		ldr	r3, [r0, #68]
 992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2635              		.loc 1 992 7 view .LVU964
 2636 0048 012B     		cmp	r3, #1
 2637 004a 00D0     		beq	.L166
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2638              		.loc 1 994 7 is_stmt 1 view .LVU965
 994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2639              		.loc 1 994 11 is_stmt 0 view .LVU966
 2640 004c 7602     		lsls	r6, r6, #9
 2641              	.LVL223:
ARM GAS  /tmp/cc3mRTku.s 			page 119


 2642              	.L166:
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2643              		.loc 1 998 5 is_stmt 1 view .LVU967
 998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2644              		.loc 1 998 26 is_stmt 0 view .LVU968
 2645 004e 4FF0FF33 		mov	r3, #-1
 2646 0052 0093     		str	r3, [sp]
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2647              		.loc 1 999 5 is_stmt 1 view .LVU969
 999:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2648              		.loc 1 999 26 is_stmt 0 view .LVU970
 2649 0054 0192     		str	r2, [sp, #4]
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 2650              		.loc 1 1000 5 is_stmt 1 view .LVU971
1000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 2651              		.loc 1 1000 26 is_stmt 0 view .LVU972
 2652 0056 9023     		movs	r3, #144
 2653 0058 0293     		str	r3, [sp, #8]
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2654              		.loc 1 1001 5 is_stmt 1 view .LVU973
1001:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2655              		.loc 1 1001 26 is_stmt 0 view .LVU974
 2656 005a 0223     		movs	r3, #2
 2657 005c 0393     		str	r3, [sp, #12]
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2658              		.loc 1 1002 5 is_stmt 1 view .LVU975
1002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2659              		.loc 1 1002 26 is_stmt 0 view .LVU976
 2660 005e 0023     		movs	r3, #0
 2661 0060 0493     		str	r3, [sp, #16]
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2662              		.loc 1 1003 5 is_stmt 1 view .LVU977
1003:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2663              		.loc 1 1003 26 is_stmt 0 view .LVU978
 2664 0062 0123     		movs	r3, #1
 2665 0064 0593     		str	r3, [sp, #20]
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2666              		.loc 1 1004 5 is_stmt 1 view .LVU979
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2667              		.loc 1 1004 11 is_stmt 0 view .LVU980
 2668 0066 6946     		mov	r1, sp
 2669 0068 2068     		ldr	r0, [r4]
 2670              	.LVL224:
1004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2671              		.loc 1 1004 11 view .LVU981
 2672 006a FFF7FEFF 		bl	SDIO_ConfigData
 2673              	.LVL225:
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2674              		.loc 1 1007 5 is_stmt 1 view .LVU982
1007:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2675              		.loc 1 1007 7 is_stmt 0 view .LVU983
 2676 006e 012F     		cmp	r7, #1
 2677 0070 1DD9     		bls	.L167
1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2678              		.loc 1 1009 7 is_stmt 1 view .LVU984
1009:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2679              		.loc 1 1009 20 is_stmt 0 view .LVU985
ARM GAS  /tmp/cc3mRTku.s 			page 120


 2680 0072 0A23     		movs	r3, #10
 2681 0074 2363     		str	r3, [r4, #48]
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2682              		.loc 1 1012 7 is_stmt 1 view .LVU986
1012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2683              		.loc 1 1012 20 is_stmt 0 view .LVU987
 2684 0076 3146     		mov	r1, r6
 2685 0078 2068     		ldr	r0, [r4]
 2686 007a FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2687              	.LVL226:
 2688              	.L168:
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2689              		.loc 1 1021 5 is_stmt 1 view .LVU988
1021:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2690              		.loc 1 1021 7 is_stmt 0 view .LVU989
 2691 007e 08B3     		cbz	r0, .L170
1024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2692              		.loc 1 1024 7 is_stmt 1 view .LVU990
 2693 0080 2368     		ldr	r3, [r4]
 2694 0082 114A     		ldr	r2, .L174
 2695 0084 9A63     		str	r2, [r3, #56]
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2696              		.loc 1 1025 7 view .LVU991
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2697              		.loc 1 1025 10 is_stmt 0 view .LVU992
 2698 0086 A36B     		ldr	r3, [r4, #56]
1025:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2699              		.loc 1 1025 22 view .LVU993
 2700 0088 0343     		orrs	r3, r3, r0
 2701 008a A363     		str	r3, [r4, #56]
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2702              		.loc 1 1026 7 is_stmt 1 view .LVU994
1026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2703              		.loc 1 1026 18 is_stmt 0 view .LVU995
 2704 008c 0123     		movs	r3, #1
 2705 008e 84F83430 		strb	r3, [r4, #52]
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2706              		.loc 1 1027 7 is_stmt 1 view .LVU996
1027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2707              		.loc 1 1027 20 is_stmt 0 view .LVU997
 2708 0092 0023     		movs	r3, #0
 2709 0094 2363     		str	r3, [r4, #48]
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2710              		.loc 1 1028 7 is_stmt 1 view .LVU998
1028:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2711              		.loc 1 1028 14 is_stmt 0 view .LVU999
 2712 0096 12E0     		b	.L164
 2713              	.LVL227:
 2714              	.L172:
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2715              		.loc 1 968 5 is_stmt 1 view .LVU1000
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2716              		.loc 1 968 8 is_stmt 0 view .LVU1001
 2717 0098 836B     		ldr	r3, [r0, #56]
 2718              	.LVL228:
 968:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2719              		.loc 1 968 20 view .LVU1002
ARM GAS  /tmp/cc3mRTku.s 			page 121


 2720 009a 43F00063 		orr	r3, r3, #134217728
 2721 009e 8363     		str	r3, [r0, #56]
 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2722              		.loc 1 969 5 is_stmt 1 view .LVU1003
 969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2723              		.loc 1 969 12 is_stmt 0 view .LVU1004
 2724 00a0 0125     		movs	r5, #1
 2725 00a2 0CE0     		b	.L164
 2726              	.LVL229:
 2727              	.L173:
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2728              		.loc 1 978 7 is_stmt 1 view .LVU1005
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2729              		.loc 1 978 10 is_stmt 0 view .LVU1006
 2730 00a4 836B     		ldr	r3, [r0, #56]
 978:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2731              		.loc 1 978 22 view .LVU1007
 2732 00a6 43F00073 		orr	r3, r3, #33554432
 2733 00aa 8363     		str	r3, [r0, #56]
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2734              		.loc 1 979 7 is_stmt 1 view .LVU1008
 979:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2735              		.loc 1 979 14 is_stmt 0 view .LVU1009
 2736 00ac 07E0     		b	.L164
 2737              	.LVL230:
 2738              	.L167:
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2739              		.loc 1 1016 7 is_stmt 1 view .LVU1010
1016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2740              		.loc 1 1016 20 is_stmt 0 view .LVU1011
 2741 00ae 0923     		movs	r3, #9
 2742 00b0 2363     		str	r3, [r4, #48]
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2743              		.loc 1 1019 7 is_stmt 1 view .LVU1012
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2744              		.loc 1 1019 20 is_stmt 0 view .LVU1013
 2745 00b2 3146     		mov	r1, r6
 2746 00b4 2068     		ldr	r0, [r4]
 2747 00b6 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2748              	.LVL231:
1019:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2749              		.loc 1 1019 20 view .LVU1014
 2750 00ba E0E7     		b	.L168
 2751              	.LVL232:
 2752              	.L169:
1035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2753              		.loc 1 1035 12 view .LVU1015
 2754 00bc 0225     		movs	r5, #2
 2755              	.LVL233:
 2756              	.L164:
1037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2757              		.loc 1 1037 1 view .LVU1016
 2758 00be 2846     		mov	r0, r5
 2759 00c0 07B0     		add	sp, sp, #28
 2760              	.LCFI37:
 2761              		.cfi_remember_state
 2762              		.cfi_def_cfa_offset 20
ARM GAS  /tmp/cc3mRTku.s 			page 122


 2763              		@ sp needed
 2764 00c2 F0BD     		pop	{r4, r5, r6, r7, pc}
 2765              	.LVL234:
 2766              	.L170:
 2767              	.LCFI38:
 2768              		.cfi_restore_state
1031:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2769              		.loc 1 1031 12 view .LVU1017
 2770 00c4 0025     		movs	r5, #0
 2771 00c6 FAE7     		b	.L164
 2772              	.L175:
 2773              		.align	2
 2774              	.L174:
 2775 00c8 FF054000 		.word	4195839
 2776              		.cfi_endproc
 2777              	.LFE72:
 2779              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 2780              		.align	1
 2781              		.global	HAL_SD_WriteBlocks_IT
 2782              		.syntax unified
 2783              		.thumb
 2784              		.thumb_func
 2786              	HAL_SD_WriteBlocks_IT:
 2787              	.LVL235:
 2788              	.LFB73:
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2789              		.loc 1 1053 1 is_stmt 1 view -0
 2790              		.cfi_startproc
 2791              		@ args = 0, pretend = 0, frame = 24
 2792              		@ frame_needed = 0, uses_anonymous_args = 0
1053:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2793              		.loc 1 1053 1 is_stmt 0 view .LVU1019
 2794 0000 70B5     		push	{r4, r5, r6, lr}
 2795              	.LCFI39:
 2796              		.cfi_def_cfa_offset 16
 2797              		.cfi_offset 4, -16
 2798              		.cfi_offset 5, -12
 2799              		.cfi_offset 6, -8
 2800              		.cfi_offset 14, -4
 2801 0002 86B0     		sub	sp, sp, #24
 2802              	.LCFI40:
 2803              		.cfi_def_cfa_offset 40
 2804 0004 0446     		mov	r4, r0
1054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 2805              		.loc 1 1054 3 is_stmt 1 view .LVU1020
1055:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2806              		.loc 1 1055 3 view .LVU1021
1056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2807              		.loc 1 1056 3 view .LVU1022
 2808              	.LVL236:
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2809              		.loc 1 1058 3 view .LVU1023
1058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2810              		.loc 1 1058 5 is_stmt 0 view .LVU1024
 2811 0006 0029     		cmp	r1, #0
 2812 0008 34D0     		beq	.L186
 2813 000a 0846     		mov	r0, r1
ARM GAS  /tmp/cc3mRTku.s 			page 123


 2814              	.LVL237:
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2815              		.loc 1 1064 3 is_stmt 1 view .LVU1025
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2816              		.loc 1 1064 9 is_stmt 0 view .LVU1026
 2817 000c 94F83450 		ldrb	r5, [r4, #52]	@ zero_extendqisi2
 2818 0010 EDB2     		uxtb	r5, r5
1064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 2819              		.loc 1 1064 5 view .LVU1027
 2820 0012 012D     		cmp	r5, #1
 2821 0014 50D1     		bne	.L184
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2822              		.loc 1 1066 5 is_stmt 1 view .LVU1028
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2823              		.loc 1 1066 20 is_stmt 0 view .LVU1029
 2824 0016 0021     		movs	r1, #0
 2825              	.LVL238:
1066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2826              		.loc 1 1066 20 view .LVU1030
 2827 0018 A163     		str	r1, [r4, #56]
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2828              		.loc 1 1068 5 is_stmt 1 view .LVU1031
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2829              		.loc 1 1068 13 is_stmt 0 view .LVU1032
 2830 001a D118     		adds	r1, r2, r3
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2831              		.loc 1 1068 45 view .LVU1033
 2832 001c E66D     		ldr	r6, [r4, #92]
1068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2833              		.loc 1 1068 7 view .LVU1034
 2834 001e B142     		cmp	r1, r6
 2835 0020 2ED8     		bhi	.L187
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2836              		.loc 1 1074 5 is_stmt 1 view .LVU1035
1074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2837              		.loc 1 1074 16 is_stmt 0 view .LVU1036
 2838 0022 0321     		movs	r1, #3
 2839 0024 84F83410 		strb	r1, [r4, #52]
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2840              		.loc 1 1077 5 is_stmt 1 view .LVU1037
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2841              		.loc 1 1077 8 is_stmt 0 view .LVU1038
 2842 0028 2168     		ldr	r1, [r4]
1077:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2843              		.loc 1 1077 26 view .LVU1039
 2844 002a 0026     		movs	r6, #0
 2845 002c CE62     		str	r6, [r1, #44]
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2846              		.loc 1 1079 5 is_stmt 1 view .LVU1040
1079:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2847              		.loc 1 1079 21 is_stmt 0 view .LVU1041
 2848 002e 2062     		str	r0, [r4, #32]
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2849              		.loc 1 1080 5 is_stmt 1 view .LVU1042
1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2850              		.loc 1 1080 33 is_stmt 0 view .LVU1043
 2851 0030 5E02     		lsls	r6, r3, #9
ARM GAS  /tmp/cc3mRTku.s 			page 124


1080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2852              		.loc 1 1080 21 view .LVU1044
 2853 0032 6662     		str	r6, [r4, #36]
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2854              		.loc 1 1083 5 is_stmt 1 view .LVU1045
 2855 0034 2068     		ldr	r0, [r4]
 2856              	.LVL239:
1083:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2857              		.loc 1 1083 5 is_stmt 0 view .LVU1046
 2858 0036 C16B     		ldr	r1, [r0, #60]
 2859 0038 41F48241 		orr	r1, r1, #16640
 2860 003c 41F01A01 		orr	r1, r1, #26
 2861 0040 C163     		str	r1, [r0, #60]
 2862              	.LVL240:
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2863              		.loc 1 1085 5 is_stmt 1 view .LVU1047
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2864              		.loc 1 1085 19 is_stmt 0 view .LVU1048
 2865 0042 616C     		ldr	r1, [r4, #68]
1085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2866              		.loc 1 1085 7 view .LVU1049
 2867 0044 0129     		cmp	r1, #1
 2868 0046 00D0     		beq	.L180
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2869              		.loc 1 1087 7 is_stmt 1 view .LVU1050
1087:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2870              		.loc 1 1087 11 is_stmt 0 view .LVU1051
 2871 0048 5202     		lsls	r2, r2, #9
 2872              	.LVL241:
 2873              	.L180:
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2874              		.loc 1 1091 5 is_stmt 1 view .LVU1052
1091:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2875              		.loc 1 1091 7 is_stmt 0 view .LVU1053
 2876 004a 012B     		cmp	r3, #1
 2877 004c 1DD9     		bls	.L181
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2878              		.loc 1 1093 7 is_stmt 1 view .LVU1054
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2879              		.loc 1 1093 20 is_stmt 0 view .LVU1055
 2880 004e 2823     		movs	r3, #40
 2881              	.LVL242:
1093:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2882              		.loc 1 1093 20 view .LVU1056
 2883 0050 2363     		str	r3, [r4, #48]
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2884              		.loc 1 1096 7 is_stmt 1 view .LVU1057
1096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2885              		.loc 1 1096 20 is_stmt 0 view .LVU1058
 2886 0052 1146     		mov	r1, r2
 2887 0054 2068     		ldr	r0, [r4]
 2888 0056 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2889              	.LVL243:
 2890              	.L182:
1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 2891              		.loc 1 1105 5 is_stmt 1 view .LVU1059
1105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
ARM GAS  /tmp/cc3mRTku.s 			page 125


 2892              		.loc 1 1105 7 is_stmt 0 view .LVU1060
 2893 005a E8B1     		cbz	r0, .L183
1108:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2894              		.loc 1 1108 7 is_stmt 1 view .LVU1061
 2895 005c 2368     		ldr	r3, [r4]
 2896 005e 184A     		ldr	r2, .L188
 2897 0060 9A63     		str	r2, [r3, #56]
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2898              		.loc 1 1109 7 view .LVU1062
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2899              		.loc 1 1109 10 is_stmt 0 view .LVU1063
 2900 0062 A36B     		ldr	r3, [r4, #56]
1109:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2901              		.loc 1 1109 22 view .LVU1064
 2902 0064 0343     		orrs	r3, r3, r0
 2903 0066 A363     		str	r3, [r4, #56]
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2904              		.loc 1 1110 7 is_stmt 1 view .LVU1065
1110:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2905              		.loc 1 1110 18 is_stmt 0 view .LVU1066
 2906 0068 0123     		movs	r3, #1
 2907 006a 84F83430 		strb	r3, [r4, #52]
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2908              		.loc 1 1111 7 is_stmt 1 view .LVU1067
1111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2909              		.loc 1 1111 20 is_stmt 0 view .LVU1068
 2910 006e 0023     		movs	r3, #0
 2911 0070 2363     		str	r3, [r4, #48]
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2912              		.loc 1 1112 7 is_stmt 1 view .LVU1069
1112:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2913              		.loc 1 1112 14 is_stmt 0 view .LVU1070
 2914 0072 22E0     		b	.L178
 2915              	.LVL244:
 2916              	.L186:
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2917              		.loc 1 1060 5 is_stmt 1 view .LVU1071
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2918              		.loc 1 1060 8 is_stmt 0 view .LVU1072
 2919 0074 836B     		ldr	r3, [r0, #56]
 2920              	.LVL245:
1060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 2921              		.loc 1 1060 20 view .LVU1073
 2922 0076 43F00063 		orr	r3, r3, #134217728
 2923 007a 8363     		str	r3, [r0, #56]
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2924              		.loc 1 1061 5 is_stmt 1 view .LVU1074
1061:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2925              		.loc 1 1061 12 is_stmt 0 view .LVU1075
 2926 007c 0125     		movs	r5, #1
 2927 007e 1CE0     		b	.L178
 2928              	.LVL246:
 2929              	.L187:
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2930              		.loc 1 1070 7 is_stmt 1 view .LVU1076
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2931              		.loc 1 1070 10 is_stmt 0 view .LVU1077
ARM GAS  /tmp/cc3mRTku.s 			page 126


 2932 0080 A36B     		ldr	r3, [r4, #56]
 2933              	.LVL247:
1070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 2934              		.loc 1 1070 22 view .LVU1078
 2935 0082 43F00073 		orr	r3, r3, #33554432
 2936 0086 A363     		str	r3, [r4, #56]
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2937              		.loc 1 1071 7 is_stmt 1 view .LVU1079
1071:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2938              		.loc 1 1071 14 is_stmt 0 view .LVU1080
 2939 0088 17E0     		b	.L178
 2940              	.LVL248:
 2941              	.L181:
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2942              		.loc 1 1100 7 is_stmt 1 view .LVU1081
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2943              		.loc 1 1100 20 is_stmt 0 view .LVU1082
 2944 008a 1823     		movs	r3, #24
 2945              	.LVL249:
1100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2946              		.loc 1 1100 20 view .LVU1083
 2947 008c 2363     		str	r3, [r4, #48]
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2948              		.loc 1 1103 7 is_stmt 1 view .LVU1084
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2949              		.loc 1 1103 20 is_stmt 0 view .LVU1085
 2950 008e 1146     		mov	r1, r2
 2951 0090 2068     		ldr	r0, [r4]
 2952 0092 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2953              	.LVL250:
1103:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 2954              		.loc 1 1103 20 view .LVU1086
 2955 0096 E0E7     		b	.L182
 2956              	.L183:
1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2957              		.loc 1 1116 5 is_stmt 1 view .LVU1087
1116:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2958              		.loc 1 1116 26 is_stmt 0 view .LVU1088
 2959 0098 4FF0FF33 		mov	r3, #-1
 2960 009c 0093     		str	r3, [sp]
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2961              		.loc 1 1117 5 is_stmt 1 view .LVU1089
1117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2962              		.loc 1 1117 26 is_stmt 0 view .LVU1090
 2963 009e 0196     		str	r6, [sp, #4]
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2964              		.loc 1 1118 5 is_stmt 1 view .LVU1091
1118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2965              		.loc 1 1118 26 is_stmt 0 view .LVU1092
 2966 00a0 9023     		movs	r3, #144
 2967 00a2 0293     		str	r3, [sp, #8]
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2968              		.loc 1 1119 5 is_stmt 1 view .LVU1093
1119:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2969              		.loc 1 1119 26 is_stmt 0 view .LVU1094
 2970 00a4 0025     		movs	r5, #0
 2971 00a6 0395     		str	r5, [sp, #12]
ARM GAS  /tmp/cc3mRTku.s 			page 127


1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2972              		.loc 1 1120 5 is_stmt 1 view .LVU1095
1120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2973              		.loc 1 1120 26 is_stmt 0 view .LVU1096
 2974 00a8 0495     		str	r5, [sp, #16]
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2975              		.loc 1 1121 5 is_stmt 1 view .LVU1097
1121:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2976              		.loc 1 1121 26 is_stmt 0 view .LVU1098
 2977 00aa 0123     		movs	r3, #1
 2978 00ac 0593     		str	r3, [sp, #20]
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2979              		.loc 1 1122 5 is_stmt 1 view .LVU1099
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2980              		.loc 1 1122 11 is_stmt 0 view .LVU1100
 2981 00ae 6946     		mov	r1, sp
 2982 00b0 2068     		ldr	r0, [r4]
 2983              	.LVL251:
1122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2984              		.loc 1 1122 11 view .LVU1101
 2985 00b2 FFF7FEFF 		bl	SDIO_ConfigData
 2986              	.LVL252:
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2987              		.loc 1 1124 5 is_stmt 1 view .LVU1102
1124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2988              		.loc 1 1124 12 is_stmt 0 view .LVU1103
 2989 00b6 00E0     		b	.L178
 2990              	.LVL253:
 2991              	.L184:
1128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 2992              		.loc 1 1128 12 view .LVU1104
 2993 00b8 0225     		movs	r5, #2
 2994              	.LVL254:
 2995              	.L178:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 2996              		.loc 1 1130 1 view .LVU1105
 2997 00ba 2846     		mov	r0, r5
 2998 00bc 06B0     		add	sp, sp, #24
 2999              	.LCFI41:
 3000              		.cfi_def_cfa_offset 16
 3001              		@ sp needed
 3002 00be 70BD     		pop	{r4, r5, r6, pc}
 3003              	.LVL255:
 3004              	.L189:
1130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3005              		.loc 1 1130 1 view .LVU1106
 3006              		.align	2
 3007              	.L188:
 3008 00c0 FF054000 		.word	4195839
 3009              		.cfi_endproc
 3010              	.LFE73:
 3012              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 3013              		.align	1
 3014              		.global	HAL_SD_ReadBlocks_DMA
 3015              		.syntax unified
 3016              		.thumb
 3017              		.thumb_func
ARM GAS  /tmp/cc3mRTku.s 			page 128


 3019              	HAL_SD_ReadBlocks_DMA:
 3020              	.LVL256:
 3021              	.LFB74:
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3022              		.loc 1 1146 1 is_stmt 1 view -0
 3023              		.cfi_startproc
 3024              		@ args = 0, pretend = 0, frame = 24
 3025              		@ frame_needed = 0, uses_anonymous_args = 0
1146:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3026              		.loc 1 1146 1 is_stmt 0 view .LVU1108
 3027 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3028              	.LCFI42:
 3029              		.cfi_def_cfa_offset 28
 3030              		.cfi_offset 4, -28
 3031              		.cfi_offset 5, -24
 3032              		.cfi_offset 6, -20
 3033              		.cfi_offset 7, -16
 3034              		.cfi_offset 8, -12
 3035              		.cfi_offset 9, -8
 3036              		.cfi_offset 14, -4
 3037 0004 87B0     		sub	sp, sp, #28
 3038              	.LCFI43:
 3039              		.cfi_def_cfa_offset 56
 3040 0006 0446     		mov	r4, r0
1147:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 3041              		.loc 1 1147 3 is_stmt 1 view .LVU1109
1148:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3042              		.loc 1 1148 3 view .LVU1110
1149:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3043              		.loc 1 1149 3 view .LVU1111
 3044              	.LVL257:
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3045              		.loc 1 1151 3 view .LVU1112
1151:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3046              		.loc 1 1151 5 is_stmt 0 view .LVU1113
 3047 0008 91B1     		cbz	r1, .L201
 3048 000a 1646     		mov	r6, r2
 3049 000c 1F46     		mov	r7, r3
 3050 000e 0A46     		mov	r2, r1
 3051              	.LVL258:
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3052              		.loc 1 1157 3 is_stmt 1 view .LVU1114
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3053              		.loc 1 1157 9 is_stmt 0 view .LVU1115
 3054 0010 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 3055 0014 EDB2     		uxtb	r5, r5
1157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3056              		.loc 1 1157 5 view .LVU1116
 3057 0016 012D     		cmp	r5, #1
 3058 0018 7DD1     		bne	.L198
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3059              		.loc 1 1159 5 is_stmt 1 view .LVU1117
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3060              		.loc 1 1159 20 is_stmt 0 view .LVU1118
 3061 001a 0023     		movs	r3, #0
 3062              	.LVL259:
1159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 129


 3063              		.loc 1 1159 20 view .LVU1119
 3064 001c 8363     		str	r3, [r0, #56]
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3065              		.loc 1 1161 5 is_stmt 1 view .LVU1120
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3066              		.loc 1 1161 13 is_stmt 0 view .LVU1121
 3067 001e F019     		adds	r0, r6, r7
 3068              	.LVL260:
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3069              		.loc 1 1161 45 view .LVU1122
 3070 0020 E36D     		ldr	r3, [r4, #92]
1161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3071              		.loc 1 1161 7 view .LVU1123
 3072 0022 9842     		cmp	r0, r3
 3073 0024 0AD9     		bls	.L193
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3074              		.loc 1 1163 7 is_stmt 1 view .LVU1124
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3075              		.loc 1 1163 10 is_stmt 0 view .LVU1125
 3076 0026 A36B     		ldr	r3, [r4, #56]
1163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3077              		.loc 1 1163 22 view .LVU1126
 3078 0028 43F00073 		orr	r3, r3, #33554432
 3079 002c A363     		str	r3, [r4, #56]
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3080              		.loc 1 1164 7 is_stmt 1 view .LVU1127
1164:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3081              		.loc 1 1164 14 is_stmt 0 view .LVU1128
 3082 002e 73E0     		b	.L192
 3083              	.LVL261:
 3084              	.L201:
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 3085              		.loc 1 1153 5 is_stmt 1 view .LVU1129
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 3086              		.loc 1 1153 8 is_stmt 0 view .LVU1130
 3087 0030 836B     		ldr	r3, [r0, #56]
 3088              	.LVL262:
1153:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 3089              		.loc 1 1153 20 view .LVU1131
 3090 0032 43F00063 		orr	r3, r3, #134217728
 3091 0036 8363     		str	r3, [r0, #56]
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3092              		.loc 1 1154 5 is_stmt 1 view .LVU1132
1154:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3093              		.loc 1 1154 12 is_stmt 0 view .LVU1133
 3094 0038 0125     		movs	r5, #1
 3095 003a 6DE0     		b	.L192
 3096              	.LVL263:
 3097              	.L193:
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3098              		.loc 1 1167 5 is_stmt 1 view .LVU1134
1167:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3099              		.loc 1 1167 16 is_stmt 0 view .LVU1135
 3100 003c 0323     		movs	r3, #3
 3101 003e 84F83430 		strb	r3, [r4, #52]
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3102              		.loc 1 1170 5 is_stmt 1 view .LVU1136
ARM GAS  /tmp/cc3mRTku.s 			page 130


1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3103              		.loc 1 1170 8 is_stmt 0 view .LVU1137
 3104 0042 2168     		ldr	r1, [r4]
 3105              	.LVL264:
1170:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3106              		.loc 1 1170 26 view .LVU1138
 3107 0044 0023     		movs	r3, #0
 3108 0046 CB62     		str	r3, [r1, #44]
1172:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3109              		.loc 1 1172 5 is_stmt 1 view .LVU1139
 3110 0048 2068     		ldr	r0, [r4]
 3111 004a C16B     		ldr	r1, [r0, #60]
 3112 004c 41F49571 		orr	r1, r1, #298
 3113 0050 C163     		str	r1, [r0, #60]
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3114              		.loc 1 1175 5 view .LVU1140
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3115              		.loc 1 1175 8 is_stmt 0 view .LVU1141
 3116 0052 216C     		ldr	r1, [r4, #64]
1175:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3117              		.loc 1 1175 35 view .LVU1142
 3118 0054 3348     		ldr	r0, .L203
 3119 0056 8862     		str	r0, [r1, #40]
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3120              		.loc 1 1178 5 is_stmt 1 view .LVU1143
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3121              		.loc 1 1178 8 is_stmt 0 view .LVU1144
 3122 0058 216C     		ldr	r1, [r4, #64]
1178:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3123              		.loc 1 1178 36 view .LVU1145
 3124 005a 3348     		ldr	r0, .L203+4
 3125 005c 0863     		str	r0, [r1, #48]
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3126              		.loc 1 1181 5 is_stmt 1 view .LVU1146
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3127              		.loc 1 1181 8 is_stmt 0 view .LVU1147
 3128 005e 216C     		ldr	r1, [r4, #64]
1181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3129              		.loc 1 1181 36 view .LVU1148
 3130 0060 4B63     		str	r3, [r1, #52]
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmarx->Instance->CCR, DMA_CCR_DIR, hsd->hdmarx->Init.Direction);
 3131              		.loc 1 1184 5 is_stmt 1 view .LVU1149
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmarx->Instance->CCR, DMA_CCR_DIR, hsd->hdmarx->Init.Direction);
 3132              		.loc 1 1184 8 is_stmt 0 view .LVU1150
 3133 0062 216C     		ldr	r1, [r4, #64]
1184:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmarx->Instance->CCR, DMA_CCR_DIR, hsd->hdmarx->Init.Direction);
 3134              		.loc 1 1184 33 view .LVU1151
 3135 0064 4B60     		str	r3, [r1, #4]
1185:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3136              		.loc 1 1185 5 is_stmt 1 view .LVU1152
 3137 0066 206C     		ldr	r0, [r4, #64]
 3138 0068 0168     		ldr	r1, [r0]
 3139 006a 0B68     		ldr	r3, [r1]
 3140 006c 23F01003 		bic	r3, r3, #16
 3141 0070 4068     		ldr	r0, [r0, #4]
 3142 0072 0343     		orrs	r3, r3, r0
 3143 0074 0B60     		str	r3, [r1]
ARM GAS  /tmp/cc3mRTku.s 			page 131


1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3144              		.loc 1 1188 5 view .LVU1153
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3145              		.loc 1 1188 52 is_stmt 0 view .LVU1154
 3146 0076 2168     		ldr	r1, [r4]
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3147              		.loc 1 1188 87 view .LVU1155
 3148 0078 4FEA4729 		lsl	r9, r7, #9
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3149              		.loc 1 1188 8 view .LVU1156
 3150 007c 4FEA9903 		lsr	r3, r9, #2
 3151 0080 8031     		adds	r1, r1, #128
 3152 0082 206C     		ldr	r0, [r4, #64]
 3153 0084 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3154              	.LVL265:
1188:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3155              		.loc 1 1188 7 discriminator 1 view .LVU1157
 3156 0088 8046     		mov	r8, r0
 3157 008a 68BB     		cbnz	r0, .L202
1199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3158              		.loc 1 1199 7 is_stmt 1 view .LVU1158
 3159 008c 274B     		ldr	r3, .L203+8
 3160 008e 0122     		movs	r2, #1
 3161 0090 C3F88C25 		str	r2, [r3, #1420]
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3162              		.loc 1 1201 7 view .LVU1159
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3163              		.loc 1 1201 21 is_stmt 0 view .LVU1160
 3164 0094 636C     		ldr	r3, [r4, #68]
1201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3165              		.loc 1 1201 9 view .LVU1161
 3166 0096 9342     		cmp	r3, r2
 3167 0098 00D0     		beq	.L195
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3168              		.loc 1 1203 9 is_stmt 1 view .LVU1162
1203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3169              		.loc 1 1203 13 is_stmt 0 view .LVU1163
 3170 009a 7602     		lsls	r6, r6, #9
 3171              	.LVL266:
 3172              	.L195:
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3173              		.loc 1 1207 7 is_stmt 1 view .LVU1164
1207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3174              		.loc 1 1207 28 is_stmt 0 view .LVU1165
 3175 009c 4FF0FF33 		mov	r3, #-1
 3176 00a0 0093     		str	r3, [sp]
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3177              		.loc 1 1208 7 is_stmt 1 view .LVU1166
1208:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3178              		.loc 1 1208 28 is_stmt 0 view .LVU1167
 3179 00a2 CDF80490 		str	r9, [sp, #4]
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3180              		.loc 1 1209 7 is_stmt 1 view .LVU1168
1209:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3181              		.loc 1 1209 28 is_stmt 0 view .LVU1169
 3182 00a6 9023     		movs	r3, #144
 3183 00a8 0293     		str	r3, [sp, #8]
ARM GAS  /tmp/cc3mRTku.s 			page 132


1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3184              		.loc 1 1210 7 is_stmt 1 view .LVU1170
1210:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3185              		.loc 1 1210 28 is_stmt 0 view .LVU1171
 3186 00aa 0223     		movs	r3, #2
 3187 00ac 0393     		str	r3, [sp, #12]
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3188              		.loc 1 1211 7 is_stmt 1 view .LVU1172
1211:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3189              		.loc 1 1211 28 is_stmt 0 view .LVU1173
 3190 00ae 0023     		movs	r3, #0
 3191 00b0 0493     		str	r3, [sp, #16]
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3192              		.loc 1 1212 7 is_stmt 1 view .LVU1174
1212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3193              		.loc 1 1212 28 is_stmt 0 view .LVU1175
 3194 00b2 0123     		movs	r3, #1
 3195 00b4 0593     		str	r3, [sp, #20]
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3196              		.loc 1 1213 7 is_stmt 1 view .LVU1176
1213:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3197              		.loc 1 1213 13 is_stmt 0 view .LVU1177
 3198 00b6 6946     		mov	r1, sp
 3199 00b8 2068     		ldr	r0, [r4]
 3200 00ba FFF7FEFF 		bl	SDIO_ConfigData
 3201              	.LVL267:
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3202              		.loc 1 1216 7 is_stmt 1 view .LVU1178
1216:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3203              		.loc 1 1216 9 is_stmt 0 view .LVU1179
 3204 00be 012F     		cmp	r7, #1
 3205 00c0 22D9     		bls	.L196
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3206              		.loc 1 1218 9 is_stmt 1 view .LVU1180
1218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3207              		.loc 1 1218 22 is_stmt 0 view .LVU1181
 3208 00c2 8223     		movs	r3, #130
 3209 00c4 2363     		str	r3, [r4, #48]
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3210              		.loc 1 1221 9 is_stmt 1 view .LVU1182
1221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3211              		.loc 1 1221 22 is_stmt 0 view .LVU1183
 3212 00c6 3146     		mov	r1, r6
 3213 00c8 2068     		ldr	r0, [r4]
 3214 00ca FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 3215              	.LVL268:
 3216              	.L197:
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3217              		.loc 1 1230 7 is_stmt 1 view .LVU1184
1230:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3218              		.loc 1 1230 9 is_stmt 0 view .LVU1185
 3219 00ce 38B3     		cbz	r0, .L199
1233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3220              		.loc 1 1233 9 is_stmt 1 view .LVU1186
 3221 00d0 2368     		ldr	r3, [r4]
 3222 00d2 174A     		ldr	r2, .L203+12
 3223 00d4 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/cc3mRTku.s 			page 133


1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3224              		.loc 1 1234 9 view .LVU1187
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3225              		.loc 1 1234 12 is_stmt 0 view .LVU1188
 3226 00d6 A36B     		ldr	r3, [r4, #56]
1234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3227              		.loc 1 1234 24 view .LVU1189
 3228 00d8 0343     		orrs	r3, r3, r0
 3229 00da A363     		str	r3, [r4, #56]
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 3230              		.loc 1 1235 9 is_stmt 1 view .LVU1190
1235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 3231              		.loc 1 1235 20 is_stmt 0 view .LVU1191
 3232 00dc 0123     		movs	r3, #1
 3233 00de 84F83430 		strb	r3, [r4, #52]
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 3234              		.loc 1 1236 9 is_stmt 1 view .LVU1192
1236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 3235              		.loc 1 1236 22 is_stmt 0 view .LVU1193
 3236 00e2 0023     		movs	r3, #0
 3237 00e4 2363     		str	r3, [r4, #48]
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3238              		.loc 1 1237 9 is_stmt 1 view .LVU1194
1237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3239              		.loc 1 1237 16 is_stmt 0 view .LVU1195
 3240 00e6 17E0     		b	.L192
 3241              	.LVL269:
 3242              	.L202:
1190:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 3243              		.loc 1 1190 7 is_stmt 1 view .LVU1196
 3244 00e8 2268     		ldr	r2, [r4]
 3245 00ea D36B     		ldr	r3, [r2, #60]
 3246 00ec 23F49573 		bic	r3, r3, #298
 3247 00f0 D363     		str	r3, [r2, #60]
1191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
 3248              		.loc 1 1191 7 view .LVU1197
 3249 00f2 2368     		ldr	r3, [r4]
 3250 00f4 0E4A     		ldr	r2, .L203+12
 3251 00f6 9A63     		str	r2, [r3, #56]
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3252              		.loc 1 1192 7 view .LVU1198
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3253              		.loc 1 1192 10 is_stmt 0 view .LVU1199
 3254 00f8 A36B     		ldr	r3, [r4, #56]
1192:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3255              		.loc 1 1192 22 view .LVU1200
 3256 00fa 43F08043 		orr	r3, r3, #1073741824
 3257 00fe A363     		str	r3, [r4, #56]
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3258              		.loc 1 1193 7 is_stmt 1 view .LVU1201
1193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3259              		.loc 1 1193 18 is_stmt 0 view .LVU1202
 3260 0100 0123     		movs	r3, #1
 3261 0102 84F83430 		strb	r3, [r4, #52]
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3262              		.loc 1 1194 7 is_stmt 1 view .LVU1203
1194:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
ARM GAS  /tmp/cc3mRTku.s 			page 134


 3263              		.loc 1 1194 14 is_stmt 0 view .LVU1204
 3264 0106 07E0     		b	.L192
 3265              	.LVL270:
 3266              	.L196:
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3267              		.loc 1 1225 9 is_stmt 1 view .LVU1205
1225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3268              		.loc 1 1225 22 is_stmt 0 view .LVU1206
 3269 0108 8123     		movs	r3, #129
 3270 010a 2363     		str	r3, [r4, #48]
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3271              		.loc 1 1228 9 is_stmt 1 view .LVU1207
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3272              		.loc 1 1228 22 is_stmt 0 view .LVU1208
 3273 010c 3146     		mov	r1, r6
 3274 010e 2068     		ldr	r0, [r4]
 3275 0110 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 3276              	.LVL271:
1228:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3277              		.loc 1 1228 22 view .LVU1209
 3278 0114 DBE7     		b	.L197
 3279              	.LVL272:
 3280              	.L198:
1245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3281              		.loc 1 1245 12 view .LVU1210
 3282 0116 0225     		movs	r5, #2
 3283              	.LVL273:
 3284              	.L192:
1247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3285              		.loc 1 1247 1 view .LVU1211
 3286 0118 2846     		mov	r0, r5
 3287 011a 07B0     		add	sp, sp, #28
 3288              	.LCFI44:
 3289              		.cfi_remember_state
 3290              		.cfi_def_cfa_offset 28
 3291              		@ sp needed
 3292 011c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3293              	.LVL274:
 3294              	.L199:
 3295              	.LCFI45:
 3296              		.cfi_restore_state
1240:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3297              		.loc 1 1240 14 view .LVU1212
 3298 0120 4546     		mov	r5, r8
 3299 0122 F9E7     		b	.L192
 3300              	.L204:
 3301              		.align	2
 3302              	.L203:
 3303 0124 00000000 		.word	SD_DMAReceiveCplt
 3304 0128 00000000 		.word	SD_DMAError
 3305 012c 00003042 		.word	1110441984
 3306 0130 FF054000 		.word	4195839
 3307              		.cfi_endproc
 3308              	.LFE74:
 3310              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3311              		.align	1
 3312              		.global	HAL_SD_WriteBlocks_DMA
ARM GAS  /tmp/cc3mRTku.s 			page 135


 3313              		.syntax unified
 3314              		.thumb
 3315              		.thumb_func
 3317              	HAL_SD_WriteBlocks_DMA:
 3318              	.LVL275:
 3319              	.LFB75:
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3320              		.loc 1 1263 1 is_stmt 1 view -0
 3321              		.cfi_startproc
 3322              		@ args = 0, pretend = 0, frame = 24
 3323              		@ frame_needed = 0, uses_anonymous_args = 0
1263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3324              		.loc 1 1263 1 is_stmt 0 view .LVU1214
 3325 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3326              	.LCFI46:
 3327              		.cfi_def_cfa_offset 20
 3328              		.cfi_offset 4, -20
 3329              		.cfi_offset 5, -16
 3330              		.cfi_offset 6, -12
 3331              		.cfi_offset 7, -8
 3332              		.cfi_offset 14, -4
 3333 0002 87B0     		sub	sp, sp, #28
 3334              	.LCFI47:
 3335              		.cfi_def_cfa_offset 48
 3336 0004 0446     		mov	r4, r0
1264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 3337              		.loc 1 1264 3 is_stmt 1 view .LVU1215
1265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3338              		.loc 1 1265 3 view .LVU1216
1266:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3339              		.loc 1 1266 3 view .LVU1217
 3340              	.LVL276:
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3341              		.loc 1 1268 3 view .LVU1218
1268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3342              		.loc 1 1268 5 is_stmt 0 view .LVU1219
 3343 0006 0029     		cmp	r1, #0
 3344 0008 38D0     		beq	.L216
 3345 000a 1E46     		mov	r6, r3
 3346 000c 0F46     		mov	r7, r1
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3347              		.loc 1 1274 3 is_stmt 1 view .LVU1220
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3348              		.loc 1 1274 9 is_stmt 0 view .LVU1221
 3349 000e 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 3350 0012 EDB2     		uxtb	r5, r5
1274:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3351              		.loc 1 1274 5 view .LVU1222
 3352 0014 012D     		cmp	r5, #1
 3353 0016 7FD1     		bne	.L214
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3354              		.loc 1 1276 5 is_stmt 1 view .LVU1223
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3355              		.loc 1 1276 20 is_stmt 0 view .LVU1224
 3356 0018 0023     		movs	r3, #0
 3357              	.LVL277:
1276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 136


 3358              		.loc 1 1276 20 view .LVU1225
 3359 001a 8363     		str	r3, [r0, #56]
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3360              		.loc 1 1278 5 is_stmt 1 view .LVU1226
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3361              		.loc 1 1278 13 is_stmt 0 view .LVU1227
 3362 001c 9319     		adds	r3, r2, r6
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3363              		.loc 1 1278 45 view .LVU1228
 3364 001e C16D     		ldr	r1, [r0, #92]
 3365              	.LVL278:
1278:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3366              		.loc 1 1278 7 view .LVU1229
 3367 0020 8B42     		cmp	r3, r1
 3368 0022 31D8     		bhi	.L217
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3369              		.loc 1 1284 5 is_stmt 1 view .LVU1230
1284:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3370              		.loc 1 1284 16 is_stmt 0 view .LVU1231
 3371 0024 0323     		movs	r3, #3
 3372 0026 80F83430 		strb	r3, [r0, #52]
1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3373              		.loc 1 1287 5 is_stmt 1 view .LVU1232
1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3374              		.loc 1 1287 8 is_stmt 0 view .LVU1233
 3375 002a 0368     		ldr	r3, [r0]
1287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3376              		.loc 1 1287 26 view .LVU1234
 3377 002c 0021     		movs	r1, #0
 3378 002e D962     		str	r1, [r3, #44]
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3379              		.loc 1 1290 5 is_stmt 1 view .LVU1235
 3380 0030 0068     		ldr	r0, [r0]
 3381              	.LVL279:
1290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3382              		.loc 1 1290 5 is_stmt 0 view .LVU1236
 3383 0032 C36B     		ldr	r3, [r0, #60]
 3384 0034 43F01A03 		orr	r3, r3, #26
 3385 0038 C363     		str	r3, [r0, #60]
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3386              		.loc 1 1293 5 is_stmt 1 view .LVU1237
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3387              		.loc 1 1293 8 is_stmt 0 view .LVU1238
 3388 003a E36B     		ldr	r3, [r4, #60]
1293:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3389              		.loc 1 1293 35 view .LVU1239
 3390 003c 3848     		ldr	r0, .L218
 3391 003e 9862     		str	r0, [r3, #40]
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3392              		.loc 1 1296 5 is_stmt 1 view .LVU1240
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3393              		.loc 1 1296 8 is_stmt 0 view .LVU1241
 3394 0040 E36B     		ldr	r3, [r4, #60]
1296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3395              		.loc 1 1296 36 view .LVU1242
 3396 0042 3848     		ldr	r0, .L218+4
 3397 0044 1863     		str	r0, [r3, #48]
ARM GAS  /tmp/cc3mRTku.s 			page 137


1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3398              		.loc 1 1299 5 is_stmt 1 view .LVU1243
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3399              		.loc 1 1299 8 is_stmt 0 view .LVU1244
 3400 0046 E36B     		ldr	r3, [r4, #60]
1299:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3401              		.loc 1 1299 36 view .LVU1245
 3402 0048 5963     		str	r1, [r3, #52]
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3403              		.loc 1 1301 5 is_stmt 1 view .LVU1246
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3404              		.loc 1 1301 19 is_stmt 0 view .LVU1247
 3405 004a 636C     		ldr	r3, [r4, #68]
1301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3406              		.loc 1 1301 7 view .LVU1248
 3407 004c 012B     		cmp	r3, #1
 3408 004e 00D0     		beq	.L209
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3409              		.loc 1 1303 7 is_stmt 1 view .LVU1249
1303:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3410              		.loc 1 1303 11 is_stmt 0 view .LVU1250
 3411 0050 5202     		lsls	r2, r2, #9
 3412              	.LVL280:
 3413              	.L209:
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3414              		.loc 1 1307 5 is_stmt 1 view .LVU1251
1307:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3415              		.loc 1 1307 7 is_stmt 0 view .LVU1252
 3416 0052 012E     		cmp	r6, #1
 3417 0054 1DD9     		bls	.L210
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3418              		.loc 1 1309 7 is_stmt 1 view .LVU1253
1309:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3419              		.loc 1 1309 20 is_stmt 0 view .LVU1254
 3420 0056 A023     		movs	r3, #160
 3421 0058 2363     		str	r3, [r4, #48]
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3422              		.loc 1 1312 7 is_stmt 1 view .LVU1255
1312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3423              		.loc 1 1312 20 is_stmt 0 view .LVU1256
 3424 005a 1146     		mov	r1, r2
 3425 005c 2068     		ldr	r0, [r4]
 3426 005e FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3427              	.LVL281:
 3428              	.L211:
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3429              		.loc 1 1321 5 is_stmt 1 view .LVU1257
1321:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3430              		.loc 1 1321 7 is_stmt 0 view .LVU1258
 3431 0062 E8B1     		cbz	r0, .L212
1324:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3432              		.loc 1 1324 7 is_stmt 1 view .LVU1259
 3433 0064 2368     		ldr	r3, [r4]
 3434 0066 304A     		ldr	r2, .L218+8
 3435 0068 9A63     		str	r2, [r3, #56]
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3436              		.loc 1 1325 7 view .LVU1260
ARM GAS  /tmp/cc3mRTku.s 			page 138


1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3437              		.loc 1 1325 10 is_stmt 0 view .LVU1261
 3438 006a A36B     		ldr	r3, [r4, #56]
1325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3439              		.loc 1 1325 22 view .LVU1262
 3440 006c 0343     		orrs	r3, r3, r0
 3441 006e A363     		str	r3, [r4, #56]
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3442              		.loc 1 1326 7 is_stmt 1 view .LVU1263
1326:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3443              		.loc 1 1326 18 is_stmt 0 view .LVU1264
 3444 0070 0123     		movs	r3, #1
 3445 0072 84F83430 		strb	r3, [r4, #52]
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3446              		.loc 1 1327 7 is_stmt 1 view .LVU1265
1327:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3447              		.loc 1 1327 20 is_stmt 0 view .LVU1266
 3448 0076 0023     		movs	r3, #0
 3449 0078 2363     		str	r3, [r4, #48]
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3450              		.loc 1 1328 7 is_stmt 1 view .LVU1267
1328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3451              		.loc 1 1328 14 is_stmt 0 view .LVU1268
 3452 007a 4EE0     		b	.L207
 3453              	.LVL282:
 3454              	.L216:
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 3455              		.loc 1 1270 5 is_stmt 1 view .LVU1269
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 3456              		.loc 1 1270 8 is_stmt 0 view .LVU1270
 3457 007c 836B     		ldr	r3, [r0, #56]
 3458              	.LVL283:
1270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 3459              		.loc 1 1270 20 view .LVU1271
 3460 007e 43F00063 		orr	r3, r3, #134217728
 3461 0082 8363     		str	r3, [r0, #56]
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3462              		.loc 1 1271 5 is_stmt 1 view .LVU1272
1271:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3463              		.loc 1 1271 12 is_stmt 0 view .LVU1273
 3464 0084 0125     		movs	r5, #1
 3465 0086 48E0     		b	.L207
 3466              	.LVL284:
 3467              	.L217:
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3468              		.loc 1 1280 7 is_stmt 1 view .LVU1274
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3469              		.loc 1 1280 10 is_stmt 0 view .LVU1275
 3470 0088 836B     		ldr	r3, [r0, #56]
1280:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3471              		.loc 1 1280 22 view .LVU1276
 3472 008a 43F00073 		orr	r3, r3, #33554432
 3473 008e 8363     		str	r3, [r0, #56]
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3474              		.loc 1 1281 7 is_stmt 1 view .LVU1277
1281:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3475              		.loc 1 1281 14 is_stmt 0 view .LVU1278
ARM GAS  /tmp/cc3mRTku.s 			page 139


 3476 0090 43E0     		b	.L207
 3477              	.LVL285:
 3478              	.L210:
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3479              		.loc 1 1316 7 is_stmt 1 view .LVU1279
1316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3480              		.loc 1 1316 20 is_stmt 0 view .LVU1280
 3481 0092 9023     		movs	r3, #144
 3482 0094 2363     		str	r3, [r4, #48]
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3483              		.loc 1 1319 7 is_stmt 1 view .LVU1281
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3484              		.loc 1 1319 20 is_stmt 0 view .LVU1282
 3485 0096 1146     		mov	r1, r2
 3486 0098 2068     		ldr	r0, [r4]
 3487 009a FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3488              	.LVL286:
1319:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3489              		.loc 1 1319 20 view .LVU1283
 3490 009e E0E7     		b	.L211
 3491              	.L212:
1332:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3492              		.loc 1 1332 5 is_stmt 1 view .LVU1284
 3493 00a0 224B     		ldr	r3, .L218+12
 3494 00a2 0122     		movs	r2, #1
 3495 00a4 C3F88C25 		str	r2, [r3, #1420]
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmatx->Instance->CCR, DMA_CCR_DIR, hsd->hdmatx->Init.Direction);
 3496              		.loc 1 1335 5 view .LVU1285
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmatx->Instance->CCR, DMA_CCR_DIR, hsd->hdmatx->Init.Direction);
 3497              		.loc 1 1335 8 is_stmt 0 view .LVU1286
 3498 00a8 E36B     		ldr	r3, [r4, #60]
1335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     MODIFY_REG(hsd->hdmatx->Instance->CCR, DMA_CCR_DIR, hsd->hdmatx->Init.Direction);
 3499              		.loc 1 1335 33 view .LVU1287
 3500 00aa 1022     		movs	r2, #16
 3501 00ac 5A60     		str	r2, [r3, #4]
1336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3502              		.loc 1 1336 5 is_stmt 1 view .LVU1288
 3503 00ae E16B     		ldr	r1, [r4, #60]
 3504 00b0 0A68     		ldr	r2, [r1]
 3505 00b2 1368     		ldr	r3, [r2]
 3506 00b4 23F01003 		bic	r3, r3, #16
 3507 00b8 4968     		ldr	r1, [r1, #4]
 3508 00ba 0B43     		orrs	r3, r3, r1
 3509 00bc 1360     		str	r3, [r2]
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3510              		.loc 1 1339 5 view .LVU1289
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3511              		.loc 1 1339 69 is_stmt 0 view .LVU1290
 3512 00be 2268     		ldr	r2, [r4]
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3513              		.loc 1 1339 87 view .LVU1291
 3514 00c0 7602     		lsls	r6, r6, #9
 3515              	.LVL287:
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3516              		.loc 1 1339 8 view .LVU1292
 3517 00c2 B308     		lsrs	r3, r6, #2
 3518 00c4 8032     		adds	r2, r2, #128
ARM GAS  /tmp/cc3mRTku.s 			page 140


 3519 00c6 3946     		mov	r1, r7
 3520 00c8 E06B     		ldr	r0, [r4, #60]
 3521              	.LVL288:
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3522              		.loc 1 1339 8 view .LVU1293
 3523 00ca FFF7FEFF 		bl	HAL_DMA_Start_IT
 3524              	.LVL289:
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3525              		.loc 1 1339 7 discriminator 1 view .LVU1294
 3526 00ce 0746     		mov	r7, r0
 3527              	.LVL290:
1339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3528              		.loc 1 1339 7 discriminator 1 view .LVU1295
 3529 00d0 88B1     		cbz	r0, .L213
1341:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 3530              		.loc 1 1341 7 is_stmt 1 view .LVU1296
 3531 00d2 2268     		ldr	r2, [r4]
 3532 00d4 D36B     		ldr	r3, [r2, #60]
 3533 00d6 23F01A03 		bic	r3, r3, #26
 3534 00da D363     		str	r3, [r2, #60]
1342:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
 3535              		.loc 1 1342 7 view .LVU1297
 3536 00dc 2368     		ldr	r3, [r4]
 3537 00de 124A     		ldr	r2, .L218+8
 3538 00e0 9A63     		str	r2, [r3, #56]
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3539              		.loc 1 1343 7 view .LVU1298
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3540              		.loc 1 1343 10 is_stmt 0 view .LVU1299
 3541 00e2 A36B     		ldr	r3, [r4, #56]
1343:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3542              		.loc 1 1343 22 view .LVU1300
 3543 00e4 43F08043 		orr	r3, r3, #1073741824
 3544 00e8 A363     		str	r3, [r4, #56]
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3545              		.loc 1 1344 7 is_stmt 1 view .LVU1301
1344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3546              		.loc 1 1344 18 is_stmt 0 view .LVU1302
 3547 00ea 0123     		movs	r3, #1
 3548 00ec 84F83430 		strb	r3, [r4, #52]
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3549              		.loc 1 1345 7 is_stmt 1 view .LVU1303
1345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3550              		.loc 1 1345 20 is_stmt 0 view .LVU1304
 3551 00f0 0023     		movs	r3, #0
 3552 00f2 2363     		str	r3, [r4, #48]
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3553              		.loc 1 1346 7 is_stmt 1 view .LVU1305
1346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3554              		.loc 1 1346 14 is_stmt 0 view .LVU1306
 3555 00f4 11E0     		b	.L207
 3556              	.L213:
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3557              		.loc 1 1351 7 is_stmt 1 view .LVU1307
1351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3558              		.loc 1 1351 28 is_stmt 0 view .LVU1308
 3559 00f6 4FF0FF33 		mov	r3, #-1
ARM GAS  /tmp/cc3mRTku.s 			page 141


 3560 00fa 0093     		str	r3, [sp]
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3561              		.loc 1 1352 7 is_stmt 1 view .LVU1309
1352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3562              		.loc 1 1352 28 is_stmt 0 view .LVU1310
 3563 00fc 0196     		str	r6, [sp, #4]
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3564              		.loc 1 1353 7 is_stmt 1 view .LVU1311
1353:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3565              		.loc 1 1353 28 is_stmt 0 view .LVU1312
 3566 00fe 9023     		movs	r3, #144
 3567 0100 0293     		str	r3, [sp, #8]
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3568              		.loc 1 1354 7 is_stmt 1 view .LVU1313
1354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3569              		.loc 1 1354 28 is_stmt 0 view .LVU1314
 3570 0102 0023     		movs	r3, #0
 3571 0104 0393     		str	r3, [sp, #12]
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3572              		.loc 1 1355 7 is_stmt 1 view .LVU1315
1355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3573              		.loc 1 1355 28 is_stmt 0 view .LVU1316
 3574 0106 0493     		str	r3, [sp, #16]
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3575              		.loc 1 1356 7 is_stmt 1 view .LVU1317
1356:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3576              		.loc 1 1356 28 is_stmt 0 view .LVU1318
 3577 0108 0123     		movs	r3, #1
 3578 010a 0593     		str	r3, [sp, #20]
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3579              		.loc 1 1357 7 is_stmt 1 view .LVU1319
1357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3580              		.loc 1 1357 13 is_stmt 0 view .LVU1320
 3581 010c 6946     		mov	r1, sp
 3582 010e 2068     		ldr	r0, [r4]
 3583 0110 FFF7FEFF 		bl	SDIO_ConfigData
 3584              	.LVL291:
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3585              		.loc 1 1359 7 is_stmt 1 view .LVU1321
1359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3586              		.loc 1 1359 14 is_stmt 0 view .LVU1322
 3587 0114 3D46     		mov	r5, r7
 3588 0116 00E0     		b	.L207
 3589              	.LVL292:
 3590              	.L214:
1364:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3591              		.loc 1 1364 12 view .LVU1323
 3592 0118 0225     		movs	r5, #2
 3593              	.LVL293:
 3594              	.L207:
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3595              		.loc 1 1366 1 view .LVU1324
 3596 011a 2846     		mov	r0, r5
 3597 011c 07B0     		add	sp, sp, #28
 3598              	.LCFI48:
 3599              		.cfi_def_cfa_offset 20
 3600              		@ sp needed
ARM GAS  /tmp/cc3mRTku.s 			page 142


 3601 011e F0BD     		pop	{r4, r5, r6, r7, pc}
 3602              	.LVL294:
 3603              	.L219:
1366:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3604              		.loc 1 1366 1 view .LVU1325
 3605              		.align	2
 3606              	.L218:
 3607 0120 00000000 		.word	SD_DMATransmitCplt
 3608 0124 00000000 		.word	SD_DMAError
 3609 0128 FF054000 		.word	4195839
 3610 012c 00003042 		.word	1110441984
 3611              		.cfi_endproc
 3612              	.LFE75:
 3614              		.section	.text.HAL_SD_Erase,"ax",%progbits
 3615              		.align	1
 3616              		.global	HAL_SD_Erase
 3617              		.syntax unified
 3618              		.thumb
 3619              		.thumb_func
 3621              	HAL_SD_Erase:
 3622              	.LVL295:
 3623              	.LFB76:
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 3624              		.loc 1 1378 1 is_stmt 1 view -0
 3625              		.cfi_startproc
 3626              		@ args = 0, pretend = 0, frame = 0
 3627              		@ frame_needed = 0, uses_anonymous_args = 0
1378:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 3628              		.loc 1 1378 1 is_stmt 0 view .LVU1327
 3629 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3630              	.LCFI49:
 3631              		.cfi_def_cfa_offset 24
 3632              		.cfi_offset 3, -24
 3633              		.cfi_offset 4, -20
 3634              		.cfi_offset 5, -16
 3635              		.cfi_offset 6, -12
 3636              		.cfi_offset 7, -8
 3637              		.cfi_offset 14, -4
1379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 3638              		.loc 1 1379 3 is_stmt 1 view .LVU1328
1380:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 3639              		.loc 1 1380 3 view .LVU1329
 3640              	.LVL296:
1381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3641              		.loc 1 1381 3 view .LVU1330
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3642              		.loc 1 1383 3 view .LVU1331
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3643              		.loc 1 1383 9 is_stmt 0 view .LVU1332
 3644 0002 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 3645 0006 EDB2     		uxtb	r5, r5
1383:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 3646              		.loc 1 1383 5 view .LVU1333
 3647 0008 012D     		cmp	r5, #1
 3648 000a 6FD1     		bne	.L230
 3649 000c 0446     		mov	r4, r0
 3650 000e 0F46     		mov	r7, r1
ARM GAS  /tmp/cc3mRTku.s 			page 143


 3651 0010 1646     		mov	r6, r2
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3652              		.loc 1 1385 5 is_stmt 1 view .LVU1334
1385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3653              		.loc 1 1385 20 is_stmt 0 view .LVU1335
 3654 0012 0023     		movs	r3, #0
 3655 0014 8363     		str	r3, [r0, #56]
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3656              		.loc 1 1387 5 is_stmt 1 view .LVU1336
1387:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3657              		.loc 1 1387 7 is_stmt 0 view .LVU1337
 3658 0016 9142     		cmp	r1, r2
 3659 0018 14D8     		bhi	.L232
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3660              		.loc 1 1393 5 is_stmt 1 view .LVU1338
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3661              		.loc 1 1393 30 is_stmt 0 view .LVU1339
 3662 001a C36D     		ldr	r3, [r0, #92]
1393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3663              		.loc 1 1393 7 view .LVU1340
 3664 001c 9342     		cmp	r3, r2
 3665 001e 16D3     		bcc	.L233
1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3666              		.loc 1 1399 5 is_stmt 1 view .LVU1341
1399:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3667              		.loc 1 1399 16 is_stmt 0 view .LVU1342
 3668 0020 0323     		movs	r3, #3
 3669 0022 80F83430 		strb	r3, [r0, #52]
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3670              		.loc 1 1402 5 is_stmt 1 view .LVU1343
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3671              		.loc 1 1402 21 is_stmt 0 view .LVU1344
 3672 0026 C36C     		ldr	r3, [r0, #76]
1402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3673              		.loc 1 1402 7 view .LVU1345
 3674 0028 13F0200F 		tst	r3, #32
 3675 002c 14D1     		bne	.L224
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3676              		.loc 1 1405 7 is_stmt 1 view .LVU1346
 3677 002e 0368     		ldr	r3, [r0]
 3678 0030 304A     		ldr	r2, .L236
 3679              	.LVL297:
1405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3680              		.loc 1 1405 7 is_stmt 0 view .LVU1347
 3681 0032 9A63     		str	r2, [r3, #56]
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3682              		.loc 1 1406 7 is_stmt 1 view .LVU1348
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3683              		.loc 1 1406 10 is_stmt 0 view .LVU1349
 3684 0034 836B     		ldr	r3, [r0, #56]
1406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3685              		.loc 1 1406 22 view .LVU1350
 3686 0036 43F08063 		orr	r3, r3, #67108864
 3687 003a 8363     		str	r3, [r0, #56]
1407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3688              		.loc 1 1407 7 is_stmt 1 view .LVU1351
1407:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  /tmp/cc3mRTku.s 			page 144


 3689              		.loc 1 1407 18 is_stmt 0 view .LVU1352
 3690 003c 0123     		movs	r3, #1
 3691 003e 80F83430 		strb	r3, [r0, #52]
1408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3692              		.loc 1 1408 7 is_stmt 1 view .LVU1353
1408:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3693              		.loc 1 1408 14 is_stmt 0 view .LVU1354
 3694 0042 54E0     		b	.L221
 3695              	.LVL298:
 3696              	.L232:
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3697              		.loc 1 1389 7 is_stmt 1 view .LVU1355
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3698              		.loc 1 1389 10 is_stmt 0 view .LVU1356
 3699 0044 836B     		ldr	r3, [r0, #56]
1389:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3700              		.loc 1 1389 22 view .LVU1357
 3701 0046 43F00063 		orr	r3, r3, #134217728
 3702 004a 8363     		str	r3, [r0, #56]
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3703              		.loc 1 1390 7 is_stmt 1 view .LVU1358
1390:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3704              		.loc 1 1390 14 is_stmt 0 view .LVU1359
 3705 004c 4FE0     		b	.L221
 3706              	.L233:
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3707              		.loc 1 1395 7 is_stmt 1 view .LVU1360
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3708              		.loc 1 1395 10 is_stmt 0 view .LVU1361
 3709 004e 836B     		ldr	r3, [r0, #56]
1395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3710              		.loc 1 1395 22 view .LVU1362
 3711 0050 43F00073 		orr	r3, r3, #33554432
 3712 0054 8363     		str	r3, [r0, #56]
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3713              		.loc 1 1396 7 is_stmt 1 view .LVU1363
1396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3714              		.loc 1 1396 14 is_stmt 0 view .LVU1364
 3715 0056 4AE0     		b	.L221
 3716              	.L224:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3717              		.loc 1 1411 5 is_stmt 1 view .LVU1365
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3718              		.loc 1 1411 9 is_stmt 0 view .LVU1366
 3719 0058 0021     		movs	r1, #0
 3720              	.LVL299:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3721              		.loc 1 1411 9 view .LVU1367
 3722 005a 0068     		ldr	r0, [r0]
 3723              	.LVL300:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3724              		.loc 1 1411 9 view .LVU1368
 3725 005c FFF7FEFF 		bl	SDIO_GetResponse
 3726              	.LVL301:
1411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3727              		.loc 1 1411 7 discriminator 1 view .LVU1369
 3728 0060 10F0007F 		tst	r0, #33554432
ARM GAS  /tmp/cc3mRTku.s 			page 145


 3729 0064 15D1     		bne	.L234
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3730              		.loc 1 1421 5 is_stmt 1 view .LVU1370
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3731              		.loc 1 1421 19 is_stmt 0 view .LVU1371
 3732 0066 636C     		ldr	r3, [r4, #68]
1421:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3733              		.loc 1 1421 7 view .LVU1372
 3734 0068 012B     		cmp	r3, #1
 3735 006a 01D0     		beq	.L226
1423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       end_add   *= 512U;
 3736              		.loc 1 1423 7 is_stmt 1 view .LVU1373
1423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       end_add   *= 512U;
 3737              		.loc 1 1423 17 is_stmt 0 view .LVU1374
 3738 006c 7F02     		lsls	r7, r7, #9
 3739              	.LVL302:
1424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3740              		.loc 1 1424 7 is_stmt 1 view .LVU1375
1424:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3741              		.loc 1 1424 17 is_stmt 0 view .LVU1376
 3742 006e 7602     		lsls	r6, r6, #9
 3743              	.LVL303:
 3744              	.L226:
1428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3745              		.loc 1 1428 5 is_stmt 1 view .LVU1377
1428:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3746              		.loc 1 1428 7 is_stmt 0 view .LVU1378
 3747 0070 032B     		cmp	r3, #3
 3748 0072 1ED0     		beq	.L227
1431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3749              		.loc 1 1431 7 is_stmt 1 view .LVU1379
1431:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3750              		.loc 1 1431 20 is_stmt 0 view .LVU1380
 3751 0074 3946     		mov	r1, r7
 3752 0076 2068     		ldr	r0, [r4]
 3753 0078 FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 3754              	.LVL304:
1432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3755              		.loc 1 1432 7 is_stmt 1 view .LVU1381
1432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3756              		.loc 1 1432 9 is_stmt 0 view .LVU1382
 3757 007c A0B1     		cbz	r0, .L228
1435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3758              		.loc 1 1435 9 is_stmt 1 view .LVU1383
 3759 007e 2368     		ldr	r3, [r4]
 3760 0080 1C49     		ldr	r1, .L236
 3761 0082 9963     		str	r1, [r3, #56]
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3762              		.loc 1 1436 9 view .LVU1384
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3763              		.loc 1 1436 12 is_stmt 0 view .LVU1385
 3764 0084 A36B     		ldr	r3, [r4, #56]
1436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3765              		.loc 1 1436 24 view .LVU1386
 3766 0086 0343     		orrs	r3, r3, r0
 3767 0088 A363     		str	r3, [r4, #56]
1437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
ARM GAS  /tmp/cc3mRTku.s 			page 146


 3768              		.loc 1 1437 9 is_stmt 1 view .LVU1387
1437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 3769              		.loc 1 1437 20 is_stmt 0 view .LVU1388
 3770 008a 0123     		movs	r3, #1
 3771 008c 84F83430 		strb	r3, [r4, #52]
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3772              		.loc 1 1438 9 is_stmt 1 view .LVU1389
1438:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3773              		.loc 1 1438 16 is_stmt 0 view .LVU1390
 3774 0090 2DE0     		b	.L221
 3775              	.LVL305:
 3776              	.L234:
1414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 3777              		.loc 1 1414 7 is_stmt 1 view .LVU1391
 3778 0092 2368     		ldr	r3, [r4]
 3779 0094 174A     		ldr	r2, .L236
 3780 0096 9A63     		str	r2, [r3, #56]
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3781              		.loc 1 1415 7 view .LVU1392
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3782              		.loc 1 1415 10 is_stmt 0 view .LVU1393
 3783 0098 A36B     		ldr	r3, [r4, #56]
1415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3784              		.loc 1 1415 22 view .LVU1394
 3785 009a 43F40063 		orr	r3, r3, #2048
 3786 009e A363     		str	r3, [r4, #56]
1416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3787              		.loc 1 1416 7 is_stmt 1 view .LVU1395
1416:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3788              		.loc 1 1416 18 is_stmt 0 view .LVU1396
 3789 00a0 0123     		movs	r3, #1
 3790 00a2 84F83430 		strb	r3, [r4, #52]
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3791              		.loc 1 1417 7 is_stmt 1 view .LVU1397
1417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3792              		.loc 1 1417 14 is_stmt 0 view .LVU1398
 3793 00a6 22E0     		b	.L221
 3794              	.LVL306:
 3795              	.L228:
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3796              		.loc 1 1442 7 is_stmt 1 view .LVU1399
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3797              		.loc 1 1442 20 is_stmt 0 view .LVU1400
 3798 00a8 3146     		mov	r1, r6
 3799 00aa 2068     		ldr	r0, [r4]
 3800              	.LVL307:
1442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3801              		.loc 1 1442 20 view .LVU1401
 3802 00ac FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 3803              	.LVL308:
1443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3804              		.loc 1 1443 7 is_stmt 1 view .LVU1402
1443:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 3805              		.loc 1 1443 9 is_stmt 0 view .LVU1403
 3806 00b0 68B9     		cbnz	r0, .L235
 3807              	.LVL309:
 3808              	.L227:
ARM GAS  /tmp/cc3mRTku.s 			page 147


1454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3809              		.loc 1 1454 5 is_stmt 1 view .LVU1404
1454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3810              		.loc 1 1454 18 is_stmt 0 view .LVU1405
 3811 00b2 2068     		ldr	r0, [r4]
 3812 00b4 FFF7FEFF 		bl	SDMMC_CmdErase
 3813              	.LVL310:
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3814              		.loc 1 1455 5 is_stmt 1 view .LVU1406
1455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 3815              		.loc 1 1455 7 is_stmt 0 view .LVU1407
 3816 00b8 98B1     		cbz	r0, .L229
1458:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3817              		.loc 1 1458 7 is_stmt 1 view .LVU1408
 3818 00ba 2368     		ldr	r3, [r4]
 3819 00bc 0D49     		ldr	r1, .L236
 3820 00be 9963     		str	r1, [r3, #56]
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3821              		.loc 1 1459 7 view .LVU1409
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3822              		.loc 1 1459 10 is_stmt 0 view .LVU1410
 3823 00c0 A36B     		ldr	r3, [r4, #56]
1459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3824              		.loc 1 1459 22 view .LVU1411
 3825 00c2 0343     		orrs	r3, r3, r0
 3826 00c4 A363     		str	r3, [r4, #56]
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3827              		.loc 1 1460 7 is_stmt 1 view .LVU1412
1460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       return HAL_ERROR;
 3828              		.loc 1 1460 18 is_stmt 0 view .LVU1413
 3829 00c6 0123     		movs	r3, #1
 3830 00c8 84F83430 		strb	r3, [r4, #52]
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3831              		.loc 1 1461 7 is_stmt 1 view .LVU1414
1461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 3832              		.loc 1 1461 14 is_stmt 0 view .LVU1415
 3833 00cc 0FE0     		b	.L221
 3834              	.L235:
1446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3835              		.loc 1 1446 9 is_stmt 1 view .LVU1416
 3836 00ce 2368     		ldr	r3, [r4]
 3837 00d0 0849     		ldr	r1, .L236
 3838 00d2 9963     		str	r1, [r3, #56]
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3839              		.loc 1 1447 9 view .LVU1417
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3840              		.loc 1 1447 12 is_stmt 0 view .LVU1418
 3841 00d4 A36B     		ldr	r3, [r4, #56]
1447:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3842              		.loc 1 1447 24 view .LVU1419
 3843 00d6 0343     		orrs	r3, r3, r0
 3844 00d8 A363     		str	r3, [r4, #56]
1448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 3845              		.loc 1 1448 9 is_stmt 1 view .LVU1420
1448:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         return HAL_ERROR;
 3846              		.loc 1 1448 20 is_stmt 0 view .LVU1421
 3847 00da 0123     		movs	r3, #1
ARM GAS  /tmp/cc3mRTku.s 			page 148


 3848 00dc 84F83430 		strb	r3, [r4, #52]
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3849              		.loc 1 1449 9 is_stmt 1 view .LVU1422
1449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 3850              		.loc 1 1449 16 is_stmt 0 view .LVU1423
 3851 00e0 05E0     		b	.L221
 3852              	.L229:
1464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3853              		.loc 1 1464 5 is_stmt 1 view .LVU1424
1464:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3854              		.loc 1 1464 16 is_stmt 0 view .LVU1425
 3855 00e2 0123     		movs	r3, #1
 3856 00e4 84F83430 		strb	r3, [r4, #52]
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3857              		.loc 1 1466 5 is_stmt 1 view .LVU1426
1466:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3858              		.loc 1 1466 12 is_stmt 0 view .LVU1427
 3859 00e8 0025     		movs	r5, #0
 3860 00ea 00E0     		b	.L221
 3861              	.LVL311:
 3862              	.L230:
1470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 3863              		.loc 1 1470 12 view .LVU1428
 3864 00ec 0225     		movs	r5, #2
 3865              	.LVL312:
 3866              	.L221:
1472:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3867              		.loc 1 1472 1 view .LVU1429
 3868 00ee 2846     		mov	r0, r5
 3869 00f0 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3870              	.L237:
 3871 00f2 00BF     		.align	2
 3872              	.L236:
 3873 00f4 FF054000 		.word	4195839
 3874              		.cfi_endproc
 3875              	.LFE76:
 3877              		.section	.text.HAL_SD_GetState,"ax",%progbits
 3878              		.align	1
 3879              		.global	HAL_SD_GetState
 3880              		.syntax unified
 3881              		.thumb
 3882              		.thumb_func
 3884              	HAL_SD_GetState:
 3885              	.LVL313:
 3886              	.LFB78:
1671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return hsd->State;
 3887              		.loc 1 1671 1 is_stmt 1 view -0
 3888              		.cfi_startproc
 3889              		@ args = 0, pretend = 0, frame = 0
 3890              		@ frame_needed = 0, uses_anonymous_args = 0
 3891              		@ link register save eliminated.
1672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 3892              		.loc 1 1672 3 view .LVU1431
1672:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 3893              		.loc 1 1672 13 is_stmt 0 view .LVU1432
 3894 0000 90F83400 		ldrb	r0, [r0, #52]	@ zero_extendqisi2
 3895              	.LVL314:
ARM GAS  /tmp/cc3mRTku.s 			page 149


1673:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3896              		.loc 1 1673 1 view .LVU1433
 3897 0004 7047     		bx	lr
 3898              		.cfi_endproc
 3899              	.LFE78:
 3901              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3902              		.align	1
 3903              		.global	HAL_SD_GetError
 3904              		.syntax unified
 3905              		.thumb
 3906              		.thumb_func
 3908              	HAL_SD_GetError:
 3909              	.LVL315:
 3910              	.LFB79:
1682:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   return hsd->ErrorCode;
 3911              		.loc 1 1682 1 is_stmt 1 view -0
 3912              		.cfi_startproc
 3913              		@ args = 0, pretend = 0, frame = 0
 3914              		@ frame_needed = 0, uses_anonymous_args = 0
 3915              		@ link register save eliminated.
1683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 3916              		.loc 1 1683 3 view .LVU1435
1683:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 3917              		.loc 1 1683 13 is_stmt 0 view .LVU1436
 3918 0000 806B     		ldr	r0, [r0, #56]
 3919              	.LVL316:
1684:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3920              		.loc 1 1684 1 view .LVU1437
 3921 0002 7047     		bx	lr
 3922              		.cfi_endproc
 3923              	.LFE79:
 3925              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3926              		.align	1
 3927              		.weak	HAL_SD_TxCpltCallback
 3928              		.syntax unified
 3929              		.thumb
 3930              		.thumb_func
 3932              	HAL_SD_TxCpltCallback:
 3933              	.LVL317:
 3934              	.LFB80:
1692:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3935              		.loc 1 1692 1 is_stmt 1 view -0
 3936              		.cfi_startproc
 3937              		@ args = 0, pretend = 0, frame = 0
 3938              		@ frame_needed = 0, uses_anonymous_args = 0
 3939              		@ link register save eliminated.
1694:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3940              		.loc 1 1694 3 view .LVU1439
1699:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3941              		.loc 1 1699 1 is_stmt 0 view .LVU1440
 3942 0000 7047     		bx	lr
 3943              		.cfi_endproc
 3944              	.LFE80:
 3946              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 3947              		.align	1
 3948              		.weak	HAL_SD_RxCpltCallback
 3949              		.syntax unified
ARM GAS  /tmp/cc3mRTku.s 			page 150


 3950              		.thumb
 3951              		.thumb_func
 3953              	HAL_SD_RxCpltCallback:
 3954              	.LVL318:
 3955              	.LFB81:
1707:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3956              		.loc 1 1707 1 is_stmt 1 view -0
 3957              		.cfi_startproc
 3958              		@ args = 0, pretend = 0, frame = 0
 3959              		@ frame_needed = 0, uses_anonymous_args = 0
 3960              		@ link register save eliminated.
1709:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3961              		.loc 1 1709 3 view .LVU1442
1714:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3962              		.loc 1 1714 1 is_stmt 0 view .LVU1443
 3963 0000 7047     		bx	lr
 3964              		.cfi_endproc
 3965              	.LFE81:
 3967              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 3968              		.align	1
 3969              		.weak	HAL_SD_ErrorCallback
 3970              		.syntax unified
 3971              		.thumb
 3972              		.thumb_func
 3974              	HAL_SD_ErrorCallback:
 3975              	.LVL319:
 3976              	.LFB82:
1722:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3977              		.loc 1 1722 1 is_stmt 1 view -0
 3978              		.cfi_startproc
 3979              		@ args = 0, pretend = 0, frame = 0
 3980              		@ frame_needed = 0, uses_anonymous_args = 0
 3981              		@ link register save eliminated.
1724:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3982              		.loc 1 1724 3 view .LVU1445
1729:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 3983              		.loc 1 1729 1 is_stmt 0 view .LVU1446
 3984 0000 7047     		bx	lr
 3985              		.cfi_endproc
 3986              	.LFE82:
 3988              		.section	.text.SD_DMAReceiveCplt,"ax",%progbits
 3989              		.align	1
 3990              		.syntax unified
 3991              		.thumb
 3992              		.thumb_func
 3994              	SD_DMAReceiveCplt:
 3995              	.LVL320:
 3996              	.LFB93:
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 3997              		.loc 1 2449 1 is_stmt 1 view -0
 3998              		.cfi_startproc
 3999              		@ args = 0, pretend = 0, frame = 0
 4000              		@ frame_needed = 0, uses_anonymous_args = 0
2449:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 4001              		.loc 1 2449 1 is_stmt 0 view .LVU1448
 4002 0000 10B5     		push	{r4, lr}
 4003              	.LCFI50:
ARM GAS  /tmp/cc3mRTku.s 			page 151


 4004              		.cfi_def_cfa_offset 8
 4005              		.cfi_offset 4, -8
 4006              		.cfi_offset 14, -4
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 4007              		.loc 1 2450 3 is_stmt 1 view .LVU1449
2450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 4008              		.loc 1 2450 21 is_stmt 0 view .LVU1450
 4009 0002 446A     		ldr	r4, [r0, #36]
 4010              	.LVL321:
2451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4011              		.loc 1 2451 3 is_stmt 1 view .LVU1451
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4012              		.loc 1 2454 3 view .LVU1452
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4013              		.loc 1 2454 9 is_stmt 0 view .LVU1453
 4014 0004 236B     		ldr	r3, [r4, #48]
2454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4015              		.loc 1 2454 5 view .LVU1454
 4016 0006 822B     		cmp	r3, #130
 4017 0008 11D0     		beq	.L246
 4018              	.LVL322:
 4019              	.L244:
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4020              		.loc 1 2470 3 is_stmt 1 view .LVU1455
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4021              		.loc 1 2470 6 is_stmt 0 view .LVU1456
 4022 000a 2268     		ldr	r2, [r4]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4023              		.loc 1 2470 16 view .LVU1457
 4024 000c D36A     		ldr	r3, [r2, #44]
2470:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4025              		.loc 1 2470 24 view .LVU1458
 4026 000e 23F00803 		bic	r3, r3, #8
 4027 0012 D362     		str	r3, [r2, #44]
2473:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4028              		.loc 1 2473 3 is_stmt 1 view .LVU1459
 4029 0014 2368     		ldr	r3, [r4]
 4030 0016 40F23A52 		movw	r2, #1338
 4031 001a 9A63     		str	r2, [r3, #56]
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 4032              		.loc 1 2475 3 view .LVU1460
2475:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 4033              		.loc 1 2475 14 is_stmt 0 view .LVU1461
 4034 001c 0123     		movs	r3, #1
 4035 001e 84F83430 		strb	r3, [r4, #52]
2476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4036              		.loc 1 2476 3 is_stmt 1 view .LVU1462
2476:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4037              		.loc 1 2476 16 is_stmt 0 view .LVU1463
 4038 0022 0023     		movs	r3, #0
 4039 0024 2363     		str	r3, [r4, #48]
2481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 4040              		.loc 1 2481 3 is_stmt 1 view .LVU1464
 4041 0026 2046     		mov	r0, r4
 4042 0028 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 4043              	.LVL323:
2483:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 152


 4044              		.loc 1 2483 1 is_stmt 0 view .LVU1465
 4045 002c 10BD     		pop	{r4, pc}
 4046              	.LVL324:
 4047              	.L246:
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4048              		.loc 1 2456 5 is_stmt 1 view .LVU1466
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4049              		.loc 1 2456 18 is_stmt 0 view .LVU1467
 4050 002e 2068     		ldr	r0, [r4]
 4051              	.LVL325:
2456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4052              		.loc 1 2456 18 view .LVU1468
 4053 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 4054              	.LVL326:
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4055              		.loc 1 2457 5 is_stmt 1 view .LVU1469
2457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4056              		.loc 1 2457 7 is_stmt 0 view .LVU1470
 4057 0034 0346     		mov	r3, r0
 4058 0036 0028     		cmp	r0, #0
 4059 0038 E7D0     		beq	.L244
2459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 4060              		.loc 1 2459 7 is_stmt 1 view .LVU1471
2459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 4061              		.loc 1 2459 10 is_stmt 0 view .LVU1472
 4062 003a A26B     		ldr	r2, [r4, #56]
2459:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 4063              		.loc 1 2459 22 view .LVU1473
 4064 003c 1343     		orrs	r3, r3, r2
 4065 003e A363     		str	r3, [r4, #56]
2463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 4066              		.loc 1 2463 7 is_stmt 1 view .LVU1474
 4067 0040 2046     		mov	r0, r4
 4068              	.LVL327:
2463:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 4069              		.loc 1 2463 7 is_stmt 0 view .LVU1475
 4070 0042 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 4071              	.LVL328:
 4072 0046 E0E7     		b	.L244
 4073              		.cfi_endproc
 4074              	.LFE93:
 4076              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 4077              		.align	1
 4078              		.weak	HAL_SD_AbortCallback
 4079              		.syntax unified
 4080              		.thumb
 4081              		.thumb_func
 4083              	HAL_SD_AbortCallback:
 4084              	.LVL329:
 4085              	.LFB83:
1737:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4086              		.loc 1 1737 1 is_stmt 1 view -0
 4087              		.cfi_startproc
 4088              		@ args = 0, pretend = 0, frame = 0
 4089              		@ frame_needed = 0, uses_anonymous_args = 0
 4090              		@ link register save eliminated.
1739:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 153


 4091              		.loc 1 1739 3 view .LVU1477
1744:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4092              		.loc 1 1744 1 is_stmt 0 view .LVU1478
 4093 0000 7047     		bx	lr
 4094              		.cfi_endproc
 4095              	.LFE83:
 4097              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 4098              		.align	1
 4099              		.global	HAL_SD_GetCardCID
 4100              		.syntax unified
 4101              		.thumb
 4102              		.thumb_func
 4104              	HAL_SD_GetCardCID:
 4105              	.LVL330:
 4106              	.LFB84:
1948:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 4107              		.loc 1 1948 1 is_stmt 1 view -0
 4108              		.cfi_startproc
 4109              		@ args = 0, pretend = 0, frame = 0
 4110              		@ frame_needed = 0, uses_anonymous_args = 0
 4111              		@ link register save eliminated.
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4112              		.loc 1 1949 3 view .LVU1480
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4113              		.loc 1 1949 26 is_stmt 0 view .LVU1481
 4114 0000 90F87730 		ldrb	r3, [r0, #119]	@ zero_extendqisi2
1949:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4115              		.loc 1 1949 24 view .LVU1482
 4116 0004 0B70     		strb	r3, [r1]
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4117              		.loc 1 1951 3 is_stmt 1 view .LVU1483
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4118              		.loc 1 1951 43 is_stmt 0 view .LVU1484
 4119 0006 436F     		ldr	r3, [r0, #116]
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4120              		.loc 1 1951 23 view .LVU1485
 4121 0008 C3F30F23 		ubfx	r3, r3, #8, #16
1951:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4122              		.loc 1 1951 21 view .LVU1486
 4123 000c 4B80     		strh	r3, [r1, #2]	@ movhi
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4124              		.loc 1 1953 3 is_stmt 1 view .LVU1487
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4125              		.loc 1 1953 32 is_stmt 0 view .LVU1488
 4126 000e 426F     		ldr	r2, [r0, #116]
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4127              		.loc 1 1953 71 view .LVU1489
 4128 0010 836F     		ldr	r3, [r0, #120]
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4129              		.loc 1 1953 90 view .LVU1490
 4130 0012 1B0A     		lsrs	r3, r3, #8
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4131              		.loc 1 1953 59 view .LVU1491
 4132 0014 43EA0263 		orr	r3, r3, r2, lsl #24
1953:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4133              		.loc 1 1953 19 view .LVU1492
 4134 0018 4B60     		str	r3, [r1, #4]
ARM GAS  /tmp/cc3mRTku.s 			page 154


1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4135              		.loc 1 1955 3 is_stmt 1 view .LVU1493
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4136              		.loc 1 1955 21 is_stmt 0 view .LVU1494
 4137 001a 90F87830 		ldrb	r3, [r0, #120]	@ zero_extendqisi2
1955:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4138              		.loc 1 1955 19 view .LVU1495
 4139 001e 0B72     		strb	r3, [r1, #8]
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4140              		.loc 1 1957 3 is_stmt 1 view .LVU1496
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4141              		.loc 1 1957 19 is_stmt 0 view .LVU1497
 4142 0020 90F87F30 		ldrb	r3, [r0, #127]	@ zero_extendqisi2
1957:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4143              		.loc 1 1957 17 view .LVU1498
 4144 0024 4B72     		strb	r3, [r1, #9]
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4145              		.loc 1 1959 3 is_stmt 1 view .LVU1499
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4146              		.loc 1 1959 29 is_stmt 0 view .LVU1500
 4147 0026 C26F     		ldr	r2, [r0, #124]
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4148              		.loc 1 1959 86 view .LVU1501
 4149 0028 90F88330 		ldrb	r3, [r0, #131]	@ zero_extendqisi2
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4150              		.loc 1 1959 55 view .LVU1502
 4151 002c 43EA0223 		orr	r3, r3, r2, lsl #8
1959:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4152              		.loc 1 1959 16 view .LVU1503
 4153 0030 CB60     		str	r3, [r1, #12]
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4154              		.loc 1 1961 3 is_stmt 1 view .LVU1504
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4155              		.loc 1 1961 40 is_stmt 0 view .LVU1505
 4156 0032 D0F88030 		ldr	r3, [r0, #128]
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4157              		.loc 1 1961 21 view .LVU1506
 4158 0036 C3F30353 		ubfx	r3, r3, #20, #4
1961:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4159              		.loc 1 1961 19 view .LVU1507
 4160 003a 0B74     		strb	r3, [r1, #16]
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4161              		.loc 1 1963 3 is_stmt 1 view .LVU1508
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4162              		.loc 1 1963 44 is_stmt 0 view .LVU1509
 4163 003c D0F88030 		ldr	r3, [r0, #128]
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4164              		.loc 1 1963 24 view .LVU1510
 4165 0040 C3F30B23 		ubfx	r3, r3, #8, #12
1963:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4166              		.loc 1 1963 22 view .LVU1511
 4167 0044 4B82     		strh	r3, [r1, #18]	@ movhi
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4168              		.loc 1 1965 3 is_stmt 1 view .LVU1512
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4169              		.loc 1 1965 38 is_stmt 0 view .LVU1513
 4170 0046 D0F88030 		ldr	r3, [r0, #128]
ARM GAS  /tmp/cc3mRTku.s 			page 155


1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4171              		.loc 1 1965 19 view .LVU1514
 4172 004a C3F34603 		ubfx	r3, r3, #1, #7
1965:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4173              		.loc 1 1965 17 view .LVU1515
 4174 004e 0B75     		strb	r3, [r1, #20]
1967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4175              		.loc 1 1967 3 is_stmt 1 view .LVU1516
1967:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4176              		.loc 1 1967 19 is_stmt 0 view .LVU1517
 4177 0050 0123     		movs	r3, #1
 4178 0052 4B75     		strb	r3, [r1, #21]
1969:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 4179              		.loc 1 1969 3 is_stmt 1 view .LVU1518
1970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4180              		.loc 1 1970 1 is_stmt 0 view .LVU1519
 4181 0054 0020     		movs	r0, #0
 4182              	.LVL331:
1970:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4183              		.loc 1 1970 1 view .LVU1520
 4184 0056 7047     		bx	lr
 4185              		.cfi_endproc
 4186              	.LFE84:
 4188              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 4189              		.align	1
 4190              		.global	HAL_SD_GetCardCSD
 4191              		.syntax unified
 4192              		.thumb
 4193              		.thumb_func
 4195              	HAL_SD_GetCardCSD:
 4196              	.LVL332:
 4197              	.LFB85:
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4198              		.loc 1 1981 1 is_stmt 1 view -0
 4199              		.cfi_startproc
 4200              		@ args = 0, pretend = 0, frame = 0
 4201              		@ frame_needed = 0, uses_anonymous_args = 0
 4202              		@ link register save eliminated.
1981:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4203              		.loc 1 1981 1 is_stmt 0 view .LVU1522
 4204 0000 0346     		mov	r3, r0
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4205              		.loc 1 1982 3 is_stmt 1 view .LVU1523
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4206              		.loc 1 1982 40 is_stmt 0 view .LVU1524
 4207 0002 426E     		ldr	r2, [r0, #100]
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4208              		.loc 1 1982 21 view .LVU1525
 4209 0004 920F     		lsrs	r2, r2, #30
1982:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4210              		.loc 1 1982 19 view .LVU1526
 4211 0006 0A70     		strb	r2, [r1]
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4212              		.loc 1 1984 3 is_stmt 1 view .LVU1527
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4213              		.loc 1 1984 45 is_stmt 0 view .LVU1528
 4214 0008 426E     		ldr	r2, [r0, #100]
ARM GAS  /tmp/cc3mRTku.s 			page 156


1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4215              		.loc 1 1984 26 view .LVU1529
 4216 000a C2F38362 		ubfx	r2, r2, #26, #4
1984:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4217              		.loc 1 1984 24 view .LVU1530
 4218 000e 4A70     		strb	r2, [r1, #1]
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4219              		.loc 1 1986 3 is_stmt 1 view .LVU1531
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4220              		.loc 1 1986 59 is_stmt 0 view .LVU1532
 4221 0010 90F86720 		ldrb	r2, [r0, #103]	@ zero_extendqisi2
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4222              		.loc 1 1986 21 view .LVU1533
 4223 0014 02F00302 		and	r2, r2, #3
1986:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4224              		.loc 1 1986 19 view .LVU1534
 4225 0018 8A70     		strb	r2, [r1, #2]
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4226              		.loc 1 1988 3 is_stmt 1 view .LVU1535
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4227              		.loc 1 1988 16 is_stmt 0 view .LVU1536
 4228 001a 90F86620 		ldrb	r2, [r0, #102]	@ zero_extendqisi2
1988:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4229              		.loc 1 1988 14 view .LVU1537
 4230 001e CA70     		strb	r2, [r1, #3]
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4231              		.loc 1 1990 3 is_stmt 1 view .LVU1538
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4232              		.loc 1 1990 16 is_stmt 0 view .LVU1539
 4233 0020 90F86520 		ldrb	r2, [r0, #101]	@ zero_extendqisi2
1990:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4234              		.loc 1 1990 14 view .LVU1540
 4235 0024 0A71     		strb	r2, [r1, #4]
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4236              		.loc 1 1992 3 is_stmt 1 view .LVU1541
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4237              		.loc 1 1992 25 is_stmt 0 view .LVU1542
 4238 0026 90F86420 		ldrb	r2, [r0, #100]	@ zero_extendqisi2
1992:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4239              		.loc 1 1992 23 view .LVU1543
 4240 002a 4A71     		strb	r2, [r1, #5]
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4241              		.loc 1 1994 3 is_stmt 1 view .LVU1544
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4242              		.loc 1 1994 47 is_stmt 0 view .LVU1545
 4243 002c 826E     		ldr	r2, [r0, #104]
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4244              		.loc 1 1994 27 view .LVU1546
 4245 002e 120D     		lsrs	r2, r2, #20
1994:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4246              		.loc 1 1994 25 view .LVU1547
 4247 0030 CA80     		strh	r2, [r1, #6]	@ movhi
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4248              		.loc 1 1996 3 is_stmt 1 view .LVU1548
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4249              		.loc 1 1996 60 is_stmt 0 view .LVU1549
 4250 0032 B0F86A20 		ldrh	r2, [r0, #106]
ARM GAS  /tmp/cc3mRTku.s 			page 157


1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4251              		.loc 1 1996 22 view .LVU1550
 4252 0036 02F00F02 		and	r2, r2, #15
1996:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4253              		.loc 1 1996 20 view .LVU1551
 4254 003a 0A72     		strb	r2, [r1, #8]
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4255              		.loc 1 1998 3 is_stmt 1 view .LVU1552
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4256              		.loc 1 1998 46 is_stmt 0 view .LVU1553
 4257 003c 826E     		ldr	r2, [r0, #104]
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4258              		.loc 1 1998 27 view .LVU1554
 4259 003e C2F3C032 		ubfx	r2, r2, #15, #1
1998:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4260              		.loc 1 1998 25 view .LVU1555
 4261 0042 4A72     		strb	r2, [r1, #9]
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4262              		.loc 1 2000 3 is_stmt 1 view .LVU1556
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4263              		.loc 1 2000 46 is_stmt 0 view .LVU1557
 4264 0044 826E     		ldr	r2, [r0, #104]
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4265              		.loc 1 2000 27 view .LVU1558
 4266 0046 C2F38032 		ubfx	r2, r2, #14, #1
2000:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4267              		.loc 1 2000 25 view .LVU1559
 4268 004a 8A72     		strb	r2, [r1, #10]
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4269              		.loc 1 2002 3 is_stmt 1 view .LVU1560
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4270              		.loc 1 2002 46 is_stmt 0 view .LVU1561
 4271 004c 826E     		ldr	r2, [r0, #104]
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4272              		.loc 1 2002 27 view .LVU1562
 4273 004e C2F34032 		ubfx	r2, r2, #13, #1
2002:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4274              		.loc 1 2002 25 view .LVU1563
 4275 0052 CA72     		strb	r2, [r1, #11]
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4276              		.loc 1 2004 3 is_stmt 1 view .LVU1564
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4277              		.loc 1 2004 38 is_stmt 0 view .LVU1565
 4278 0054 826E     		ldr	r2, [r0, #104]
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4279              		.loc 1 2004 19 view .LVU1566
 4280 0056 C2F30032 		ubfx	r2, r2, #12, #1
2004:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4281              		.loc 1 2004 17 view .LVU1567
 4282 005a 0A73     		strb	r2, [r1, #12]
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4283              		.loc 1 2006 3 is_stmt 1 view .LVU1568
2006:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4284              		.loc 1 2006 19 is_stmt 0 view .LVU1569
 4285 005c 0022     		movs	r2, #0
 4286 005e 4A73     		strb	r2, [r1, #13]
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
ARM GAS  /tmp/cc3mRTku.s 			page 158


 4287              		.loc 1 2008 3 is_stmt 1 view .LVU1570
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4288              		.loc 1 2008 17 is_stmt 0 view .LVU1571
 4289 0060 426C     		ldr	r2, [r0, #68]
2008:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4290              		.loc 1 2008 5 view .LVU1572
 4291 0062 002A     		cmp	r2, #0
 4292 0064 40F08680 		bne	.L250
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4293              		.loc 1 2010 5 is_stmt 1 view .LVU1573
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4294              		.loc 1 2010 35 is_stmt 0 view .LVU1574
 4295 0068 806E     		ldr	r0, [r0, #104]
 4296              	.LVL333:
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4297              		.loc 1 2010 54 view .LVU1575
 4298 006a 40F6FC72 		movw	r2, #4092
 4299 006e 02EA8002 		and	r2, r2, r0, lsl #2
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4300              		.loc 1 2010 73 view .LVU1576
 4301 0072 D86E     		ldr	r0, [r3, #108]
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4302              		.loc 1 2010 61 view .LVU1577
 4303 0074 42EA9072 		orr	r2, r2, r0, lsr #30
2010:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4304              		.loc 1 2010 22 view .LVU1578
 4305 0078 0A61     		str	r2, [r1, #16]
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4306              		.loc 1 2012 5 is_stmt 1 view .LVU1579
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4307              		.loc 1 2012 51 is_stmt 0 view .LVU1580
 4308 007a DA6E     		ldr	r2, [r3, #108]
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4309              		.loc 1 2012 32 view .LVU1581
 4310 007c C2F3C262 		ubfx	r2, r2, #27, #3
2012:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4311              		.loc 1 2012 30 view .LVU1582
 4312 0080 0A75     		strb	r2, [r1, #20]
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4313              		.loc 1 2014 5 is_stmt 1 view .LVU1583
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4314              		.loc 1 2014 70 is_stmt 0 view .LVU1584
 4315 0082 93F86F20 		ldrb	r2, [r3, #111]	@ zero_extendqisi2
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4316              		.loc 1 2014 32 view .LVU1585
 4317 0086 02F00702 		and	r2, r2, #7
2014:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4318              		.loc 1 2014 30 view .LVU1586
 4319 008a 4A75     		strb	r2, [r1, #21]
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4320              		.loc 1 2016 5 is_stmt 1 view .LVU1587
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4321              		.loc 1 2016 51 is_stmt 0 view .LVU1588
 4322 008c DA6E     		ldr	r2, [r3, #108]
2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4323              		.loc 1 2016 32 view .LVU1589
 4324 008e C2F34252 		ubfx	r2, r2, #21, #3
ARM GAS  /tmp/cc3mRTku.s 			page 159


2016:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4325              		.loc 1 2016 30 view .LVU1590
 4326 0092 8A75     		strb	r2, [r1, #22]
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4327              		.loc 1 2018 5 is_stmt 1 view .LVU1591
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4328              		.loc 1 2018 51 is_stmt 0 view .LVU1592
 4329 0094 DA6E     		ldr	r2, [r3, #108]
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4330              		.loc 1 2018 32 view .LVU1593
 4331 0096 C2F38242 		ubfx	r2, r2, #18, #3
2018:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4332              		.loc 1 2018 30 view .LVU1594
 4333 009a CA75     		strb	r2, [r1, #23]
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4334              		.loc 1 2020 5 is_stmt 1 view .LVU1595
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4335              		.loc 1 2020 46 is_stmt 0 view .LVU1596
 4336 009c DA6E     		ldr	r2, [r3, #108]
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4337              		.loc 1 2020 27 view .LVU1597
 4338 009e C2F3C232 		ubfx	r2, r2, #15, #3
2020:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4339              		.loc 1 2020 25 view .LVU1598
 4340 00a2 0A76     		strb	r2, [r1, #24]
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4341              		.loc 1 2022 5 is_stmt 1 view .LVU1599
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4342              		.loc 1 2022 34 is_stmt 0 view .LVU1600
 4343 00a4 0A69     		ldr	r2, [r1, #16]
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4344              		.loc 1 2022 47 view .LVU1601
 4345 00a6 0132     		adds	r2, r2, #1
2022:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4346              		.loc 1 2022 27 view .LVU1602
 4347 00a8 5A65     		str	r2, [r3, #84]
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4348              		.loc 1 2023 5 is_stmt 1 view .LVU1603
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4349              		.loc 1 2023 43 is_stmt 0 view .LVU1604
 4350 00aa 087E     		ldrb	r0, [r1, #24]	@ zero_extendqisi2
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4351              		.loc 1 2023 59 view .LVU1605
 4352 00ac 00F00700 		and	r0, r0, #7
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4353              		.loc 1 2023 68 view .LVU1606
 4354 00b0 0230     		adds	r0, r0, #2
2023:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4355              		.loc 1 2023 26 view .LVU1607
 4356 00b2 8240     		lsls	r2, r2, r0
 4357 00b4 5A65     		str	r2, [r3, #84]
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4358              		.loc 1 2024 5 is_stmt 1 view .LVU1608
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4359              		.loc 1 2024 42 is_stmt 0 view .LVU1609
 4360 00b6 91F808C0 		ldrb	ip, [r1, #8]	@ zero_extendqisi2
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 160


 4361              		.loc 1 2024 55 view .LVU1610
 4362 00ba 0CF00F0C 		and	ip, ip, #15
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4363              		.loc 1 2024 34 view .LVU1611
 4364 00be 0120     		movs	r0, #1
 4365 00c0 00FA0CF0 		lsl	r0, r0, ip
2024:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4366              		.loc 1 2024 27 view .LVU1612
 4367 00c4 9865     		str	r0, [r3, #88]
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4368              		.loc 1 2026 5 is_stmt 1 view .LVU1613
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4369              		.loc 1 2026 82 is_stmt 0 view .LVU1614
 4370 00c6 400A     		lsrs	r0, r0, #9
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4371              		.loc 1 2026 55 view .LVU1615
 4372 00c8 00FB02F2 		mul	r2, r0, r2
2026:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4373              		.loc 1 2026 29 view .LVU1616
 4374 00cc DA65     		str	r2, [r3, #92]
2027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4375              		.loc 1 2027 5 is_stmt 1 view .LVU1617
2027:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4376              		.loc 1 2027 30 is_stmt 0 view .LVU1618
 4377 00ce 4FF40072 		mov	r2, #512
 4378 00d2 1A66     		str	r2, [r3, #96]
 4379              	.L251:
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4380              		.loc 1 2048 3 is_stmt 1 view .LVU1619
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4381              		.loc 1 2048 42 is_stmt 0 view .LVU1620
 4382 00d4 DA6E     		ldr	r2, [r3, #108]
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4383              		.loc 1 2048 23 view .LVU1621
 4384 00d6 C2F38032 		ubfx	r2, r2, #14, #1
2048:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4385              		.loc 1 2048 21 view .LVU1622
 4386 00da 4A76     		strb	r2, [r1, #25]
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4387              		.loc 1 2050 3 is_stmt 1 view .LVU1623
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4388              		.loc 1 2050 41 is_stmt 0 view .LVU1624
 4389 00dc DA6E     		ldr	r2, [r3, #108]
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4390              		.loc 1 2050 22 view .LVU1625
 4391 00de C2F3C612 		ubfx	r2, r2, #7, #7
2050:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4392              		.loc 1 2050 20 view .LVU1626
 4393 00e2 8A76     		strb	r2, [r1, #26]
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4394              		.loc 1 2052 3 is_stmt 1 view .LVU1627
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4395              		.loc 1 2052 45 is_stmt 0 view .LVU1628
 4396 00e4 DA6E     		ldr	r2, [r3, #108]
2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4397              		.loc 1 2052 27 view .LVU1629
 4398 00e6 02F07F02 		and	r2, r2, #127
ARM GAS  /tmp/cc3mRTku.s 			page 161


2052:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4399              		.loc 1 2052 25 view .LVU1630
 4400 00ea CA76     		strb	r2, [r1, #27]
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4401              		.loc 1 2054 3 is_stmt 1 view .LVU1631
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4402              		.loc 1 2054 48 is_stmt 0 view .LVU1632
 4403 00ec 1A6F     		ldr	r2, [r3, #112]
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4404              		.loc 1 2054 29 view .LVU1633
 4405 00ee D20F     		lsrs	r2, r2, #31
2054:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4406              		.loc 1 2054 27 view .LVU1634
 4407 00f0 0A77     		strb	r2, [r1, #28]
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4408              		.loc 1 2056 3 is_stmt 1 view .LVU1635
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4409              		.loc 1 2056 41 is_stmt 0 view .LVU1636
 4410 00f2 1A6F     		ldr	r2, [r3, #112]
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4411              		.loc 1 2056 22 view .LVU1637
 4412 00f4 C2F34172 		ubfx	r2, r2, #29, #2
2056:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4413              		.loc 1 2056 20 view .LVU1638
 4414 00f8 4A77     		strb	r2, [r1, #29]
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4415              		.loc 1 2058 3 is_stmt 1 view .LVU1639
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4416              		.loc 1 2058 42 is_stmt 0 view .LVU1640
 4417 00fa 1A6F     		ldr	r2, [r3, #112]
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4418              		.loc 1 2058 23 view .LVU1641
 4419 00fc C2F38262 		ubfx	r2, r2, #26, #3
2058:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4420              		.loc 1 2058 21 view .LVU1642
 4421 0100 8A77     		strb	r2, [r1, #30]
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4422              		.loc 1 2060 3 is_stmt 1 view .LVU1643
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4423              		.loc 1 2060 43 is_stmt 0 view .LVU1644
 4424 0102 1A6F     		ldr	r2, [r3, #112]
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4425              		.loc 1 2060 24 view .LVU1645
 4426 0104 C2F38352 		ubfx	r2, r2, #22, #4
2060:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4427              		.loc 1 2060 22 view .LVU1646
 4428 0108 CA77     		strb	r2, [r1, #31]
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4429              		.loc 1 2062 3 is_stmt 1 view .LVU1647
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4430              		.loc 1 2062 50 is_stmt 0 view .LVU1648
 4431 010a 1A6F     		ldr	r2, [r3, #112]
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4432              		.loc 1 2062 31 view .LVU1649
 4433 010c C2F34052 		ubfx	r2, r2, #21, #1
2062:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4434              		.loc 1 2062 29 view .LVU1650
ARM GAS  /tmp/cc3mRTku.s 			page 162


 4435 0110 81F82020 		strb	r2, [r1, #32]
2064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4436              		.loc 1 2064 3 is_stmt 1 view .LVU1651
2064:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4437              		.loc 1 2064 19 is_stmt 0 view .LVU1652
 4438 0114 0020     		movs	r0, #0
 4439 0116 81F82100 		strb	r0, [r1, #33]
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4440              		.loc 1 2066 3 is_stmt 1 view .LVU1653
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4441              		.loc 1 2066 69 is_stmt 0 view .LVU1654
 4442 011a B3F87220 		ldrh	r2, [r3, #114]
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4443              		.loc 1 2066 31 view .LVU1655
 4444 011e 02F00102 		and	r2, r2, #1
2066:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4445              		.loc 1 2066 29 view .LVU1656
 4446 0122 81F82220 		strb	r2, [r1, #34]
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4447              		.loc 1 2068 3 is_stmt 1 view .LVU1657
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4448              		.loc 1 2068 46 is_stmt 0 view .LVU1658
 4449 0126 1A6F     		ldr	r2, [r3, #112]
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4450              		.loc 1 2068 27 view .LVU1659
 4451 0128 C2F3C032 		ubfx	r2, r2, #15, #1
2068:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4452              		.loc 1 2068 25 view .LVU1660
 4453 012c 81F82320 		strb	r2, [r1, #35]
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4454              		.loc 1 2070 3 is_stmt 1 view .LVU1661
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4455              		.loc 1 2070 39 is_stmt 0 view .LVU1662
 4456 0130 1A6F     		ldr	r2, [r3, #112]
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4457              		.loc 1 2070 20 view .LVU1663
 4458 0132 C2F38032 		ubfx	r2, r2, #14, #1
2070:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4459              		.loc 1 2070 18 view .LVU1664
 4460 0136 81F82420 		strb	r2, [r1, #36]
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4461              		.loc 1 2072 3 is_stmt 1 view .LVU1665
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4462              		.loc 1 2072 44 is_stmt 0 view .LVU1666
 4463 013a 1A6F     		ldr	r2, [r3, #112]
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4464              		.loc 1 2072 25 view .LVU1667
 4465 013c C2F34032 		ubfx	r2, r2, #13, #1
2072:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4466              		.loc 1 2072 23 view .LVU1668
 4467 0140 81F82520 		strb	r2, [r1, #37]
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4468              		.loc 1 2074 3 is_stmt 1 view .LVU1669
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4469              		.loc 1 2074 44 is_stmt 0 view .LVU1670
 4470 0144 1A6F     		ldr	r2, [r3, #112]
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
ARM GAS  /tmp/cc3mRTku.s 			page 163


 4471              		.loc 1 2074 25 view .LVU1671
 4472 0146 C2F30032 		ubfx	r2, r2, #12, #1
2074:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4473              		.loc 1 2074 23 view .LVU1672
 4474 014a 81F82620 		strb	r2, [r1, #38]
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4475              		.loc 1 2076 3 is_stmt 1 view .LVU1673
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4476              		.loc 1 2076 41 is_stmt 0 view .LVU1674
 4477 014e 1A6F     		ldr	r2, [r3, #112]
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4478              		.loc 1 2076 22 view .LVU1675
 4479 0150 C2F38122 		ubfx	r2, r2, #10, #2
2076:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4480              		.loc 1 2076 20 view .LVU1676
 4481 0154 81F82720 		strb	r2, [r1, #39]
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4482              		.loc 1 2078 3 is_stmt 1 view .LVU1677
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4483              		.loc 1 2078 33 is_stmt 0 view .LVU1678
 4484 0158 1A6F     		ldr	r2, [r3, #112]
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4485              		.loc 1 2078 14 view .LVU1679
 4486 015a C2F30122 		ubfx	r2, r2, #8, #2
2078:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4487              		.loc 1 2078 12 view .LVU1680
 4488 015e 81F82820 		strb	r2, [r1, #40]
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4489              		.loc 1 2080 3 is_stmt 1 view .LVU1681
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4490              		.loc 1 2080 38 is_stmt 0 view .LVU1682
 4491 0162 1B6F     		ldr	r3, [r3, #112]
 4492              	.LVL334:
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4493              		.loc 1 2080 19 view .LVU1683
 4494 0164 C3F34603 		ubfx	r3, r3, #1, #7
2080:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4495              		.loc 1 2080 17 view .LVU1684
 4496 0168 81F82930 		strb	r3, [r1, #41]
2082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4497              		.loc 1 2082 3 is_stmt 1 view .LVU1685
2082:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4498              		.loc 1 2082 19 is_stmt 0 view .LVU1686
 4499 016c 0123     		movs	r3, #1
 4500 016e 81F82A30 		strb	r3, [r1, #42]
2084:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 4501              		.loc 1 2084 3 is_stmt 1 view .LVU1687
2085:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4502              		.loc 1 2085 1 is_stmt 0 view .LVU1688
 4503 0172 7047     		bx	lr
 4504              	.LVL335:
 4505              	.L250:
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4506              		.loc 1 2029 8 is_stmt 1 view .LVU1689
2029:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4507              		.loc 1 2029 10 is_stmt 0 view .LVU1690
 4508 0174 012A     		cmp	r2, #1
ARM GAS  /tmp/cc3mRTku.s 			page 164


 4509 0176 11D1     		bne	.L252
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4510              		.loc 1 2032 5 is_stmt 1 view .LVU1691
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4511              		.loc 1 2032 35 is_stmt 0 view .LVU1692
 4512 0178 826E     		ldr	r2, [r0, #104]
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4513              		.loc 1 2032 54 view .LVU1693
 4514 017a 1204     		lsls	r2, r2, #16
 4515 017c 02F47C12 		and	r2, r2, #4128768
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4516              		.loc 1 2032 93 view .LVU1694
 4517 0180 B0F86E00 		ldrh	r0, [r0, #110]
 4518              	.LVL336:
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4519              		.loc 1 2032 62 view .LVU1695
 4520 0184 0243     		orrs	r2, r2, r0
2032:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4521              		.loc 1 2032 22 view .LVU1696
 4522 0186 0A61     		str	r2, [r1, #16]
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4523              		.loc 1 2034 5 is_stmt 1 view .LVU1697
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4524              		.loc 1 2034 34 is_stmt 0 view .LVU1698
 4525 0188 0A69     		ldr	r2, [r1, #16]
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4526              		.loc 1 2034 47 view .LVU1699
 4527 018a 0132     		adds	r2, r2, #1
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4528              		.loc 1 2034 53 view .LVU1700
 4529 018c 9202     		lsls	r2, r2, #10
2034:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4530              		.loc 1 2034 26 view .LVU1701
 4531 018e 5A65     		str	r2, [r3, #84]
2035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4532              		.loc 1 2035 5 is_stmt 1 view .LVU1702
2035:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4533              		.loc 1 2035 29 is_stmt 0 view .LVU1703
 4534 0190 DA65     		str	r2, [r3, #92]
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4535              		.loc 1 2036 5 is_stmt 1 view .LVU1704
2036:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4536              		.loc 1 2036 27 is_stmt 0 view .LVU1705
 4537 0192 4FF40072 		mov	r2, #512
 4538 0196 9A65     		str	r2, [r3, #88]
2037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4539              		.loc 1 2037 5 is_stmt 1 view .LVU1706
2037:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4540              		.loc 1 2037 30 is_stmt 0 view .LVU1707
 4541 0198 1A66     		str	r2, [r3, #96]
 4542 019a 9BE7     		b	.L251
 4543              	.LVL337:
 4544              	.L252:
2042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4545              		.loc 1 2042 5 is_stmt 1 view .LVU1708
 4546 019c 0268     		ldr	r2, [r0]
 4547 019e 0549     		ldr	r1, .L254
ARM GAS  /tmp/cc3mRTku.s 			page 165


 4548              	.LVL338:
2042:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4549              		.loc 1 2042 5 is_stmt 0 view .LVU1709
 4550 01a0 9163     		str	r1, [r2, #56]
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4551              		.loc 1 2043 5 is_stmt 1 view .LVU1710
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4552              		.loc 1 2043 8 is_stmt 0 view .LVU1711
 4553 01a2 826B     		ldr	r2, [r0, #56]
2043:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4554              		.loc 1 2043 20 view .LVU1712
 4555 01a4 42F08052 		orr	r2, r2, #268435456
 4556 01a8 8263     		str	r2, [r0, #56]
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4557              		.loc 1 2044 5 is_stmt 1 view .LVU1713
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4558              		.loc 1 2044 16 is_stmt 0 view .LVU1714
 4559 01aa 0120     		movs	r0, #1
 4560              	.LVL339:
2044:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4561              		.loc 1 2044 16 view .LVU1715
 4562 01ac 83F83400 		strb	r0, [r3, #52]
2045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4563              		.loc 1 2045 5 is_stmt 1 view .LVU1716
2045:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4564              		.loc 1 2045 12 is_stmt 0 view .LVU1717
 4565 01b0 7047     		bx	lr
 4566              	.L255:
 4567 01b2 00BF     		.align	2
 4568              	.L254:
 4569 01b4 FF054000 		.word	4195839
 4570              		.cfi_endproc
 4571              	.LFE85:
 4573              		.section	.text.SD_InitCard,"ax",%progbits
 4574              		.align	1
 4575              		.syntax unified
 4576              		.thumb
 4577              		.thumb_func
 4579              	SD_InitCard:
 4580              	.LVL340:
 4581              	.LFB97:
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4582              		.loc 1 2609 1 is_stmt 1 view -0
 4583              		.cfi_startproc
 4584              		@ args = 0, pretend = 0, frame = 48
 4585              		@ frame_needed = 0, uses_anonymous_args = 0
2609:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4586              		.loc 1 2609 1 is_stmt 0 view .LVU1719
 4587 0000 70B5     		push	{r4, r5, r6, lr}
 4588              	.LCFI51:
 4589              		.cfi_def_cfa_offset 16
 4590              		.cfi_offset 4, -16
 4591              		.cfi_offset 5, -12
 4592              		.cfi_offset 6, -8
 4593              		.cfi_offset 14, -4
 4594 0002 90B0     		sub	sp, sp, #64
 4595              	.LCFI52:
ARM GAS  /tmp/cc3mRTku.s 			page 166


 4596              		.cfi_def_cfa_offset 80
 4597 0004 0446     		mov	r4, r0
2610:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 4598              		.loc 1 2610 3 is_stmt 1 view .LVU1720
2611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint16_t sd_rca = 1U;
 4599              		.loc 1 2611 3 view .LVU1721
2612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4600              		.loc 1 2612 3 view .LVU1722
2612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4601              		.loc 1 2612 12 is_stmt 0 view .LVU1723
 4602 0006 0123     		movs	r3, #1
 4603 0008 ADF81230 		strh	r3, [sp, #18]	@ movhi
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4604              		.loc 1 2615 3 is_stmt 1 view .LVU1724
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4605              		.loc 1 2615 6 is_stmt 0 view .LVU1725
 4606 000c 0068     		ldr	r0, [r0]
 4607              	.LVL341:
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4608              		.loc 1 2615 6 view .LVU1726
 4609 000e FFF7FEFF 		bl	SDIO_GetPowerState
 4610              	.LVL342:
2615:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4611              		.loc 1 2615 5 discriminator 1 view .LVU1727
 4612 0012 0028     		cmp	r0, #0
 4613 0014 6CD0     		beq	.L261
2621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4614              		.loc 1 2621 3 is_stmt 1 view .LVU1728
2621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4615              		.loc 1 2621 17 is_stmt 0 view .LVU1729
 4616 0016 636C     		ldr	r3, [r4, #68]
2621:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4617              		.loc 1 2621 5 view .LVU1730
 4618 0018 032B     		cmp	r3, #3
 4619 001a 45D1     		bne	.L264
 4620              	.L258:
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4621              		.loc 1 2639 3 is_stmt 1 view .LVU1731
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4622              		.loc 1 2639 17 is_stmt 0 view .LVU1732
 4623 001c 636C     		ldr	r3, [r4, #68]
2639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4624              		.loc 1 2639 5 view .LVU1733
 4625 001e 032B     		cmp	r3, #3
 4626 0020 5DD1     		bne	.L265
 4627              	.L259:
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4628              		.loc 1 2649 3 is_stmt 1 view .LVU1734
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4629              		.loc 1 2649 17 is_stmt 0 view .LVU1735
 4630 0022 636C     		ldr	r3, [r4, #68]
2649:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4631              		.loc 1 2649 5 view .LVU1736
 4632 0024 032B     		cmp	r3, #3
 4633 0026 1DD0     		beq	.L260
2652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4634              		.loc 1 2652 5 is_stmt 1 view .LVU1737
ARM GAS  /tmp/cc3mRTku.s 			page 167


2652:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4635              		.loc 1 2652 28 is_stmt 0 view .LVU1738
 4636 0028 BDF81210 		ldrh	r1, [sp, #18]
 4637 002c 2165     		str	r1, [r4, #80]
2655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4638              		.loc 1 2655 5 is_stmt 1 view .LVU1739
2655:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4639              		.loc 1 2655 18 is_stmt 0 view .LVU1740
 4640 002e 0904     		lsls	r1, r1, #16
 4641 0030 2068     		ldr	r0, [r4]
 4642 0032 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 4643              	.LVL343:
2656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4644              		.loc 1 2656 5 is_stmt 1 view .LVU1741
2656:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4645              		.loc 1 2656 7 is_stmt 0 view .LVU1742
 4646 0036 0546     		mov	r5, r0
 4647 0038 0028     		cmp	r0, #0
 4648 003a 5BD1     		bne	.L256
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4649              		.loc 1 2663 7 is_stmt 1 view .LVU1743
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4650              		.loc 1 2663 22 is_stmt 0 view .LVU1744
 4651 003c 0021     		movs	r1, #0
 4652 003e 2068     		ldr	r0, [r4]
 4653              	.LVL344:
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4654              		.loc 1 2663 22 view .LVU1745
 4655 0040 FFF7FEFF 		bl	SDIO_GetResponse
 4656              	.LVL345:
2663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4657              		.loc 1 2663 20 discriminator 1 view .LVU1746
 4658 0044 6066     		str	r0, [r4, #100]
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4659              		.loc 1 2664 7 is_stmt 1 view .LVU1747
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4660              		.loc 1 2664 22 is_stmt 0 view .LVU1748
 4661 0046 0421     		movs	r1, #4
 4662 0048 2068     		ldr	r0, [r4]
 4663 004a FFF7FEFF 		bl	SDIO_GetResponse
 4664              	.LVL346:
2664:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4665              		.loc 1 2664 20 discriminator 1 view .LVU1749
 4666 004e A066     		str	r0, [r4, #104]
2665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4667              		.loc 1 2665 7 is_stmt 1 view .LVU1750
2665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4668              		.loc 1 2665 22 is_stmt 0 view .LVU1751
 4669 0050 0821     		movs	r1, #8
 4670 0052 2068     		ldr	r0, [r4]
 4671 0054 FFF7FEFF 		bl	SDIO_GetResponse
 4672              	.LVL347:
2665:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4673              		.loc 1 2665 20 discriminator 1 view .LVU1752
 4674 0058 E066     		str	r0, [r4, #108]
2666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 4675              		.loc 1 2666 7 is_stmt 1 view .LVU1753
ARM GAS  /tmp/cc3mRTku.s 			page 168


2666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 4676              		.loc 1 2666 22 is_stmt 0 view .LVU1754
 4677 005a 0C21     		movs	r1, #12
 4678 005c 2068     		ldr	r0, [r4]
 4679 005e FFF7FEFF 		bl	SDIO_GetResponse
 4680              	.LVL348:
2666:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 4681              		.loc 1 2666 20 discriminator 1 view .LVU1755
 4682 0062 2067     		str	r0, [r4, #112]
 4683              	.LVL349:
 4684              	.L260:
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4685              		.loc 1 2671 3 is_stmt 1 view .LVU1756
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4686              		.loc 1 2671 24 is_stmt 0 view .LVU1757
 4687 0064 0421     		movs	r1, #4
 4688 0066 2068     		ldr	r0, [r4]
 4689 0068 FFF7FEFF 		bl	SDIO_GetResponse
 4690              	.LVL350:
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4691              		.loc 1 2671 68 discriminator 1 view .LVU1758
 4692 006c 000D     		lsrs	r0, r0, #20
2671:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4693              		.loc 1 2671 21 discriminator 1 view .LVU1759
 4694 006e E064     		str	r0, [r4, #76]
2674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4695              		.loc 1 2674 3 is_stmt 1 view .LVU1760
2674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4696              		.loc 1 2674 7 is_stmt 0 view .LVU1761
 4697 0070 05A9     		add	r1, sp, #20
 4698 0072 2046     		mov	r0, r4
 4699 0074 FFF7FEFF 		bl	HAL_SD_GetCardCSD
 4700              	.LVL351:
2674:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4701              		.loc 1 2674 6 discriminator 1 view .LVU1762
 4702 0078 0028     		cmp	r0, #0
 4703 007a 3ED1     		bne	.L262
2680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4704              		.loc 1 2680 3 is_stmt 1 view .LVU1763
2680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4705              		.loc 1 2680 82 is_stmt 0 view .LVU1764
 4706 007c 226D     		ldr	r2, [r4, #80]
2680:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4707              		.loc 1 2680 16 view .LVU1765
 4708 007e 1204     		lsls	r2, r2, #16
 4709 0080 0023     		movs	r3, #0
 4710 0082 2068     		ldr	r0, [r4]
 4711 0084 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 4712              	.LVL352:
2681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4713              		.loc 1 2681 3 is_stmt 1 view .LVU1766
2681:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4714              		.loc 1 2681 5 is_stmt 0 view .LVU1767
 4715 0088 0546     		mov	r5, r0
 4716 008a 98BB     		cbnz	r0, .L256
2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4717              		.loc 1 2687 3 is_stmt 1 view .LVU1768
ARM GAS  /tmp/cc3mRTku.s 			page 169


2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4718              		.loc 1 2687 9 is_stmt 0 view .LVU1769
 4719 008c 2346     		mov	r3, r4
 4720 008e 53F8106B 		ldr	r6, [r3], #16
 4721 0092 93E80700 		ldm	r3, {r0, r1, r2}
 4722              	.LVL353:
2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4723              		.loc 1 2687 9 view .LVU1770
 4724 0096 8DE80700 		stm	sp, {r0, r1, r2}
 4725 009a 0434     		adds	r4, r4, #4
 4726              	.LVL354:
2687:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4727              		.loc 1 2687 9 view .LVU1771
 4728 009c 94E80E00 		ldm	r4, {r1, r2, r3}
 4729 00a0 3046     		mov	r0, r6
 4730 00a2 FFF7FEFF 		bl	SDIO_Init
 4731              	.LVL355:
2690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 4732              		.loc 1 2690 3 is_stmt 1 view .LVU1772
2690:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 4733              		.loc 1 2690 10 is_stmt 0 view .LVU1773
 4734 00a6 25E0     		b	.L256
 4735              	.LVL356:
 4736              	.L264:
2624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4737              		.loc 1 2624 5 is_stmt 1 view .LVU1774
2624:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4738              		.loc 1 2624 18 is_stmt 0 view .LVU1775
 4739 00a8 2068     		ldr	r0, [r4]
 4740 00aa FFF7FEFF 		bl	SDMMC_CmdSendCID
 4741              	.LVL357:
2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4742              		.loc 1 2625 5 is_stmt 1 view .LVU1776
2625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4743              		.loc 1 2625 7 is_stmt 0 view .LVU1777
 4744 00ae 0546     		mov	r5, r0
 4745 00b0 00BB     		cbnz	r0, .L256
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4746              		.loc 1 2632 7 is_stmt 1 view .LVU1778
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4747              		.loc 1 2632 22 is_stmt 0 view .LVU1779
 4748 00b2 0021     		movs	r1, #0
 4749 00b4 2068     		ldr	r0, [r4]
 4750              	.LVL358:
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4751              		.loc 1 2632 22 view .LVU1780
 4752 00b6 FFF7FEFF 		bl	SDIO_GetResponse
 4753              	.LVL359:
2632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4754              		.loc 1 2632 20 discriminator 1 view .LVU1781
 4755 00ba 6067     		str	r0, [r4, #116]
2633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4756              		.loc 1 2633 7 is_stmt 1 view .LVU1782
2633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4757              		.loc 1 2633 22 is_stmt 0 view .LVU1783
 4758 00bc 0421     		movs	r1, #4
 4759 00be 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cc3mRTku.s 			page 170


 4760 00c0 FFF7FEFF 		bl	SDIO_GetResponse
 4761              	.LVL360:
2633:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4762              		.loc 1 2633 20 discriminator 1 view .LVU1784
 4763 00c4 A067     		str	r0, [r4, #120]
2634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4764              		.loc 1 2634 7 is_stmt 1 view .LVU1785
2634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4765              		.loc 1 2634 22 is_stmt 0 view .LVU1786
 4766 00c6 0821     		movs	r1, #8
 4767 00c8 2068     		ldr	r0, [r4]
 4768 00ca FFF7FEFF 		bl	SDIO_GetResponse
 4769              	.LVL361:
2634:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4770              		.loc 1 2634 20 discriminator 1 view .LVU1787
 4771 00ce E067     		str	r0, [r4, #124]
2635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 4772              		.loc 1 2635 7 is_stmt 1 view .LVU1788
2635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 4773              		.loc 1 2635 22 is_stmt 0 view .LVU1789
 4774 00d0 0C21     		movs	r1, #12
 4775 00d2 2068     		ldr	r0, [r4]
 4776 00d4 FFF7FEFF 		bl	SDIO_GetResponse
 4777              	.LVL362:
2635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 4778              		.loc 1 2635 20 discriminator 1 view .LVU1790
 4779 00d8 C4F88000 		str	r0, [r4, #128]
 4780 00dc 9EE7     		b	.L258
 4781              	.LVL363:
 4782              	.L265:
2643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4783              		.loc 1 2643 5 is_stmt 1 view .LVU1791
2643:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4784              		.loc 1 2643 18 is_stmt 0 view .LVU1792
 4785 00de 0DF11201 		add	r1, sp, #18
 4786 00e2 2068     		ldr	r0, [r4]
 4787 00e4 FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 4788              	.LVL364:
2644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4789              		.loc 1 2644 5 is_stmt 1 view .LVU1793
2644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 4790              		.loc 1 2644 7 is_stmt 0 view .LVU1794
 4791 00e8 0546     		mov	r5, r0
 4792 00ea 0028     		cmp	r0, #0
 4793 00ec 99D0     		beq	.L259
 4794 00ee 01E0     		b	.L256
 4795              	.LVL365:
 4796              	.L261:
2618:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4797              		.loc 1 2618 12 view .LVU1795
 4798 00f0 4FF08065 		mov	r5, #67108864
 4799              	.LVL366:
 4800              	.L256:
2691:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4801              		.loc 1 2691 1 view .LVU1796
 4802 00f4 2846     		mov	r0, r5
 4803 00f6 10B0     		add	sp, sp, #64
ARM GAS  /tmp/cc3mRTku.s 			page 171


 4804              	.LCFI53:
 4805              		.cfi_remember_state
 4806              		.cfi_def_cfa_offset 16
 4807              		@ sp needed
 4808 00f8 70BD     		pop	{r4, r5, r6, pc}
 4809              	.LVL367:
 4810              	.L262:
 4811              	.LCFI54:
 4812              		.cfi_restore_state
2676:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4813              		.loc 1 2676 12 view .LVU1797
 4814 00fa 4FF08055 		mov	r5, #268435456
 4815 00fe F9E7     		b	.L256
 4816              		.cfi_endproc
 4817              	.LFE97:
 4819              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 4820              		.align	1
 4821              		.global	HAL_SD_InitCard
 4822              		.syntax unified
 4823              		.thumb
 4824              		.thumb_func
 4826              	HAL_SD_InitCard:
 4827              	.LVL368:
 4828              	.LFB66:
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 4829              		.loc 1 404 1 is_stmt 1 view -0
 4830              		.cfi_startproc
 4831              		@ args = 0, pretend = 0, frame = 24
 4832              		@ frame_needed = 0, uses_anonymous_args = 0
 404:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 4833              		.loc 1 404 1 is_stmt 0 view .LVU1799
 4834 0000 70B5     		push	{r4, r5, r6, lr}
 4835              	.LCFI55:
 4836              		.cfi_def_cfa_offset 16
 4837              		.cfi_offset 4, -16
 4838              		.cfi_offset 5, -12
 4839              		.cfi_offset 6, -8
 4840              		.cfi_offset 14, -4
 4841 0002 8AB0     		sub	sp, sp, #40
 4842              	.LCFI56:
 4843              		.cfi_def_cfa_offset 56
 4844 0004 0446     		mov	r4, r0
 405:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_InitTypeDef Init;
 4845              		.loc 1 405 3 is_stmt 1 view .LVU1800
 406:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   
 4846              		.loc 1 406 3 view .LVU1801
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 4847              		.loc 1 409 3 view .LVU1802
 409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 4848              		.loc 1 409 28 is_stmt 0 view .LVU1803
 4849 0006 0025     		movs	r5, #0
 4850 0008 0495     		str	r5, [sp, #16]
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 4851              		.loc 1 410 3 is_stmt 1 view .LVU1804
 410:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 4852              		.loc 1 410 28 is_stmt 0 view .LVU1805
 4853 000a 0595     		str	r5, [sp, #20]
ARM GAS  /tmp/cc3mRTku.s 			page 172


 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.BusWide             = SDIO_BUS_WIDE_1B;
 4854              		.loc 1 411 3 is_stmt 1 view .LVU1806
 411:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.BusWide             = SDIO_BUS_WIDE_1B;
 4855              		.loc 1 411 28 is_stmt 0 view .LVU1807
 4856 000c 0695     		str	r5, [sp, #24]
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 4857              		.loc 1 412 3 is_stmt 1 view .LVU1808
 412:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 4858              		.loc 1 412 28 is_stmt 0 view .LVU1809
 4859 000e 0795     		str	r5, [sp, #28]
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockDiv            = SDIO_INIT_CLK_DIV;
 4860              		.loc 1 413 3 is_stmt 1 view .LVU1810
 413:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   Init.ClockDiv            = SDIO_INIT_CLK_DIV;
 4861              		.loc 1 413 28 is_stmt 0 view .LVU1811
 4862 0010 0895     		str	r5, [sp, #32]
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4863              		.loc 1 414 3 is_stmt 1 view .LVU1812
 414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4864              		.loc 1 414 28 is_stmt 0 view .LVU1813
 4865 0012 7623     		movs	r3, #118
 4866 0014 0993     		str	r3, [sp, #36]
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4867              		.loc 1 417 3 is_stmt 1 view .LVU1814
 4868 0016 0AAB     		add	r3, sp, #40
 4869 0018 13E90700 		ldmdb	r3, {r0, r1, r2}
 4870              	.LVL369:
 417:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4871              		.loc 1 417 3 is_stmt 0 view .LVU1815
 4872 001c 8DE80700 		stm	sp, {r0, r1, r2}
 4873 0020 04AB     		add	r3, sp, #16
 4874 0022 0ECB     		ldm	r3, {r1, r2, r3}
 4875 0024 2068     		ldr	r0, [r4]
 4876 0026 FFF7FEFF 		bl	SDIO_Init
 4877              	.LVL370:
 420:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4878              		.loc 1 420 3 is_stmt 1 view .LVU1816
 4879 002a 1B4E     		ldr	r6, .L273
 4880 002c C6F8A050 		str	r5, [r6, #160]
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4881              		.loc 1 423 3 view .LVU1817
 423:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4882              		.loc 1 423 9 is_stmt 0 view .LVU1818
 4883 0030 2068     		ldr	r0, [r4]
 4884 0032 FFF7FEFF 		bl	SDIO_PowerState_ON
 4885              	.LVL371:
 426:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4886              		.loc 1 426 3 is_stmt 1 view .LVU1819
 4887 0036 0123     		movs	r3, #1
 4888 0038 C6F8A030 		str	r3, [r6, #160]
 429:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4889              		.loc 1 429 3 view .LVU1820
 4890 003c 0220     		movs	r0, #2
 4891 003e FFF7FEFF 		bl	HAL_Delay
 4892              	.LVL372:
 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4893              		.loc 1 432 3 view .LVU1821
 432:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/cc3mRTku.s 			page 173


 4894              		.loc 1 432 16 is_stmt 0 view .LVU1822
 4895 0042 2046     		mov	r0, r4
 4896 0044 FFF7FEFF 		bl	SD_PowerON
 4897              	.LVL373:
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4898              		.loc 1 433 3 is_stmt 1 view .LVU1823
 433:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4899              		.loc 1 433 5 is_stmt 0 view .LVU1824
 4900 0048 40B1     		cbz	r0, .L267
 4901 004a 0246     		mov	r2, r0
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4902              		.loc 1 435 5 is_stmt 1 view .LVU1825
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4903              		.loc 1 435 16 is_stmt 0 view .LVU1826
 4904 004c 0120     		movs	r0, #1
 4905              	.LVL374:
 435:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4906              		.loc 1 435 16 view .LVU1827
 4907 004e 84F83400 		strb	r0, [r4, #52]
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4908              		.loc 1 436 5 is_stmt 1 view .LVU1828
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4909              		.loc 1 436 8 is_stmt 0 view .LVU1829
 4910 0052 A36B     		ldr	r3, [r4, #56]
 436:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4911              		.loc 1 436 20 view .LVU1830
 4912 0054 1343     		orrs	r3, r3, r2
 4913 0056 A363     		str	r3, [r4, #56]
 437:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4914              		.loc 1 437 5 is_stmt 1 view .LVU1831
 4915              	.LVL375:
 4916              	.L268:
 461:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 4917              		.loc 1 461 1 is_stmt 0 view .LVU1832
 4918 0058 0AB0     		add	sp, sp, #40
 4919              	.LCFI57:
 4920              		.cfi_remember_state
 4921              		.cfi_def_cfa_offset 16
 4922              		@ sp needed
 4923 005a 70BD     		pop	{r4, r5, r6, pc}
 4924              	.LVL376:
 4925              	.L267:
 4926              	.LCFI58:
 4927              		.cfi_restore_state
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4928              		.loc 1 441 3 is_stmt 1 view .LVU1833
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4929              		.loc 1 441 16 is_stmt 0 view .LVU1834
 4930 005c 2046     		mov	r0, r4
 4931              	.LVL377:
 441:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4932              		.loc 1 441 16 view .LVU1835
 4933 005e FFF7FEFF 		bl	SD_InitCard
 4934              	.LVL378:
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4935              		.loc 1 442 3 is_stmt 1 view .LVU1836
 442:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
ARM GAS  /tmp/cc3mRTku.s 			page 174


 4936              		.loc 1 442 5 is_stmt 0 view .LVU1837
 4937 0062 0246     		mov	r2, r0
 4938 0064 30B1     		cbz	r0, .L269
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4939              		.loc 1 444 5 is_stmt 1 view .LVU1838
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4940              		.loc 1 444 16 is_stmt 0 view .LVU1839
 4941 0066 0120     		movs	r0, #1
 4942              	.LVL379:
 444:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4943              		.loc 1 444 16 view .LVU1840
 4944 0068 84F83400 		strb	r0, [r4, #52]
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4945              		.loc 1 445 5 is_stmt 1 view .LVU1841
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4946              		.loc 1 445 8 is_stmt 0 view .LVU1842
 4947 006c A36B     		ldr	r3, [r4, #56]
 445:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4948              		.loc 1 445 20 view .LVU1843
 4949 006e 1343     		orrs	r3, r3, r2
 4950 0070 A363     		str	r3, [r4, #56]
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4951              		.loc 1 446 5 is_stmt 1 view .LVU1844
 446:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4952              		.loc 1 446 12 is_stmt 0 view .LVU1845
 4953 0072 F1E7     		b	.L268
 4954              	.LVL380:
 4955              	.L269:
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4956              		.loc 1 450 3 is_stmt 1 view .LVU1846
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4957              		.loc 1 450 16 is_stmt 0 view .LVU1847
 4958 0074 4FF40071 		mov	r1, #512
 4959 0078 2068     		ldr	r0, [r4]
 4960              	.LVL381:
 450:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4961              		.loc 1 450 16 view .LVU1848
 4962 007a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4963              	.LVL382:
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4964              		.loc 1 451 3 is_stmt 1 view .LVU1849
 451:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 4965              		.loc 1 451 5 is_stmt 0 view .LVU1850
 4966 007e 08B9     		cbnz	r0, .L272
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 4967              		.loc 1 460 10 view .LVU1851
 4968 0080 0020     		movs	r0, #0
 4969              	.LVL383:
 460:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 4970              		.loc 1 460 10 view .LVU1852
 4971 0082 E9E7     		b	.L268
 4972              	.LVL384:
 4973              	.L272:
 454:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4974              		.loc 1 454 5 is_stmt 1 view .LVU1853
 4975 0084 2368     		ldr	r3, [r4]
 4976 0086 0549     		ldr	r1, .L273+4
ARM GAS  /tmp/cc3mRTku.s 			page 175


 4977 0088 9963     		str	r1, [r3, #56]
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4978              		.loc 1 455 5 view .LVU1854
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4979              		.loc 1 455 8 is_stmt 0 view .LVU1855
 4980 008a A36B     		ldr	r3, [r4, #56]
 455:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4981              		.loc 1 455 20 view .LVU1856
 4982 008c 0343     		orrs	r3, r3, r0
 4983 008e A363     		str	r3, [r4, #56]
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4984              		.loc 1 456 5 is_stmt 1 view .LVU1857
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4985              		.loc 1 456 16 is_stmt 0 view .LVU1858
 4986 0090 0120     		movs	r0, #1
 4987              	.LVL385:
 456:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     return HAL_ERROR;
 4988              		.loc 1 456 16 view .LVU1859
 4989 0092 84F83400 		strb	r0, [r4, #52]
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4990              		.loc 1 457 5 is_stmt 1 view .LVU1860
 457:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 4991              		.loc 1 457 12 is_stmt 0 view .LVU1861
 4992 0096 DFE7     		b	.L268
 4993              	.L274:
 4994              		.align	2
 4995              	.L273:
 4996 0098 00003042 		.word	1110441984
 4997 009c FF054000 		.word	4195839
 4998              		.cfi_endproc
 4999              	.LFE66:
 5001              		.section	.text.HAL_SD_Init,"ax",%progbits
 5002              		.align	1
 5003              		.global	HAL_SD_Init
 5004              		.syntax unified
 5005              		.thumb
 5006              		.thumb_func
 5008              	HAL_SD_Init:
 5009              	.LVL386:
 5010              	.LFB65:
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the SD handle allocation */
 5011              		.loc 1 336 1 is_stmt 1 view -0
 5012              		.cfi_startproc
 5013              		@ args = 0, pretend = 0, frame = 0
 5014              		@ frame_needed = 0, uses_anonymous_args = 0
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5015              		.loc 1 338 3 view .LVU1863
 338:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5016              		.loc 1 338 5 is_stmt 0 view .LVU1864
 5017 0000 A8B1     		cbz	r0, .L278
 336:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   /* Check the SD handle allocation */
 5018              		.loc 1 336 1 view .LVU1865
 5019 0002 10B5     		push	{r4, lr}
 5020              	.LCFI59:
 5021              		.cfi_def_cfa_offset 8
 5022              		.cfi_offset 4, -8
 5023              		.cfi_offset 14, -4
ARM GAS  /tmp/cc3mRTku.s 			page 176


 5024 0004 0446     		mov	r4, r0
 344:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_EDGE(hsd->Init.ClockEdge));
 5025              		.loc 1 344 3 is_stmt 1 view .LVU1866
 345:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_BYPASS(hsd->Init.ClockBypass));
 5026              		.loc 1 345 3 view .LVU1867
 346:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 5027              		.loc 1 346 3 view .LVU1868
 347:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_BUS_WIDE(hsd->Init.BusWide));
 5028              		.loc 1 347 3 view .LVU1869
 348:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 5029              		.loc 1 348 3 view .LVU1870
 349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   assert_param(IS_SDIO_CLKDIV(hsd->Init.ClockDiv));
 5030              		.loc 1 349 3 view .LVU1871
 350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5031              		.loc 1 350 3 view .LVU1872
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5032              		.loc 1 352 3 view .LVU1873
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5033              		.loc 1 352 9 is_stmt 0 view .LVU1874
 5034 0006 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 352:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5035              		.loc 1 352 5 view .LVU1875
 5036 000a 63B1     		cbz	r3, .L284
 5037              	.LVL387:
 5038              	.L277:
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5039              		.loc 1 376 3 is_stmt 1 view .LVU1876
 376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5040              		.loc 1 376 14 is_stmt 0 view .LVU1877
 5041 000c 0323     		movs	r3, #3
 5042 000e 84F83430 		strb	r3, [r4, #52]
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5043              		.loc 1 379 3 is_stmt 1 view .LVU1878
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5044              		.loc 1 379 7 is_stmt 0 view .LVU1879
 5045 0012 2046     		mov	r0, r4
 5046 0014 FFF7FEFF 		bl	HAL_SD_InitCard
 5047              	.LVL388:
 379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5048              		.loc 1 379 6 discriminator 1 view .LVU1880
 5049 0018 58B9     		cbnz	r0, .L279
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5050              		.loc 1 385 3 is_stmt 1 view .LVU1881
 385:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5051              		.loc 1 385 18 is_stmt 0 view .LVU1882
 5052 001a A063     		str	r0, [r4, #56]
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5053              		.loc 1 388 3 is_stmt 1 view .LVU1883
 388:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5054              		.loc 1 388 16 is_stmt 0 view .LVU1884
 5055 001c 2063     		str	r0, [r4, #48]
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5056              		.loc 1 391 3 is_stmt 1 view .LVU1885
 391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5057              		.loc 1 391 14 is_stmt 0 view .LVU1886
 5058 001e 0123     		movs	r3, #1
 5059 0020 84F83430 		strb	r3, [r4, #52]
ARM GAS  /tmp/cc3mRTku.s 			page 177


 393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 5060              		.loc 1 393 3 is_stmt 1 view .LVU1887
 5061              	.L276:
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5062              		.loc 1 394 1 is_stmt 0 view .LVU1888
 5063 0024 10BD     		pop	{r4, pc}
 5064              	.LVL389:
 5065              	.L284:
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 5066              		.loc 1 355 5 is_stmt 1 view .LVU1889
 355:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 5067              		.loc 1 355 15 is_stmt 0 view .LVU1890
 5068 0026 0377     		strb	r3, [r0, #28]
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5069              		.loc 1 372 5 is_stmt 1 view .LVU1891
 5070 0028 FFF7FEFF 		bl	HAL_SD_MspInit
 5071              	.LVL390:
 372:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5072              		.loc 1 372 5 is_stmt 0 view .LVU1892
 5073 002c EEE7     		b	.L277
 5074              	.LVL391:
 5075              	.L278:
 5076              	.LCFI60:
 5077              		.cfi_def_cfa_offset 0
 5078              		.cfi_restore 4
 5079              		.cfi_restore 14
 340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5080              		.loc 1 340 12 view .LVU1893
 5081 002e 0120     		movs	r0, #1
 5082              	.LVL392:
 394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5083              		.loc 1 394 1 view .LVU1894
 5084 0030 7047     		bx	lr
 5085              	.LVL393:
 5086              	.L279:
 5087              	.LCFI61:
 5088              		.cfi_def_cfa_offset 8
 5089              		.cfi_offset 4, -8
 5090              		.cfi_offset 14, -4
 381:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5091              		.loc 1 381 12 view .LVU1895
 5092 0032 0120     		movs	r0, #1
 5093 0034 F6E7     		b	.L276
 5094              		.cfi_endproc
 5095              	.LFE65:
 5097              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5098              		.align	1
 5099              		.global	HAL_SD_GetCardStatus
 5100              		.syntax unified
 5101              		.thumb
 5102              		.thumb_func
 5104              	HAL_SD_GetCardStatus:
 5105              	.LVL394:
 5106              	.LFB86:
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t sd_status[16];
 5107              		.loc 1 2095 1 is_stmt 1 view -0
 5108              		.cfi_startproc
ARM GAS  /tmp/cc3mRTku.s 			page 178


 5109              		@ args = 0, pretend = 0, frame = 64
 5110              		@ frame_needed = 0, uses_anonymous_args = 0
2095:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t sd_status[16];
 5111              		.loc 1 2095 1 is_stmt 0 view .LVU1897
 5112 0000 30B5     		push	{r4, r5, lr}
 5113              	.LCFI62:
 5114              		.cfi_def_cfa_offset 12
 5115              		.cfi_offset 4, -12
 5116              		.cfi_offset 5, -8
 5117              		.cfi_offset 14, -4
 5118 0002 91B0     		sub	sp, sp, #68
 5119              	.LCFI63:
 5120              		.cfi_def_cfa_offset 80
 5121 0004 0546     		mov	r5, r0
 5122 0006 0C46     		mov	r4, r1
2096:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 5123              		.loc 1 2096 3 is_stmt 1 view .LVU1898
2097:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5124              		.loc 1 2097 3 view .LVU1899
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5125              		.loc 1 2098 3 view .LVU1900
 5126              	.LVL395:
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5127              		.loc 1 2100 3 view .LVU1901
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5128              		.loc 1 2100 16 is_stmt 0 view .LVU1902
 5129 0008 6946     		mov	r1, sp
 5130              	.LVL396:
2100:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5131              		.loc 1 2100 16 view .LVU1903
 5132 000a FFF7FEFF 		bl	SD_SendSDStatus
 5133              	.LVL397:
2101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5134              		.loc 1 2101 3 is_stmt 1 view .LVU1904
2101:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5135              		.loc 1 2101 5 is_stmt 0 view .LVU1905
 5136 000e C0B1     		cbz	r0, .L286
2104:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5137              		.loc 1 2104 5 is_stmt 1 view .LVU1906
 5138 0010 2B68     		ldr	r3, [r5]
 5139 0012 2549     		ldr	r1, .L290
 5140 0014 9963     		str	r1, [r3, #56]
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5141              		.loc 1 2105 5 view .LVU1907
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5142              		.loc 1 2105 8 is_stmt 0 view .LVU1908
 5143 0016 AB6B     		ldr	r3, [r5, #56]
2105:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5144              		.loc 1 2105 20 view .LVU1909
 5145 0018 0343     		orrs	r3, r3, r0
 5146 001a AB63     		str	r3, [r5, #56]
2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5147              		.loc 1 2106 5 is_stmt 1 view .LVU1910
2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5148              		.loc 1 2106 16 is_stmt 0 view .LVU1911
 5149 001c 0124     		movs	r4, #1
 5150              	.LVL398:
ARM GAS  /tmp/cc3mRTku.s 			page 179


2106:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5151              		.loc 1 2106 16 view .LVU1912
 5152 001e 85F83440 		strb	r4, [r5, #52]
2107:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5153              		.loc 1 2107 5 is_stmt 1 view .LVU1913
 5154              	.LVL399:
 5155              	.L287:
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5156              		.loc 1 2134 3 view .LVU1914
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5157              		.loc 1 2134 16 is_stmt 0 view .LVU1915
 5158 0022 4FF40071 		mov	r1, #512
 5159 0026 2868     		ldr	r0, [r5]
 5160              	.LVL400:
2134:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5161              		.loc 1 2134 16 view .LVU1916
 5162 0028 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5163              	.LVL401:
2135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5164              		.loc 1 2135 3 is_stmt 1 view .LVU1917
2135:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5165              		.loc 1 2135 5 is_stmt 0 view .LVU1918
 5166 002c 30B1     		cbz	r0, .L288
2138:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 5167              		.loc 1 2138 5 is_stmt 1 view .LVU1919
 5168 002e 2A68     		ldr	r2, [r5]
 5169 0030 1D49     		ldr	r1, .L290
 5170 0032 9163     		str	r1, [r2, #56]
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5171              		.loc 1 2139 5 view .LVU1920
2139:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5172              		.loc 1 2139 20 is_stmt 0 view .LVU1921
 5173 0034 A863     		str	r0, [r5, #56]
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5174              		.loc 1 2140 5 is_stmt 1 view .LVU1922
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5175              		.loc 1 2140 16 is_stmt 0 view .LVU1923
 5176 0036 0124     		movs	r4, #1
 5177              	.LVL402:
2140:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5178              		.loc 1 2140 16 view .LVU1924
 5179 0038 85F83440 		strb	r4, [r5, #52]
2141:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5180              		.loc 1 2141 5 is_stmt 1 view .LVU1925
 5181              	.LVL403:
 5182              	.L288:
2144:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 5183              		.loc 1 2144 3 view .LVU1926
2145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5184              		.loc 1 2145 1 is_stmt 0 view .LVU1927
 5185 003c 2046     		mov	r0, r4
 5186              	.LVL404:
2145:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5187              		.loc 1 2145 1 view .LVU1928
 5188 003e 11B0     		add	sp, sp, #68
 5189              	.LCFI64:
 5190              		.cfi_remember_state
ARM GAS  /tmp/cc3mRTku.s 			page 180


 5191              		.cfi_def_cfa_offset 12
 5192              		@ sp needed
 5193 0040 30BD     		pop	{r4, r5, pc}
 5194              	.LVL405:
 5195              	.L286:
 5196              	.LCFI65:
 5197              		.cfi_restore_state
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5198              		.loc 1 2111 5 is_stmt 1 view .LVU1929
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5199              		.loc 1 2111 49 is_stmt 0 view .LVU1930
 5200 0042 009A     		ldr	r2, [sp]
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5201              		.loc 1 2111 29 view .LVU1931
 5202 0044 C2F38113 		ubfx	r3, r2, #6, #2
2111:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5203              		.loc 1 2111 27 view .LVU1932
 5204 0048 2370     		strb	r3, [r4]
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5205              		.loc 1 2113 5 is_stmt 1 view .LVU1933
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5206              		.loc 1 2113 28 is_stmt 0 view .LVU1934
 5207 004a C2F34013 		ubfx	r3, r2, #5, #1
2113:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5208              		.loc 1 2113 26 view .LVU1935
 5209 004e 6370     		strb	r3, [r4, #1]
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5210              		.loc 1 2115 5 is_stmt 1 view .LVU1936
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5211              		.loc 1 2115 66 is_stmt 0 view .LVU1937
 5212 0050 130A     		lsrs	r3, r2, #8
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5213              		.loc 1 2115 25 view .LVU1938
 5214 0052 23F0FF03 		bic	r3, r3, #255
 5215 0056 43EA1263 		orr	r3, r3, r2, lsr #24
 5216 005a 9BB2     		uxth	r3, r3
2115:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5217              		.loc 1 2115 23 view .LVU1939
 5218 005c 6380     		strh	r3, [r4, #2]	@ movhi
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5219              		.loc 1 2117 5 is_stmt 1 view .LVU1940
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5220              		.loc 1 2117 46 is_stmt 0 view .LVU1941
 5221 005e 019A     		ldr	r2, [sp, #4]
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5222              		.loc 1 2117 98 view .LVU1942
 5223 0060 1302     		lsls	r3, r2, #8
 5224 0062 03F47F03 		and	r3, r3, #16711680
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5225              		.loc 1 2117 70 view .LVU1943
 5226 0066 43EA0263 		orr	r3, r3, r2, lsl #24
2118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5227              		.loc 1 2118 63 view .LVU1944
 5228 006a 110A     		lsrs	r1, r2, #8
 5229 006c 01F47F41 		and	r1, r1, #65280
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5230              		.loc 1 2117 105 view .LVU1945
ARM GAS  /tmp/cc3mRTku.s 			page 181


 5231 0070 0B43     		orrs	r3, r3, r1
2118:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5232              		.loc 1 2118 70 view .LVU1946
 5233 0072 43EA1263 		orr	r3, r3, r2, lsr #24
2117:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5234              		.loc 1 2117 32 view .LVU1947
 5235 0076 6360     		str	r3, [r4, #4]
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5236              		.loc 1 2120 5 is_stmt 1 view .LVU1948
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5237              		.loc 1 2120 46 is_stmt 0 view .LVU1949
 5238 0078 029B     		ldr	r3, [sp, #8]
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5239              		.loc 1 2120 27 view .LVU1950
 5240 007a DAB2     		uxtb	r2, r3
2120:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5241              		.loc 1 2120 25 view .LVU1951
 5242 007c 2272     		strb	r2, [r4, #8]
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5243              		.loc 1 2122 5 is_stmt 1 view .LVU1952
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5244              		.loc 1 2122 32 is_stmt 0 view .LVU1953
 5245 007e C3F30722 		ubfx	r2, r3, #8, #8
2122:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5246              		.loc 1 2122 30 view .LVU1954
 5247 0082 6272     		strb	r2, [r4, #9]
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5248              		.loc 1 2124 5 is_stmt 1 view .LVU1955
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5249              		.loc 1 2124 35 is_stmt 0 view .LVU1956
 5250 0084 C3F30352 		ubfx	r2, r3, #20, #4
2124:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5251              		.loc 1 2124 33 view .LVU1957
 5252 0088 A272     		strb	r2, [r4, #10]
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5253              		.loc 1 2126 5 is_stmt 1 view .LVU1958
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5254              		.loc 1 2126 67 is_stmt 0 view .LVU1959
 5255 008a 1B0C     		lsrs	r3, r3, #16
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5256              		.loc 1 2126 87 view .LVU1960
 5257 008c 039A     		ldr	r2, [sp, #12]
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5258              		.loc 1 2126 91 view .LVU1961
 5259 008e D1B2     		uxtb	r1, r2
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5260              		.loc 1 2126 26 view .LVU1962
 5261 0090 23F0FF03 		bic	r3, r3, #255
 5262 0094 0B43     		orrs	r3, r3, r1
2126:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5263              		.loc 1 2126 24 view .LVU1963
 5264 0096 A381     		strh	r3, [r4, #12]	@ movhi
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5265              		.loc 1 2128 5 is_stmt 1 view .LVU1964
2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5266              		.loc 1 2128 29 is_stmt 0 view .LVU1965
 5267 0098 C2F38523 		ubfx	r3, r2, #10, #6
ARM GAS  /tmp/cc3mRTku.s 			page 182


2128:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5268              		.loc 1 2128 27 view .LVU1966
 5269 009c A373     		strb	r3, [r4, #14]
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5270              		.loc 1 2130 5 is_stmt 1 view .LVU1967
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5271              		.loc 1 2130 28 is_stmt 0 view .LVU1968
 5272 009e C2F30122 		ubfx	r2, r2, #8, #2
2130:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5273              		.loc 1 2130 26 view .LVU1969
 5274 00a2 E273     		strb	r2, [r4, #15]
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5275              		.loc 1 2098 21 view .LVU1970
 5276 00a4 0024     		movs	r4, #0
 5277              	.LVL406:
2098:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5278              		.loc 1 2098 21 view .LVU1971
 5279 00a6 BCE7     		b	.L287
 5280              	.L291:
 5281              		.align	2
 5282              	.L290:
 5283 00a8 FF054000 		.word	4195839
 5284              		.cfi_endproc
 5285              	.LFE86:
 5287              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 5288              		.align	1
 5289              		.global	HAL_SD_GetCardInfo
 5290              		.syntax unified
 5291              		.thumb
 5292              		.thumb_func
 5294              	HAL_SD_GetCardInfo:
 5295              	.LVL407:
 5296              	.LFB87:
2155:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 5297              		.loc 1 2155 1 is_stmt 1 view -0
 5298              		.cfi_startproc
 5299              		@ args = 0, pretend = 0, frame = 0
 5300              		@ frame_needed = 0, uses_anonymous_args = 0
 5301              		@ link register save eliminated.
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5302              		.loc 1 2156 3 view .LVU1973
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5303              		.loc 1 2156 51 is_stmt 0 view .LVU1974
 5304 0000 436C     		ldr	r3, [r0, #68]
2156:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5305              		.loc 1 2156 27 view .LVU1975
 5306 0002 0B60     		str	r3, [r1]
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5307              		.loc 1 2157 3 is_stmt 1 view .LVU1976
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5308              		.loc 1 2157 51 is_stmt 0 view .LVU1977
 5309 0004 836C     		ldr	r3, [r0, #72]
2157:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5310              		.loc 1 2157 27 view .LVU1978
 5311 0006 4B60     		str	r3, [r1, #4]
2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5312              		.loc 1 2158 3 is_stmt 1 view .LVU1979
ARM GAS  /tmp/cc3mRTku.s 			page 183


2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5313              		.loc 1 2158 51 is_stmt 0 view .LVU1980
 5314 0008 C36C     		ldr	r3, [r0, #76]
2158:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5315              		.loc 1 2158 27 view .LVU1981
 5316 000a 8B60     		str	r3, [r1, #8]
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5317              		.loc 1 2159 3 is_stmt 1 view .LVU1982
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5318              		.loc 1 2159 51 is_stmt 0 view .LVU1983
 5319 000c 036D     		ldr	r3, [r0, #80]
2159:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5320              		.loc 1 2159 27 view .LVU1984
 5321 000e CB60     		str	r3, [r1, #12]
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5322              		.loc 1 2160 3 is_stmt 1 view .LVU1985
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5323              		.loc 1 2160 51 is_stmt 0 view .LVU1986
 5324 0010 436D     		ldr	r3, [r0, #84]
2160:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5325              		.loc 1 2160 27 view .LVU1987
 5326 0012 0B61     		str	r3, [r1, #16]
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5327              		.loc 1 2161 3 is_stmt 1 view .LVU1988
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5328              		.loc 1 2161 51 is_stmt 0 view .LVU1989
 5329 0014 836D     		ldr	r3, [r0, #88]
2161:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5330              		.loc 1 2161 27 view .LVU1990
 5331 0016 4B61     		str	r3, [r1, #20]
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5332              		.loc 1 2162 3 is_stmt 1 view .LVU1991
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5333              		.loc 1 2162 51 is_stmt 0 view .LVU1992
 5334 0018 C36D     		ldr	r3, [r0, #92]
2162:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5335              		.loc 1 2162 27 view .LVU1993
 5336 001a 8B61     		str	r3, [r1, #24]
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5337              		.loc 1 2163 3 is_stmt 1 view .LVU1994
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5338              		.loc 1 2163 51 is_stmt 0 view .LVU1995
 5339 001c 036E     		ldr	r3, [r0, #96]
2163:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5340              		.loc 1 2163 27 view .LVU1996
 5341 001e CB61     		str	r3, [r1, #28]
2165:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 5342              		.loc 1 2165 3 is_stmt 1 view .LVU1997
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5343              		.loc 1 2166 1 is_stmt 0 view .LVU1998
 5344 0020 0020     		movs	r0, #0
 5345              	.LVL408:
2166:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5346              		.loc 1 2166 1 view .LVU1999
 5347 0022 7047     		bx	lr
 5348              		.cfi_endproc
 5349              	.LFE87:
ARM GAS  /tmp/cc3mRTku.s 			page 184


 5351              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 5352              		.align	1
 5353              		.global	HAL_SD_ConfigWideBusOperation
 5354              		.syntax unified
 5355              		.thumb
 5356              		.thumb_func
 5358              	HAL_SD_ConfigWideBusOperation:
 5359              	.LVL409:
 5360              	.LFB88:
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_InitTypeDef Init;
 5361              		.loc 1 2180 1 is_stmt 1 view -0
 5362              		.cfi_startproc
 5363              		@ args = 0, pretend = 0, frame = 24
 5364              		@ frame_needed = 0, uses_anonymous_args = 0
2180:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SDIO_InitTypeDef Init;
 5365              		.loc 1 2180 1 is_stmt 0 view .LVU2001
 5366 0000 30B5     		push	{r4, r5, lr}
 5367              	.LCFI66:
 5368              		.cfi_def_cfa_offset 12
 5369              		.cfi_offset 4, -12
 5370              		.cfi_offset 5, -8
 5371              		.cfi_offset 14, -4
 5372 0002 8BB0     		sub	sp, sp, #44
 5373              	.LCFI67:
 5374              		.cfi_def_cfa_offset 56
 5375 0004 0446     		mov	r4, r0
 5376 0006 0D46     		mov	r5, r1
2181:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 5377              		.loc 1 2181 3 is_stmt 1 view .LVU2002
2182:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5378              		.loc 1 2182 3 view .LVU2003
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5379              		.loc 1 2183 3 view .LVU2004
 5380              	.LVL410:
2186:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5381              		.loc 1 2186 3 view .LVU2005
2189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5382              		.loc 1 2189 3 view .LVU2006
2189:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5383              		.loc 1 2189 14 is_stmt 0 view .LVU2007
 5384 0008 0323     		movs	r3, #3
 5385 000a 80F83430 		strb	r3, [r0, #52]
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5386              		.loc 1 2191 3 is_stmt 1 view .LVU2008
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5387              		.loc 1 2191 17 is_stmt 0 view .LVU2009
 5388 000e 436C     		ldr	r3, [r0, #68]
2191:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5389              		.loc 1 2191 5 view .LVU2010
 5390 0010 032B     		cmp	r3, #3
 5391 0012 1CD0     		beq	.L294
2193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5392              		.loc 1 2193 5 is_stmt 1 view .LVU2011
2193:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5393              		.loc 1 2193 7 is_stmt 0 view .LVU2012
 5394 0014 B1F5805F 		cmp	r1, #4096
 5395 0018 08D0     		beq	.L303
ARM GAS  /tmp/cc3mRTku.s 			page 185


2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5396              		.loc 1 2197 10 is_stmt 1 view .LVU2013
2197:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5397              		.loc 1 2197 12 is_stmt 0 view .LVU2014
 5398 001a B1F5006F 		cmp	r1, #2048
 5399 001e 0AD0     		beq	.L304
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5400              		.loc 1 2203 10 is_stmt 1 view .LVU2015
2203:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5401              		.loc 1 2203 12 is_stmt 0 view .LVU2016
 5402 0020 79B1     		cbz	r1, .L305
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5403              		.loc 1 2212 7 is_stmt 1 view .LVU2017
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5404              		.loc 1 2212 10 is_stmt 0 view .LVU2018
 5405 0022 836B     		ldr	r3, [r0, #56]
2212:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5406              		.loc 1 2212 22 view .LVU2019
 5407 0024 43F00063 		orr	r3, r3, #134217728
 5408 0028 8363     		str	r3, [r0, #56]
 5409 002a 14E0     		b	.L296
 5410              	.L303:
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5411              		.loc 1 2195 7 is_stmt 1 view .LVU2020
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5412              		.loc 1 2195 10 is_stmt 0 view .LVU2021
 5413 002c 836B     		ldr	r3, [r0, #56]
2195:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5414              		.loc 1 2195 22 view .LVU2022
 5415 002e 43F08053 		orr	r3, r3, #268435456
 5416 0032 8363     		str	r3, [r0, #56]
 5417 0034 0FE0     		b	.L296
 5418              	.L304:
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5419              		.loc 1 2199 7 is_stmt 1 view .LVU2023
2199:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5420              		.loc 1 2199 20 is_stmt 0 view .LVU2024
 5421 0036 FFF7FEFF 		bl	SD_WideBus_Enable
 5422              	.LVL411:
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5423              		.loc 1 2201 7 is_stmt 1 view .LVU2025
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5424              		.loc 1 2201 10 is_stmt 0 view .LVU2026
 5425 003a A36B     		ldr	r3, [r4, #56]
2201:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5426              		.loc 1 2201 22 view .LVU2027
 5427 003c 0343     		orrs	r3, r3, r0
 5428 003e A363     		str	r3, [r4, #56]
 5429 0040 09E0     		b	.L296
 5430              	.LVL412:
 5431              	.L305:
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5432              		.loc 1 2205 7 is_stmt 1 view .LVU2028
2205:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5433              		.loc 1 2205 20 is_stmt 0 view .LVU2029
 5434 0042 FFF7FEFF 		bl	SD_WideBus_Disable
 5435              	.LVL413:
ARM GAS  /tmp/cc3mRTku.s 			page 186


2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5436              		.loc 1 2207 7 is_stmt 1 view .LVU2030
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5437              		.loc 1 2207 10 is_stmt 0 view .LVU2031
 5438 0046 A36B     		ldr	r3, [r4, #56]
2207:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5439              		.loc 1 2207 22 view .LVU2032
 5440 0048 0343     		orrs	r3, r3, r0
 5441 004a A363     		str	r3, [r4, #56]
 5442 004c 03E0     		b	.L296
 5443              	.LVL414:
 5444              	.L294:
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5445              		.loc 1 2218 5 is_stmt 1 view .LVU2033
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5446              		.loc 1 2218 8 is_stmt 0 view .LVU2034
 5447 004e 836B     		ldr	r3, [r0, #56]
2218:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5448              		.loc 1 2218 20 view .LVU2035
 5449 0050 43F08053 		orr	r3, r3, #268435456
 5450 0054 8363     		str	r3, [r0, #56]
 5451              	.LVL415:
 5452              	.L296:
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5453              		.loc 1 2221 3 is_stmt 1 view .LVU2036
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5454              		.loc 1 2221 9 is_stmt 0 view .LVU2037
 5455 0056 A36B     		ldr	r3, [r4, #56]
2221:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5456              		.loc 1 2221 5 view .LVU2038
 5457 0058 C3B1     		cbz	r3, .L299
2224:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5458              		.loc 1 2224 5 is_stmt 1 view .LVU2039
 5459 005a 2368     		ldr	r3, [r4]
 5460 005c 174A     		ldr	r2, .L306
 5461 005e 9A63     		str	r2, [r3, #56]
2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5462              		.loc 1 2225 5 view .LVU2040
2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5463              		.loc 1 2225 16 is_stmt 0 view .LVU2041
 5464 0060 0125     		movs	r5, #1
 5465              	.LVL416:
2225:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5466              		.loc 1 2225 16 view .LVU2042
 5467 0062 84F83450 		strb	r5, [r4, #52]
2226:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5468              		.loc 1 2226 5 is_stmt 1 view .LVU2043
 5469              	.LVL417:
 5470              	.L300:
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5471              		.loc 1 2241 3 view .LVU2044
2241:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5472              		.loc 1 2241 16 is_stmt 0 view .LVU2045
 5473 0066 4FF40071 		mov	r1, #512
 5474 006a 2068     		ldr	r0, [r4]
 5475 006c FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5476              	.LVL418:
ARM GAS  /tmp/cc3mRTku.s 			page 187


2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5477              		.loc 1 2242 3 is_stmt 1 view .LVU2046
2242:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5478              		.loc 1 2242 5 is_stmt 0 view .LVU2047
 5479 0070 30B1     		cbz	r0, .L301
2245:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5480              		.loc 1 2245 5 is_stmt 1 view .LVU2048
 5481 0072 2368     		ldr	r3, [r4]
 5482 0074 1149     		ldr	r1, .L306
 5483 0076 9963     		str	r1, [r3, #56]
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5484              		.loc 1 2246 5 view .LVU2049
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5485              		.loc 1 2246 8 is_stmt 0 view .LVU2050
 5486 0078 A36B     		ldr	r3, [r4, #56]
2246:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     status = HAL_ERROR;
 5487              		.loc 1 2246 20 view .LVU2051
 5488 007a 0343     		orrs	r3, r3, r0
 5489 007c A363     		str	r3, [r4, #56]
2247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5490              		.loc 1 2247 5 is_stmt 1 view .LVU2052
 5491              	.LVL419:
2247:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5492              		.loc 1 2247 12 is_stmt 0 view .LVU2053
 5493 007e 0125     		movs	r5, #1
 5494              	.LVL420:
 5495              	.L301:
2251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5496              		.loc 1 2251 3 is_stmt 1 view .LVU2054
2251:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5497              		.loc 1 2251 14 is_stmt 0 view .LVU2055
 5498 0080 0123     		movs	r3, #1
 5499 0082 84F83430 		strb	r3, [r4, #52]
2253:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 5500              		.loc 1 2253 3 is_stmt 1 view .LVU2056
2254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5501              		.loc 1 2254 1 is_stmt 0 view .LVU2057
 5502 0086 2846     		mov	r0, r5
 5503              	.LVL421:
2254:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5504              		.loc 1 2254 1 view .LVU2058
 5505 0088 0BB0     		add	sp, sp, #44
 5506              	.LCFI68:
 5507              		.cfi_remember_state
 5508              		.cfi_def_cfa_offset 12
 5509              		@ sp needed
 5510 008a 30BD     		pop	{r4, r5, pc}
 5511              	.LVL422:
 5512              	.L299:
 5513              	.LCFI69:
 5514              		.cfi_restore_state
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
 5515              		.loc 1 2231 5 is_stmt 1 view .LVU2059
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
 5516              		.loc 1 2231 41 is_stmt 0 view .LVU2060
 5517 008c 6368     		ldr	r3, [r4, #4]
2231:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
ARM GAS  /tmp/cc3mRTku.s 			page 188


 5518              		.loc 1 2231 30 view .LVU2061
 5519 008e 0493     		str	r3, [sp, #16]
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5520              		.loc 1 2232 5 is_stmt 1 view .LVU2062
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5521              		.loc 1 2232 41 is_stmt 0 view .LVU2063
 5522 0090 A368     		ldr	r3, [r4, #8]
2232:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5523              		.loc 1 2232 30 view .LVU2064
 5524 0092 0593     		str	r3, [sp, #20]
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.BusWide             = WideMode;
 5525              		.loc 1 2233 5 is_stmt 1 view .LVU2065
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.BusWide             = WideMode;
 5526              		.loc 1 2233 41 is_stmt 0 view .LVU2066
 5527 0094 E368     		ldr	r3, [r4, #12]
2233:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.BusWide             = WideMode;
 5528              		.loc 1 2233 30 view .LVU2067
 5529 0096 0693     		str	r3, [sp, #24]
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5530              		.loc 1 2234 5 is_stmt 1 view .LVU2068
2234:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5531              		.loc 1 2234 30 is_stmt 0 view .LVU2069
 5532 0098 0795     		str	r5, [sp, #28]
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
 5533              		.loc 1 2235 5 is_stmt 1 view .LVU2070
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
 5534              		.loc 1 2235 41 is_stmt 0 view .LVU2071
 5535 009a 6369     		ldr	r3, [r4, #20]
2235:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
 5536              		.loc 1 2235 30 view .LVU2072
 5537 009c 0893     		str	r3, [sp, #32]
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
 5538              		.loc 1 2236 5 is_stmt 1 view .LVU2073
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
 5539              		.loc 1 2236 41 is_stmt 0 view .LVU2074
 5540 009e A369     		ldr	r3, [r4, #24]
2236:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
 5541              		.loc 1 2236 30 view .LVU2075
 5542 00a0 0993     		str	r3, [sp, #36]
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5543              		.loc 1 2237 5 is_stmt 1 view .LVU2076
2237:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5544              		.loc 1 2237 11 is_stmt 0 view .LVU2077
 5545 00a2 0AAB     		add	r3, sp, #40
 5546 00a4 13E90700 		ldmdb	r3, {r0, r1, r2}
 5547 00a8 8DE80700 		stm	sp, {r0, r1, r2}
 5548 00ac 04AB     		add	r3, sp, #16
 5549 00ae 0ECB     		ldm	r3, {r1, r2, r3}
 5550 00b0 2068     		ldr	r0, [r4]
 5551 00b2 FFF7FEFF 		bl	SDIO_Init
 5552              	.LVL423:
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5553              		.loc 1 2183 21 view .LVU2078
 5554 00b6 0025     		movs	r5, #0
 5555              	.LVL424:
2183:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5556              		.loc 1 2183 21 view .LVU2079
ARM GAS  /tmp/cc3mRTku.s 			page 189


 5557 00b8 D5E7     		b	.L300
 5558              	.L307:
 5559 00ba 00BF     		.align	2
 5560              	.L306:
 5561 00bc FF054000 		.word	4195839
 5562              		.cfi_endproc
 5563              	.LFE88:
 5565              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5566              		.align	1
 5567              		.global	HAL_SD_GetCardState
 5568              		.syntax unified
 5569              		.thumb
 5570              		.thumb_func
 5572              	HAL_SD_GetCardState:
 5573              	.LVL425:
 5574              	.LFB89:
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t cardstate;
 5575              		.loc 1 2262 1 is_stmt 1 view -0
 5576              		.cfi_startproc
 5577              		@ args = 0, pretend = 0, frame = 8
 5578              		@ frame_needed = 0, uses_anonymous_args = 0
2262:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t cardstate;
 5579              		.loc 1 2262 1 is_stmt 0 view .LVU2081
 5580 0000 10B5     		push	{r4, lr}
 5581              	.LCFI70:
 5582              		.cfi_def_cfa_offset 8
 5583              		.cfi_offset 4, -8
 5584              		.cfi_offset 14, -4
 5585 0002 82B0     		sub	sp, sp, #8
 5586              	.LCFI71:
 5587              		.cfi_def_cfa_offset 16
 5588 0004 0446     		mov	r4, r0
2263:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 5589              		.loc 1 2263 3 is_stmt 1 view .LVU2082
2264:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t resp1 = 0;
 5590              		.loc 1 2264 3 view .LVU2083
2265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5591              		.loc 1 2265 3 view .LVU2084
2265:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5592              		.loc 1 2265 12 is_stmt 0 view .LVU2085
 5593 0006 0023     		movs	r3, #0
 5594 0008 0193     		str	r3, [sp, #4]
2267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5595              		.loc 1 2267 3 is_stmt 1 view .LVU2086
2267:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5596              		.loc 1 2267 16 is_stmt 0 view .LVU2087
 5597 000a 01A9     		add	r1, sp, #4
 5598 000c FFF7FEFF 		bl	SD_SendStatus
 5599              	.LVL426:
2268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5600              		.loc 1 2268 3 is_stmt 1 view .LVU2088
2268:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5601              		.loc 1 2268 5 is_stmt 0 view .LVU2089
 5602 0010 10B1     		cbz	r0, .L309
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5603              		.loc 1 2270 5 is_stmt 1 view .LVU2090
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
ARM GAS  /tmp/cc3mRTku.s 			page 190


 5604              		.loc 1 2270 8 is_stmt 0 view .LVU2091
 5605 0012 A36B     		ldr	r3, [r4, #56]
2270:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5606              		.loc 1 2270 20 view .LVU2092
 5607 0014 0343     		orrs	r3, r3, r0
 5608 0016 A363     		str	r3, [r4, #56]
 5609              	.L309:
2273:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5610              		.loc 1 2273 3 is_stmt 1 view .LVU2093
 5611              	.LVL427:
2275:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 5612              		.loc 1 2275 3 view .LVU2094
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5613              		.loc 1 2276 1 is_stmt 0 view .LVU2095
 5614 0018 0198     		ldr	r0, [sp, #4]
 5615              	.LVL428:
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5616              		.loc 1 2276 1 view .LVU2096
 5617 001a C0F34320 		ubfx	r0, r0, #9, #4
 5618              	.LVL429:
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5619              		.loc 1 2276 1 view .LVU2097
 5620 001e 02B0     		add	sp, sp, #8
 5621              	.LCFI72:
 5622              		.cfi_def_cfa_offset 8
 5623              		@ sp needed
 5624 0020 10BD     		pop	{r4, pc}
2276:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5625              		.loc 1 2276 1 view .LVU2098
 5626              		.cfi_endproc
 5627              	.LFE89:
 5629              		.section	.text.SD_DMAError,"ax",%progbits
 5630              		.align	1
 5631              		.syntax unified
 5632              		.thumb
 5633              		.thumb_func
 5635              	SD_DMAError:
 5636              	.LVL430:
 5637              	.LFB94:
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5638              		.loc 1 2491 1 is_stmt 1 view -0
 5639              		.cfi_startproc
 5640              		@ args = 0, pretend = 0, frame = 0
 5641              		@ frame_needed = 0, uses_anonymous_args = 0
2491:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5642              		.loc 1 2491 1 is_stmt 0 view .LVU2100
 5643 0000 10B5     		push	{r4, lr}
 5644              	.LCFI73:
 5645              		.cfi_def_cfa_offset 8
 5646              		.cfi_offset 4, -8
 5647              		.cfi_offset 14, -4
2492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5648              		.loc 1 2492 3 is_stmt 1 view .LVU2101
2492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5649              		.loc 1 2492 21 is_stmt 0 view .LVU2102
 5650 0002 446A     		ldr	r4, [r0, #36]
 5651              	.LVL431:
ARM GAS  /tmp/cc3mRTku.s 			page 191


2493:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
 5652              		.loc 1 2493 3 is_stmt 1 view .LVU2103
2494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5653              		.loc 1 2494 3 view .LVU2104
2496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
 5654              		.loc 1 2496 5 view .LVU2105
2496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
 5655              		.loc 1 2496 22 is_stmt 0 view .LVU2106
 5656 0004 236C     		ldr	r3, [r4, #64]
2496:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
 5657              		.loc 1 2496 17 view .LVU2107
 5658 0006 9B6B     		ldr	r3, [r3, #56]
 5659              	.LVL432:
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5660              		.loc 1 2497 5 is_stmt 1 view .LVU2108
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5661              		.loc 1 2497 22 is_stmt 0 view .LVU2109
 5662 0008 E26B     		ldr	r2, [r4, #60]
2497:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5663              		.loc 1 2497 17 view .LVU2110
 5664 000a 926B     		ldr	r2, [r2, #56]
 5665              	.LVL433:
2498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5666              		.loc 1 2498 5 is_stmt 1 view .LVU2111
2498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5667              		.loc 1 2498 7 is_stmt 0 view .LVU2112
 5668 000c 012B     		cmp	r3, #1
 5669 000e 05D0     		beq	.L312
2498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5670              		.loc 1 2498 42 discriminator 1 view .LVU2113
 5671 0010 012A     		cmp	r2, #1
 5672 0012 03D0     		beq	.L312
 5673              	.LVL434:
 5674              	.L313:
2521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 5675              		.loc 1 2521 5 is_stmt 1 view .LVU2114
 5676 0014 2046     		mov	r0, r4
 5677 0016 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5678              	.LVL435:
2523:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5679              		.loc 1 2523 1 is_stmt 0 view .LVU2115
 5680 001a 10BD     		pop	{r4, pc}
 5681              	.LVL436:
 5682              	.L312:
2501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5683              		.loc 1 2501 7 is_stmt 1 view .LVU2116
 5684 001c 2368     		ldr	r3, [r4]
 5685              	.LVL437:
2501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5686              		.loc 1 2501 7 is_stmt 0 view .LVU2117
 5687 001e 0F4A     		ldr	r2, .L317
 5688              	.LVL438:
2501:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5689              		.loc 1 2501 7 view .LVU2118
 5690 0020 9A63     		str	r2, [r3, #56]
2504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
 5691              		.loc 1 2504 7 is_stmt 1 view .LVU2119
ARM GAS  /tmp/cc3mRTku.s 			page 192


 5692 0022 2268     		ldr	r2, [r4]
 5693 0024 D36B     		ldr	r3, [r2, #60]
 5694 0026 23F49D73 		bic	r3, r3, #314
 5695 002a D363     		str	r3, [r2, #60]
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
 5696              		.loc 1 2507 7 view .LVU2120
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
 5697              		.loc 1 2507 10 is_stmt 0 view .LVU2121
 5698 002c A36B     		ldr	r3, [r4, #56]
2507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
 5699              		.loc 1 2507 22 view .LVU2122
 5700 002e 43F08043 		orr	r3, r3, #1073741824
 5701 0032 A363     		str	r3, [r4, #56]
2508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5702              		.loc 1 2508 7 is_stmt 1 view .LVU2123
2508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5703              		.loc 1 2508 19 is_stmt 0 view .LVU2124
 5704 0034 2046     		mov	r0, r4
 5705              	.LVL439:
2508:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5706              		.loc 1 2508 19 view .LVU2125
 5707 0036 FFF7FEFF 		bl	HAL_SD_GetCardState
 5708              	.LVL440:
2509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 5709              		.loc 1 2509 7 is_stmt 1 view .LVU2126
2509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 5710              		.loc 1 2509 47 is_stmt 0 view .LVU2127
 5711 003a 0538     		subs	r0, r0, #5
 5712              	.LVL441:
2509:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 5713              		.loc 1 2509 9 view .LVU2128
 5714 003c 0128     		cmp	r0, #1
 5715 003e 05D9     		bls	.L316
 5716              	.LVL442:
 5717              	.L314:
2514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 5718              		.loc 1 2514 7 is_stmt 1 view .LVU2129
2514:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 5719              		.loc 1 2514 17 is_stmt 0 view .LVU2130
 5720 0040 0123     		movs	r3, #1
 5721 0042 84F83430 		strb	r3, [r4, #52]
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5722              		.loc 1 2515 7 is_stmt 1 view .LVU2131
2515:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 5723              		.loc 1 2515 20 is_stmt 0 view .LVU2132
 5724 0046 0023     		movs	r3, #0
 5725 0048 2363     		str	r3, [r4, #48]
 5726 004a E3E7     		b	.L313
 5727              	.LVL443:
 5728              	.L316:
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 5729              		.loc 1 2511 9 is_stmt 1 view .LVU2133
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 5730              		.loc 1 2511 27 is_stmt 0 view .LVU2134
 5731 004c 2068     		ldr	r0, [r4]
 5732              	.LVL444:
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
ARM GAS  /tmp/cc3mRTku.s 			page 193


 5733              		.loc 1 2511 27 view .LVU2135
 5734 004e FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5735              	.LVL445:
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 5736              		.loc 1 2511 12 discriminator 1 view .LVU2136
 5737 0052 A36B     		ldr	r3, [r4, #56]
2511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 5738              		.loc 1 2511 24 discriminator 1 view .LVU2137
 5739 0054 0343     		orrs	r3, r3, r0
 5740 0056 A363     		str	r3, [r4, #56]
 5741 0058 F2E7     		b	.L314
 5742              	.L318:
 5743 005a 00BF     		.align	2
 5744              	.L317:
 5745 005c FF054000 		.word	4195839
 5746              		.cfi_endproc
 5747              	.LFE94:
 5749              		.section	.text.SD_DMATxAbort,"ax",%progbits
 5750              		.align	1
 5751              		.syntax unified
 5752              		.thumb
 5753              		.thumb_func
 5755              	SD_DMATxAbort:
 5756              	.LVL446:
 5757              	.LFB95:
2531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5758              		.loc 1 2531 1 is_stmt 1 view -0
 5759              		.cfi_startproc
 5760              		@ args = 0, pretend = 0, frame = 0
 5761              		@ frame_needed = 0, uses_anonymous_args = 0
2531:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5762              		.loc 1 2531 1 is_stmt 0 view .LVU2139
 5763 0000 10B5     		push	{r4, lr}
 5764              	.LCFI74:
 5765              		.cfi_def_cfa_offset 8
 5766              		.cfi_offset 4, -8
 5767              		.cfi_offset 14, -4
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5768              		.loc 1 2532 3 is_stmt 1 view .LVU2140
2532:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5769              		.loc 1 2532 21 is_stmt 0 view .LVU2141
 5770 0002 446A     		ldr	r4, [r0, #36]
 5771              	.LVL447:
2533:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5772              		.loc 1 2533 3 is_stmt 1 view .LVU2142
2536:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5773              		.loc 1 2536 3 view .LVU2143
 5774 0004 2368     		ldr	r3, [r4]
 5775 0006 40F23A52 		movw	r2, #1338
 5776 000a 9A63     		str	r2, [r3, #56]
2538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5777              		.loc 1 2538 3 view .LVU2144
2538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5778              		.loc 1 2538 15 is_stmt 0 view .LVU2145
 5779 000c 2046     		mov	r0, r4
 5780              	.LVL448:
2538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
ARM GAS  /tmp/cc3mRTku.s 			page 194


 5781              		.loc 1 2538 15 view .LVU2146
 5782 000e FFF7FEFF 		bl	HAL_SD_GetCardState
 5783              	.LVL449:
2539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5784              		.loc 1 2539 3 is_stmt 1 view .LVU2147
2539:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5785              		.loc 1 2539 14 is_stmt 0 view .LVU2148
 5786 0012 0123     		movs	r3, #1
 5787 0014 84F83430 		strb	r3, [r4, #52]
2540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5788              		.loc 1 2540 3 is_stmt 1 view .LVU2149
2540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5789              		.loc 1 2540 16 is_stmt 0 view .LVU2150
 5790 0018 0023     		movs	r3, #0
 5791 001a 2363     		str	r3, [r4, #48]
2541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5792              		.loc 1 2541 3 is_stmt 1 view .LVU2151
2541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5793              		.loc 1 2541 43 is_stmt 0 view .LVU2152
 5794 001c 0538     		subs	r0, r0, #5
 5795              	.LVL450:
2541:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5796              		.loc 1 2541 5 view .LVU2153
 5797 001e 0128     		cmp	r0, #1
 5798 0020 05D9     		bls	.L324
 5799              	.LVL451:
 5800              	.L320:
2546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5801              		.loc 1 2546 3 is_stmt 1 view .LVU2154
2546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5802              		.loc 1 2546 9 is_stmt 0 view .LVU2155
 5803 0022 A36B     		ldr	r3, [r4, #56]
2546:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5804              		.loc 1 2546 5 view .LVU2156
 5805 0024 53B9     		cbnz	r3, .L321
2551:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 5806              		.loc 1 2551 5 is_stmt 1 view .LVU2157
 5807 0026 2046     		mov	r0, r4
 5808 0028 FFF7FEFF 		bl	HAL_SD_AbortCallback
 5809              	.LVL452:
 5810              	.L319:
2562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5811              		.loc 1 2562 1 is_stmt 0 view .LVU2158
 5812 002c 10BD     		pop	{r4, pc}
 5813              	.LVL453:
 5814              	.L324:
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5815              		.loc 1 2543 5 is_stmt 1 view .LVU2159
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5816              		.loc 1 2543 23 is_stmt 0 view .LVU2160
 5817 002e 2068     		ldr	r0, [r4]
 5818              	.LVL454:
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5819              		.loc 1 2543 23 view .LVU2161
 5820 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5821              	.LVL455:
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
ARM GAS  /tmp/cc3mRTku.s 			page 195


 5822              		.loc 1 2543 8 discriminator 1 view .LVU2162
 5823 0034 A36B     		ldr	r3, [r4, #56]
2543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5824              		.loc 1 2543 20 discriminator 1 view .LVU2163
 5825 0036 0343     		orrs	r3, r3, r0
 5826 0038 A363     		str	r3, [r4, #56]
 5827 003a F2E7     		b	.L320
 5828              	.L321:
2559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 5829              		.loc 1 2559 5 is_stmt 1 view .LVU2164
 5830 003c 2046     		mov	r0, r4
 5831 003e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5832              	.LVL456:
2562:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5833              		.loc 1 2562 1 is_stmt 0 view .LVU2165
 5834 0042 F3E7     		b	.L319
 5835              		.cfi_endproc
 5836              	.LFE95:
 5838              		.section	.text.SD_DMARxAbort,"ax",%progbits
 5839              		.align	1
 5840              		.syntax unified
 5841              		.thumb
 5842              		.thumb_func
 5844              	SD_DMARxAbort:
 5845              	.LVL457:
 5846              	.LFB96:
2570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5847              		.loc 1 2570 1 is_stmt 1 view -0
 5848              		.cfi_startproc
 5849              		@ args = 0, pretend = 0, frame = 0
 5850              		@ frame_needed = 0, uses_anonymous_args = 0
2570:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5851              		.loc 1 2570 1 is_stmt 0 view .LVU2167
 5852 0000 10B5     		push	{r4, lr}
 5853              	.LCFI75:
 5854              		.cfi_def_cfa_offset 8
 5855              		.cfi_offset 4, -8
 5856              		.cfi_offset 14, -4
2571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5857              		.loc 1 2571 3 is_stmt 1 view .LVU2168
2571:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5858              		.loc 1 2571 21 is_stmt 0 view .LVU2169
 5859 0002 446A     		ldr	r4, [r0, #36]
 5860              	.LVL458:
2572:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5861              		.loc 1 2572 3 is_stmt 1 view .LVU2170
2575:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5862              		.loc 1 2575 3 view .LVU2171
 5863 0004 2368     		ldr	r3, [r4]
 5864 0006 40F23A52 		movw	r2, #1338
 5865 000a 9A63     		str	r2, [r3, #56]
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5866              		.loc 1 2577 3 view .LVU2172
2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5867              		.loc 1 2577 15 is_stmt 0 view .LVU2173
 5868 000c 2046     		mov	r0, r4
 5869              	.LVL459:
ARM GAS  /tmp/cc3mRTku.s 			page 196


2577:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5870              		.loc 1 2577 15 view .LVU2174
 5871 000e FFF7FEFF 		bl	HAL_SD_GetCardState
 5872              	.LVL460:
2578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5873              		.loc 1 2578 3 is_stmt 1 view .LVU2175
2578:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5874              		.loc 1 2578 14 is_stmt 0 view .LVU2176
 5875 0012 0123     		movs	r3, #1
 5876 0014 84F83430 		strb	r3, [r4, #52]
2579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5877              		.loc 1 2579 3 is_stmt 1 view .LVU2177
2579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5878              		.loc 1 2579 16 is_stmt 0 view .LVU2178
 5879 0018 0023     		movs	r3, #0
 5880 001a 2363     		str	r3, [r4, #48]
2580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5881              		.loc 1 2580 3 is_stmt 1 view .LVU2179
2580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5882              		.loc 1 2580 43 is_stmt 0 view .LVU2180
 5883 001c 0538     		subs	r0, r0, #5
 5884              	.LVL461:
2580:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5885              		.loc 1 2580 5 view .LVU2181
 5886 001e 0128     		cmp	r0, #1
 5887 0020 05D9     		bls	.L330
 5888              	.LVL462:
 5889              	.L326:
2585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5890              		.loc 1 2585 3 is_stmt 1 view .LVU2182
2585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5891              		.loc 1 2585 9 is_stmt 0 view .LVU2183
 5892 0022 A36B     		ldr	r3, [r4, #56]
2585:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5893              		.loc 1 2585 5 view .LVU2184
 5894 0024 53B9     		cbnz	r3, .L327
2590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 5895              		.loc 1 2590 5 is_stmt 1 view .LVU2185
 5896 0026 2046     		mov	r0, r4
 5897 0028 FFF7FEFF 		bl	HAL_SD_AbortCallback
 5898              	.LVL463:
 5899              	.L325:
2601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5900              		.loc 1 2601 1 is_stmt 0 view .LVU2186
 5901 002c 10BD     		pop	{r4, pc}
 5902              	.LVL464:
 5903              	.L330:
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5904              		.loc 1 2582 5 is_stmt 1 view .LVU2187
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5905              		.loc 1 2582 23 is_stmt 0 view .LVU2188
 5906 002e 2068     		ldr	r0, [r4]
 5907              	.LVL465:
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5908              		.loc 1 2582 23 view .LVU2189
 5909 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5910              	.LVL466:
ARM GAS  /tmp/cc3mRTku.s 			page 197


2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5911              		.loc 1 2582 8 discriminator 1 view .LVU2190
 5912 0034 A36B     		ldr	r3, [r4, #56]
2582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 5913              		.loc 1 2582 20 discriminator 1 view .LVU2191
 5914 0036 0343     		orrs	r3, r3, r0
 5915 0038 A363     		str	r3, [r4, #56]
 5916 003a F2E7     		b	.L326
 5917              	.L327:
2598:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif
 5918              		.loc 1 2598 5 is_stmt 1 view .LVU2192
 5919 003c 2046     		mov	r0, r4
 5920 003e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5921              	.LVL467:
2601:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5922              		.loc 1 2601 1 is_stmt 0 view .LVU2193
 5923 0042 F3E7     		b	.L325
 5924              		.cfi_endproc
 5925              	.LFE96:
 5927              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 5928              		.align	1
 5929              		.global	HAL_SD_IRQHandler
 5930              		.syntax unified
 5931              		.thumb
 5932              		.thumb_func
 5934              	HAL_SD_IRQHandler:
 5935              	.LVL468:
 5936              	.LFB77:
1480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 5937              		.loc 1 1480 1 is_stmt 1 view -0
 5938              		.cfi_startproc
 5939              		@ args = 0, pretend = 0, frame = 0
 5940              		@ frame_needed = 0, uses_anonymous_args = 0
1480:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t errorstate;
 5941              		.loc 1 1480 1 is_stmt 0 view .LVU2195
 5942 0000 38B5     		push	{r3, r4, r5, lr}
 5943              	.LCFI76:
 5944              		.cfi_def_cfa_offset 16
 5945              		.cfi_offset 3, -16
 5946              		.cfi_offset 4, -12
 5947              		.cfi_offset 5, -8
 5948              		.cfi_offset 14, -4
 5949 0002 0446     		mov	r4, r0
1481:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t context = hsd->Context;
 5950              		.loc 1 1481 3 is_stmt 1 view .LVU2196
1482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5951              		.loc 1 1482 3 view .LVU2197
1482:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5952              		.loc 1 1482 12 is_stmt 0 view .LVU2198
 5953 0004 056B     		ldr	r5, [r0, #48]
 5954              	.LVL469:
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5955              		.loc 1 1485 3 is_stmt 1 view .LVU2199
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5956              		.loc 1 1485 7 is_stmt 0 view .LVU2200
 5957 0006 0368     		ldr	r3, [r0]
 5958 0008 5A6B     		ldr	r2, [r3, #52]
ARM GAS  /tmp/cc3mRTku.s 			page 198


1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5959              		.loc 1 1485 5 view .LVU2201
 5960 000a 12F4004F 		tst	r2, #32768
 5961 000e 02D0     		beq	.L332
1485:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5962              		.loc 1 1485 60 discriminator 1 view .LVU2202
 5963 0010 15F0080F 		tst	r5, #8
 5964 0014 28D1     		bne	.L348
 5965              	.L332:
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5966              		.loc 1 1490 8 is_stmt 1 view .LVU2203
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5967              		.loc 1 1490 11 is_stmt 0 view .LVU2204
 5968 0016 5A6B     		ldr	r2, [r3, #52]
1490:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 5969              		.loc 1 1490 10 view .LVU2205
 5970 0018 12F4807F 		tst	r2, #256
 5971 001c 5AD0     		beq	.L334
1492:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5972              		.loc 1 1492 5 is_stmt 1 view .LVU2206
 5973 001e 4FF48072 		mov	r2, #256
 5974 0022 9A63     		str	r2, [r3, #56]
1494:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                              SDIO_IT_TXUNDERR | SDIO_IT_RXOVERR  | SDIO_IT_TXFIFOHE |\
 5975              		.loc 1 1494 5 view .LVU2207
 5976 0024 2268     		ldr	r2, [r4]
 5977 0026 D36B     		ldr	r3, [r2, #60]
 5978 0028 23F44143 		bic	r3, r3, #49408
 5979 002c 23F03A03 		bic	r3, r3, #58
 5980 0030 D363     		str	r3, [r2, #60]
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     
 5981              		.loc 1 1498 5 view .LVU2208
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     
 5982              		.loc 1 1498 8 is_stmt 0 view .LVU2209
 5983 0032 2268     		ldr	r2, [r4]
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     
 5984              		.loc 1 1498 18 view .LVU2210
 5985 0034 D36A     		ldr	r3, [r2, #44]
1498:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     
 5986              		.loc 1 1498 26 view .LVU2211
 5987 0036 23F00103 		bic	r3, r3, #1
 5988 003a D362     		str	r3, [r2, #44]
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5989              		.loc 1 1500 5 is_stmt 1 view .LVU2212
1500:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 5990              		.loc 1 1500 7 is_stmt 0 view .LVU2213
 5991 003c 15F0080F 		tst	r5, #8
 5992 0040 26D0     		beq	.L335
1502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 5993              		.loc 1 1502 7 is_stmt 1 view .LVU2214
1502:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 5994              		.loc 1 1502 9 is_stmt 0 view .LVU2215
 5995 0042 15F0220F 		tst	r5, #34
 5996 0046 12D1     		bne	.L349
 5997              	.LVL470:
 5998              	.L336:
1517:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 5999              		.loc 1 1517 7 is_stmt 1 view .LVU2216
ARM GAS  /tmp/cc3mRTku.s 			page 199


 6000 0048 2368     		ldr	r3, [r4]
 6001 004a 40F23A52 		movw	r2, #1338
 6002 004e 9A63     		str	r2, [r3, #56]
1519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6003              		.loc 1 1519 7 view .LVU2217
1519:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6004              		.loc 1 1519 18 is_stmt 0 view .LVU2218
 6005 0050 0123     		movs	r3, #1
 6006 0052 84F83430 		strb	r3, [r4, #52]
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 6007              		.loc 1 1520 7 is_stmt 1 view .LVU2219
1520:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 6008              		.loc 1 1520 20 is_stmt 0 view .LVU2220
 6009 0056 0023     		movs	r3, #0
 6010 0058 2363     		str	r3, [r4, #48]
1521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6011              		.loc 1 1521 7 is_stmt 1 view .LVU2221
1521:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6012              		.loc 1 1521 9 is_stmt 0 view .LVU2222
 6013 005a 15F0030F 		tst	r5, #3
 6014 005e 13D0     		beq	.L337
1526:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6015              		.loc 1 1526 9 is_stmt 1 view .LVU2223
 6016 0060 2046     		mov	r0, r4
 6017 0062 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6018              	.LVL471:
 6019 0066 01E0     		b	.L331
 6020              	.LVL472:
 6021              	.L348:
1487:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6022              		.loc 1 1487 5 view .LVU2224
 6023 0068 FFF7FEFF 		bl	SD_Read_IT
 6024              	.LVL473:
 6025              	.L331:
1663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6026              		.loc 1 1663 1 is_stmt 0 view .LVU2225
 6027 006c 38BD     		pop	{r3, r4, r5, pc}
 6028              	.LVL474:
 6029              	.L349:
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6030              		.loc 1 1504 9 is_stmt 1 view .LVU2226
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6031              		.loc 1 1504 22 is_stmt 0 view .LVU2227
 6032 006e 2068     		ldr	r0, [r4]
 6033              	.LVL475:
1504:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6034              		.loc 1 1504 22 view .LVU2228
 6035 0070 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6036              	.LVL476:
1505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6037              		.loc 1 1505 9 is_stmt 1 view .LVU2229
1505:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6038              		.loc 1 1505 11 is_stmt 0 view .LVU2230
 6039 0074 0346     		mov	r3, r0
 6040 0076 0028     		cmp	r0, #0
 6041 0078 E6D0     		beq	.L336
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
ARM GAS  /tmp/cc3mRTku.s 			page 200


 6042              		.loc 1 1507 11 is_stmt 1 view .LVU2231
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6043              		.loc 1 1507 14 is_stmt 0 view .LVU2232
 6044 007a A26B     		ldr	r2, [r4, #56]
1507:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6045              		.loc 1 1507 26 view .LVU2233
 6046 007c 1343     		orrs	r3, r3, r2
 6047 007e A363     		str	r3, [r4, #56]
1511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6048              		.loc 1 1511 11 is_stmt 1 view .LVU2234
 6049 0080 2046     		mov	r0, r4
 6050              	.LVL477:
1511:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6051              		.loc 1 1511 11 is_stmt 0 view .LVU2235
 6052 0082 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6053              	.LVL478:
 6054 0086 DFE7     		b	.L336
 6055              	.LVL479:
 6056              	.L337:
1534:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6057              		.loc 1 1534 9 is_stmt 1 view .LVU2236
 6058 0088 2046     		mov	r0, r4
 6059 008a FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6060              	.LVL480:
 6061 008e EDE7     		b	.L331
 6062              	.LVL481:
 6063              	.L335:
1538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6064              		.loc 1 1538 10 view .LVU2237
1538:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6065              		.loc 1 1538 12 is_stmt 0 view .LVU2238
 6066 0090 15F0800F 		tst	r5, #128
 6067 0094 EAD0     		beq	.L331
1540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6068              		.loc 1 1540 7 is_stmt 1 view .LVU2239
1540:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6069              		.loc 1 1540 9 is_stmt 0 view .LVU2240
 6070 0096 15F0200F 		tst	r5, #32
 6071 009a 0ED1     		bne	.L350
 6072              	.LVL482:
 6073              	.L338:
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6074              		.loc 1 1553 7 is_stmt 1 view .LVU2241
1553:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6075              		.loc 1 1553 9 is_stmt 0 view .LVU2242
 6076 009c 15F0030F 		tst	r5, #3
 6077 00a0 E4D1     		bne	.L331
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6078              		.loc 1 1557 9 is_stmt 1 view .LVU2243
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6079              		.loc 1 1557 12 is_stmt 0 view .LVU2244
 6080 00a2 2268     		ldr	r2, [r4]
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6081              		.loc 1 1557 22 view .LVU2245
 6082 00a4 D36A     		ldr	r3, [r2, #44]
1557:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6083              		.loc 1 1557 30 view .LVU2246
ARM GAS  /tmp/cc3mRTku.s 			page 201


 6084 00a6 23F00803 		bic	r3, r3, #8
 6085 00aa D362     		str	r3, [r2, #44]
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6086              		.loc 1 1559 9 is_stmt 1 view .LVU2247
1559:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6087              		.loc 1 1559 20 is_stmt 0 view .LVU2248
 6088 00ac 0123     		movs	r3, #1
 6089 00ae 84F83430 		strb	r3, [r4, #52]
1564:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6090              		.loc 1 1564 9 is_stmt 1 view .LVU2249
 6091 00b2 2046     		mov	r0, r4
 6092 00b4 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6093              	.LVL483:
 6094 00b8 D8E7     		b	.L331
 6095              	.LVL484:
 6096              	.L350:
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6097              		.loc 1 1542 9 view .LVU2250
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6098              		.loc 1 1542 22 is_stmt 0 view .LVU2251
 6099 00ba 2068     		ldr	r0, [r4]
 6100              	.LVL485:
1542:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6101              		.loc 1 1542 22 view .LVU2252
 6102 00bc FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6103              	.LVL486:
1543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6104              		.loc 1 1543 9 is_stmt 1 view .LVU2253
1543:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6105              		.loc 1 1543 11 is_stmt 0 view .LVU2254
 6106 00c0 0346     		mov	r3, r0
 6107 00c2 0028     		cmp	r0, #0
 6108 00c4 EAD0     		beq	.L338
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6109              		.loc 1 1545 11 is_stmt 1 view .LVU2255
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6110              		.loc 1 1545 14 is_stmt 0 view .LVU2256
 6111 00c6 A26B     		ldr	r2, [r4, #56]
1545:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6112              		.loc 1 1545 26 view .LVU2257
 6113 00c8 1343     		orrs	r3, r3, r2
 6114 00ca A363     		str	r3, [r4, #56]
1549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6115              		.loc 1 1549 11 is_stmt 1 view .LVU2258
 6116 00cc 2046     		mov	r0, r4
 6117              	.LVL487:
1549:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6118              		.loc 1 1549 11 is_stmt 0 view .LVU2259
 6119 00ce FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6120              	.LVL488:
 6121 00d2 E3E7     		b	.L338
 6122              	.LVL489:
 6123              	.L334:
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6124              		.loc 1 1574 8 is_stmt 1 view .LVU2260
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6125              		.loc 1 1574 12 is_stmt 0 view .LVU2261
ARM GAS  /tmp/cc3mRTku.s 			page 202


 6126 00d4 5A6B     		ldr	r2, [r3, #52]
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6127              		.loc 1 1574 10 view .LVU2262
 6128 00d6 12F4804F 		tst	r2, #16384
 6129 00da 02D0     		beq	.L339
1574:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6130              		.loc 1 1574 65 discriminator 1 view .LVU2263
 6131 00dc 15F0080F 		tst	r5, #8
 6132 00e0 4CD1     		bne	.L351
 6133              	.L339:
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6134              		.loc 1 1579 8 is_stmt 1 view .LVU2264
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6135              		.loc 1 1579 11 is_stmt 0 view .LVU2265
 6136 00e2 5A6B     		ldr	r2, [r3, #52]
1579:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6137              		.loc 1 1579 10 view .LVU2266
 6138 00e4 12F03A0F 		tst	r2, #58
 6139 00e8 C0D0     		beq	.L331
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6140              		.loc 1 1582 5 is_stmt 1 view .LVU2267
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6141              		.loc 1 1582 8 is_stmt 0 view .LVU2268
 6142 00ea 5A6B     		ldr	r2, [r3, #52]
1582:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6143              		.loc 1 1582 7 view .LVU2269
 6144 00ec 12F0020F 		tst	r2, #2
 6145 00f0 03D0     		beq	.L340
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6146              		.loc 1 1584 7 is_stmt 1 view .LVU2270
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6147              		.loc 1 1584 10 is_stmt 0 view .LVU2271
 6148 00f2 A26B     		ldr	r2, [r4, #56]
1584:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6149              		.loc 1 1584 22 view .LVU2272
 6150 00f4 42F00202 		orr	r2, r2, #2
 6151 00f8 A263     		str	r2, [r4, #56]
 6152              	.L340:
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6153              		.loc 1 1586 5 is_stmt 1 view .LVU2273
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6154              		.loc 1 1586 8 is_stmt 0 view .LVU2274
 6155 00fa 5A6B     		ldr	r2, [r3, #52]
1586:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6156              		.loc 1 1586 7 view .LVU2275
 6157 00fc 12F0080F 		tst	r2, #8
 6158 0100 03D0     		beq	.L341
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6159              		.loc 1 1588 7 is_stmt 1 view .LVU2276
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6160              		.loc 1 1588 10 is_stmt 0 view .LVU2277
 6161 0102 A26B     		ldr	r2, [r4, #56]
1588:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6162              		.loc 1 1588 22 view .LVU2278
 6163 0104 42F00802 		orr	r2, r2, #8
 6164 0108 A263     		str	r2, [r4, #56]
 6165              	.L341:
ARM GAS  /tmp/cc3mRTku.s 			page 203


1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6166              		.loc 1 1590 5 is_stmt 1 view .LVU2279
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6167              		.loc 1 1590 8 is_stmt 0 view .LVU2280
 6168 010a 5A6B     		ldr	r2, [r3, #52]
1590:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6169              		.loc 1 1590 7 view .LVU2281
 6170 010c 12F0200F 		tst	r2, #32
 6171 0110 03D0     		beq	.L342
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6172              		.loc 1 1592 7 is_stmt 1 view .LVU2282
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6173              		.loc 1 1592 10 is_stmt 0 view .LVU2283
 6174 0112 A26B     		ldr	r2, [r4, #56]
1592:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6175              		.loc 1 1592 22 view .LVU2284
 6176 0114 42F02002 		orr	r2, r2, #32
 6177 0118 A263     		str	r2, [r4, #56]
 6178              	.L342:
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6179              		.loc 1 1594 5 is_stmt 1 view .LVU2285
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6180              		.loc 1 1594 8 is_stmt 0 view .LVU2286
 6181 011a 5A6B     		ldr	r2, [r3, #52]
1594:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6182              		.loc 1 1594 7 view .LVU2287
 6183 011c 12F0100F 		tst	r2, #16
 6184 0120 03D0     		beq	.L343
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6185              		.loc 1 1596 7 is_stmt 1 view .LVU2288
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6186              		.loc 1 1596 10 is_stmt 0 view .LVU2289
 6187 0122 A26B     		ldr	r2, [r4, #56]
1596:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6188              		.loc 1 1596 22 view .LVU2290
 6189 0124 42F01002 		orr	r2, r2, #16
 6190 0128 A263     		str	r2, [r4, #56]
 6191              	.L343:
1600:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6192              		.loc 1 1600 5 is_stmt 1 view .LVU2291
 6193 012a 40F23A72 		movw	r2, #1850
 6194 012e 9A63     		str	r2, [r3, #56]
1603:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                              SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR | SDIO_IT_STBITERR);
 6195              		.loc 1 1603 5 view .LVU2292
 6196 0130 2268     		ldr	r2, [r4]
 6197 0132 D36B     		ldr	r3, [r2, #60]
 6198 0134 23F44E73 		bic	r3, r3, #824
 6199 0138 23F00203 		bic	r3, r3, #2
 6200 013c D363     		str	r3, [r2, #60]
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6201              		.loc 1 1606 5 view .LVU2293
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6202              		.loc 1 1606 23 is_stmt 0 view .LVU2294
 6203 013e 2068     		ldr	r0, [r4]
 6204              	.LVL490:
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6205              		.loc 1 1606 23 view .LVU2295
ARM GAS  /tmp/cc3mRTku.s 			page 204


 6206 0140 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6207              	.LVL491:
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6208              		.loc 1 1606 8 discriminator 1 view .LVU2296
 6209 0144 A36B     		ldr	r3, [r4, #56]
1606:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6210              		.loc 1 1606 20 discriminator 1 view .LVU2297
 6211 0146 0343     		orrs	r3, r3, r0
 6212 0148 A363     		str	r3, [r4, #56]
1608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6213              		.loc 1 1608 5 is_stmt 1 view .LVU2298
1608:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6214              		.loc 1 1608 7 is_stmt 0 view .LVU2299
 6215 014a 15F0080F 		tst	r5, #8
 6216 014e 19D1     		bne	.L352
1619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6217              		.loc 1 1619 10 is_stmt 1 view .LVU2300
1619:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6218              		.loc 1 1619 12 is_stmt 0 view .LVU2301
 6219 0150 15F0800F 		tst	r5, #128
 6220 0154 8AD0     		beq	.L331
1622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6221              		.loc 1 1622 7 is_stmt 1 view .LVU2302
1622:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6222              		.loc 1 1622 9 is_stmt 0 view .LVU2303
 6223 0156 15F0300F 		tst	r5, #48
 6224 015a 1CD1     		bne	.L353
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6225              		.loc 1 1632 12 is_stmt 1 view .LVU2304
1632:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6226              		.loc 1 1632 14 is_stmt 0 view .LVU2305
 6227 015c 15F0030F 		tst	r5, #3
 6228 0160 26D0     		beq	.L346
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6229              		.loc 1 1635 9 is_stmt 1 view .LVU2306
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6230              		.loc 1 1635 12 is_stmt 0 view .LVU2307
 6231 0162 236C     		ldr	r3, [r4, #64]
1635:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6232              		.loc 1 1635 40 view .LVU2308
 6233 0164 174A     		ldr	r2, .L354
 6234 0166 5A63     		str	r2, [r3, #52]
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6235              		.loc 1 1637 9 is_stmt 1 view .LVU2309
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6236              		.loc 1 1637 12 is_stmt 0 view .LVU2310
 6237 0168 206C     		ldr	r0, [r4, #64]
 6238 016a FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6239              	.LVL492:
1637:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6240              		.loc 1 1637 11 discriminator 1 view .LVU2311
 6241 016e 0028     		cmp	r0, #0
 6242 0170 3FF47CAF 		beq	.L331
1639:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 6243              		.loc 1 1639 11 is_stmt 1 view .LVU2312
 6244 0174 206C     		ldr	r0, [r4, #64]
 6245 0176 FFF7FEFF 		bl	SD_DMARxAbort
ARM GAS  /tmp/cc3mRTku.s 			page 205


 6246              	.LVL493:
 6247 017a 77E7     		b	.L331
 6248              	.LVL494:
 6249              	.L351:
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6250              		.loc 1 1576 5 view .LVU2313
 6251 017c 2046     		mov	r0, r4
 6252              	.LVL495:
1576:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6253              		.loc 1 1576 5 is_stmt 0 view .LVU2314
 6254 017e FFF7FEFF 		bl	SD_Write_IT
 6255              	.LVL496:
 6256 0182 73E7     		b	.L331
 6257              	.L352:
1611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6258              		.loc 1 1611 7 is_stmt 1 view .LVU2315
1611:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6259              		.loc 1 1611 18 is_stmt 0 view .LVU2316
 6260 0184 0123     		movs	r3, #1
 6261 0186 84F83430 		strb	r3, [r4, #52]
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6262              		.loc 1 1612 7 is_stmt 1 view .LVU2317
1612:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6263              		.loc 1 1612 20 is_stmt 0 view .LVU2318
 6264 018a 0023     		movs	r3, #0
 6265 018c 2363     		str	r3, [r4, #48]
1616:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6266              		.loc 1 1616 7 is_stmt 1 view .LVU2319
 6267 018e 2046     		mov	r0, r4
 6268 0190 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6269              	.LVL497:
 6270 0194 6AE7     		b	.L331
 6271              	.L353:
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6272              		.loc 1 1625 9 view .LVU2320
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6273              		.loc 1 1625 12 is_stmt 0 view .LVU2321
 6274 0196 E36B     		ldr	r3, [r4, #60]
1625:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6275              		.loc 1 1625 40 view .LVU2322
 6276 0198 0B4A     		ldr	r2, .L354+4
 6277 019a 5A63     		str	r2, [r3, #52]
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6278              		.loc 1 1627 9 is_stmt 1 view .LVU2323
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6279              		.loc 1 1627 12 is_stmt 0 view .LVU2324
 6280 019c E06B     		ldr	r0, [r4, #60]
 6281 019e FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6282              	.LVL498:
1627:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         {
 6283              		.loc 1 1627 11 discriminator 1 view .LVU2325
 6284 01a2 0028     		cmp	r0, #0
 6285 01a4 3FF462AF 		beq	.L331
1629:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         }
 6286              		.loc 1 1629 11 is_stmt 1 view .LVU2326
 6287 01a8 E06B     		ldr	r0, [r4, #60]
 6288 01aa FFF7FEFF 		bl	SD_DMATxAbort
ARM GAS  /tmp/cc3mRTku.s 			page 206


 6289              	.LVL499:
 6290 01ae 5DE7     		b	.L331
 6291              	.L346:
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 6292              		.loc 1 1644 9 view .LVU2327
1644:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 6293              		.loc 1 1644 24 is_stmt 0 view .LVU2328
 6294 01b0 0023     		movs	r3, #0
 6295 01b2 A363     		str	r3, [r4, #56]
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 6296              		.loc 1 1645 9 is_stmt 1 view .LVU2329
1645:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 6297              		.loc 1 1645 20 is_stmt 0 view .LVU2330
 6298 01b4 0122     		movs	r2, #1
 6299 01b6 84F83420 		strb	r2, [r4, #52]
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6300              		.loc 1 1646 9 is_stmt 1 view .LVU2331
1646:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6301              		.loc 1 1646 22 is_stmt 0 view .LVU2332
 6302 01ba 2363     		str	r3, [r4, #48]
1650:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6303              		.loc 1 1650 9 is_stmt 1 view .LVU2333
 6304 01bc 2046     		mov	r0, r4
 6305 01be FFF7FEFF 		bl	HAL_SD_AbortCallback
 6306              	.LVL500:
1662:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 6307              		.loc 1 1662 3 view .LVU2334
1663:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6308              		.loc 1 1663 1 is_stmt 0 view .LVU2335
 6309 01c2 53E7     		b	.L331
 6310              	.L355:
 6311              		.align	2
 6312              	.L354:
 6313 01c4 00000000 		.word	SD_DMARxAbort
 6314 01c8 00000000 		.word	SD_DMATxAbort
 6315              		.cfi_endproc
 6316              	.LFE77:
 6318              		.section	.text.HAL_SD_Abort,"ax",%progbits
 6319              		.align	1
 6320              		.global	HAL_SD_Abort
 6321              		.syntax unified
 6322              		.thumb
 6323              		.thumb_func
 6325              	HAL_SD_Abort:
 6326              	.LVL501:
 6327              	.LFB90:
2285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6328              		.loc 1 2285 1 is_stmt 1 view -0
 6329              		.cfi_startproc
 6330              		@ args = 0, pretend = 0, frame = 0
 6331              		@ frame_needed = 0, uses_anonymous_args = 0
2285:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6332              		.loc 1 2285 1 is_stmt 0 view .LVU2337
 6333 0000 10B5     		push	{r4, lr}
 6334              	.LCFI77:
 6335              		.cfi_def_cfa_offset 8
 6336              		.cfi_offset 4, -8
ARM GAS  /tmp/cc3mRTku.s 			page 207


 6337              		.cfi_offset 14, -4
 6338 0002 0446     		mov	r4, r0
2286:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6339              		.loc 1 2286 3 is_stmt 1 view .LVU2338
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6340              		.loc 1 2287 3 view .LVU2339
2287:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6341              		.loc 1 2287 12 is_stmt 0 view .LVU2340
 6342 0004 016B     		ldr	r1, [r0, #48]
 6343              	.LVL502:
2290:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
 6344              		.loc 1 2290 3 is_stmt 1 view .LVU2341
 6345 0006 0268     		ldr	r2, [r0]
 6346 0008 D36B     		ldr	r3, [r2, #60]
 6347 000a 23F49D73 		bic	r3, r3, #314
 6348 000e D363     		str	r3, [r2, #60]
2294:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6349              		.loc 1 2294 3 view .LVU2342
 6350 0010 0368     		ldr	r3, [r0]
 6351 0012 40F23A52 		movw	r2, #1338
 6352 0016 9A63     		str	r2, [r3, #56]
2296:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6353              		.loc 1 2296 3 view .LVU2343
 6354 0018 0268     		ldr	r2, [r0]
 6355 001a D36A     		ldr	r3, [r2, #44]
 6356 001c 23F00103 		bic	r3, r3, #1
 6357 0020 D362     		str	r3, [r2, #44]
2298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6358              		.loc 1 2298 3 view .LVU2344
2298:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6359              		.loc 1 2298 6 is_stmt 0 view .LVU2345
 6360 0022 11F0800F 		tst	r1, #128
 6361 0026 0AD0     		beq	.L357
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6362              		.loc 1 2301 5 is_stmt 1 view .LVU2346
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6363              		.loc 1 2301 8 is_stmt 0 view .LVU2347
 6364 0028 0268     		ldr	r2, [r0]
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6365              		.loc 1 2301 18 view .LVU2348
 6366 002a D36A     		ldr	r3, [r2, #44]
2301:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6367              		.loc 1 2301 26 view .LVU2349
 6368 002c 23F00803 		bic	r3, r3, #8
 6369 0030 D362     		str	r3, [r2, #44]
2304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6370              		.loc 1 2304 5 is_stmt 1 view .LVU2350
2304:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6371              		.loc 1 2304 8 is_stmt 0 view .LVU2351
 6372 0032 11F0300F 		tst	r1, #48
 6373 0036 11D1     		bne	.L363
2312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6374              		.loc 1 2312 10 is_stmt 1 view .LVU2352
2312:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6375              		.loc 1 2312 13 is_stmt 0 view .LVU2353
 6376 0038 11F0030F 		tst	r1, #3
 6377 003c 18D1     		bne	.L364
ARM GAS  /tmp/cc3mRTku.s 			page 208


 6378              	.LVL503:
 6379              	.L357:
2322:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6380              		.loc 1 2322 5 is_stmt 1 view .LVU2354
2325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6381              		.loc 1 2325 3 view .LVU2355
2325:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6382              		.loc 1 2325 14 is_stmt 0 view .LVU2356
 6383 003e 0123     		movs	r3, #1
 6384 0040 84F83430 		strb	r3, [r4, #52]
2328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6385              		.loc 1 2328 3 is_stmt 1 view .LVU2357
2328:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6386              		.loc 1 2328 16 is_stmt 0 view .LVU2358
 6387 0044 0023     		movs	r3, #0
 6388 0046 2363     		str	r3, [r4, #48]
2330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6389              		.loc 1 2330 3 is_stmt 1 view .LVU2359
2330:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6390              		.loc 1 2330 15 is_stmt 0 view .LVU2360
 6391 0048 2046     		mov	r0, r4
 6392 004a FFF7FEFF 		bl	HAL_SD_GetCardState
 6393              	.LVL504:
2331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6394              		.loc 1 2331 3 is_stmt 1 view .LVU2361
2331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6395              		.loc 1 2331 43 is_stmt 0 view .LVU2362
 6396 004e 0538     		subs	r0, r0, #5
 6397              	.LVL505:
2331:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6398              		.loc 1 2331 5 view .LVU2363
 6399 0050 0128     		cmp	r0, #1
 6400 0052 17D9     		bls	.L365
 6401              	.LVL506:
 6402              	.L359:
2335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6403              		.loc 1 2335 3 is_stmt 1 view .LVU2364
2335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6404              		.loc 1 2335 9 is_stmt 0 view .LVU2365
 6405 0054 A36B     		ldr	r3, [r4, #56]
2335:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6406              		.loc 1 2335 5 view .LVU2366
 6407 0056 D3B9     		cbnz	r3, .L361
2339:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 6408              		.loc 1 2339 10 view .LVU2367
 6409 0058 0020     		movs	r0, #0
 6410              	.L360:
2340:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6411              		.loc 1 2340 1 view .LVU2368
 6412 005a 10BD     		pop	{r4, pc}
 6413              	.LVL507:
 6414              	.L363:
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6415              		.loc 1 2306 7 is_stmt 1 view .LVU2369
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6416              		.loc 1 2306 10 is_stmt 0 view .LVU2370
 6417 005c C06B     		ldr	r0, [r0, #60]
ARM GAS  /tmp/cc3mRTku.s 			page 209


 6418              	.LVL508:
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6419              		.loc 1 2306 10 view .LVU2371
 6420 005e FFF7FEFF 		bl	HAL_DMA_Abort
 6421              	.LVL509:
2306:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6422              		.loc 1 2306 9 discriminator 1 view .LVU2372
 6423 0062 0028     		cmp	r0, #0
 6424 0064 EBD0     		beq	.L357
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6425              		.loc 1 2308 9 is_stmt 1 view .LVU2373
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6426              		.loc 1 2308 12 is_stmt 0 view .LVU2374
 6427 0066 A36B     		ldr	r3, [r4, #56]
2308:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6428              		.loc 1 2308 24 view .LVU2375
 6429 0068 43F08043 		orr	r3, r3, #1073741824
 6430 006c A363     		str	r3, [r4, #56]
 6431 006e E6E7     		b	.L357
 6432              	.LVL510:
 6433              	.L364:
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6434              		.loc 1 2314 7 is_stmt 1 view .LVU2376
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6435              		.loc 1 2314 10 is_stmt 0 view .LVU2377
 6436 0070 006C     		ldr	r0, [r0, #64]
 6437              	.LVL511:
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6438              		.loc 1 2314 10 view .LVU2378
 6439 0072 FFF7FEFF 		bl	HAL_DMA_Abort
 6440              	.LVL512:
2314:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6441              		.loc 1 2314 9 discriminator 1 view .LVU2379
 6442 0076 0028     		cmp	r0, #0
 6443 0078 E1D0     		beq	.L357
2316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6444              		.loc 1 2316 9 is_stmt 1 view .LVU2380
2316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6445              		.loc 1 2316 12 is_stmt 0 view .LVU2381
 6446 007a A36B     		ldr	r3, [r4, #56]
2316:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6447              		.loc 1 2316 24 view .LVU2382
 6448 007c 43F08043 		orr	r3, r3, #1073741824
 6449 0080 A363     		str	r3, [r4, #56]
 6450 0082 DCE7     		b	.L357
 6451              	.LVL513:
 6452              	.L365:
2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6453              		.loc 1 2333 5 is_stmt 1 view .LVU2383
2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6454              		.loc 1 2333 22 is_stmt 0 view .LVU2384
 6455 0084 2068     		ldr	r0, [r4]
 6456              	.LVL514:
2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6457              		.loc 1 2333 22 view .LVU2385
 6458 0086 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6459              	.LVL515:
ARM GAS  /tmp/cc3mRTku.s 			page 210


2333:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6460              		.loc 1 2333 20 discriminator 1 view .LVU2386
 6461 008a A063     		str	r0, [r4, #56]
 6462 008c E2E7     		b	.L359
 6463              	.L361:
2337:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   }
 6464              		.loc 1 2337 12 view .LVU2387
 6465 008e 0120     		movs	r0, #1
 6466 0090 E3E7     		b	.L360
 6467              		.cfi_endproc
 6468              	.LFE90:
 6470              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 6471              		.align	1
 6472              		.global	HAL_SD_Abort_IT
 6473              		.syntax unified
 6474              		.thumb
 6475              		.thumb_func
 6477              	HAL_SD_Abort_IT:
 6478              	.LVL516:
 6479              	.LFB91:
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6480              		.loc 1 2349 1 is_stmt 1 view -0
 6481              		.cfi_startproc
 6482              		@ args = 0, pretend = 0, frame = 0
 6483              		@ frame_needed = 0, uses_anonymous_args = 0
2349:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6484              		.loc 1 2349 1 is_stmt 0 view .LVU2389
 6485 0000 10B5     		push	{r4, lr}
 6486              	.LCFI78:
 6487              		.cfi_def_cfa_offset 8
 6488              		.cfi_offset 4, -8
 6489              		.cfi_offset 14, -4
 6490 0002 0446     		mov	r4, r0
2350:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6491              		.loc 1 2350 3 is_stmt 1 view .LVU2390
2351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6492              		.loc 1 2351 3 view .LVU2391
2351:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6493              		.loc 1 2351 12 is_stmt 0 view .LVU2392
 6494 0004 026B     		ldr	r2, [r0, #48]
 6495              	.LVL517:
2354:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
 6496              		.loc 1 2354 3 is_stmt 1 view .LVU2393
 6497 0006 0168     		ldr	r1, [r0]
 6498 0008 CB6B     		ldr	r3, [r1, #60]
 6499 000a 23F49D73 		bic	r3, r3, #314
 6500 000e CB63     		str	r3, [r1, #60]
2357:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6501              		.loc 1 2357 3 view .LVU2394
 6502 0010 0168     		ldr	r1, [r0]
 6503 0012 CB6A     		ldr	r3, [r1, #44]
 6504 0014 23F00103 		bic	r3, r3, #1
 6505 0018 CB62     		str	r3, [r1, #44]
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6506              		.loc 1 2359 3 view .LVU2395
2359:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****   {
 6507              		.loc 1 2359 6 is_stmt 0 view .LVU2396
ARM GAS  /tmp/cc3mRTku.s 			page 211


 6508 001a 12F0800F 		tst	r2, #128
 6509 001e 22D0     		beq	.L367
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6510              		.loc 1 2362 5 is_stmt 1 view .LVU2397
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6511              		.loc 1 2362 8 is_stmt 0 view .LVU2398
 6512 0020 0168     		ldr	r1, [r0]
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6513              		.loc 1 2362 18 view .LVU2399
 6514 0022 CB6A     		ldr	r3, [r1, #44]
2362:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6515              		.loc 1 2362 26 view .LVU2400
 6516 0024 23F00803 		bic	r3, r3, #8
 6517 0028 CB62     		str	r3, [r1, #44]
2365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6518              		.loc 1 2365 5 is_stmt 1 view .LVU2401
2365:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6519              		.loc 1 2365 8 is_stmt 0 view .LVU2402
 6520 002a 12F0300F 		tst	r2, #48
 6521 002e 04D1     		bne	.L374
2374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6522              		.loc 1 2374 10 is_stmt 1 view .LVU2403
2374:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6523              		.loc 1 2374 13 is_stmt 0 view .LVU2404
 6524 0030 12F0030F 		tst	r2, #3
 6525 0034 0CD1     		bne	.L375
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 6526              		.loc 1 2414 10 view .LVU2405
 6527 0036 0020     		movs	r0, #0
 6528              	.LVL518:
 6529              	.L369:
2415:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6530              		.loc 1 2415 1 view .LVU2406
 6531 0038 10BD     		pop	{r4, pc}
 6532              	.LVL519:
 6533              	.L374:
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6534              		.loc 1 2367 7 is_stmt 1 view .LVU2407
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6535              		.loc 1 2367 10 is_stmt 0 view .LVU2408
 6536 003a C36B     		ldr	r3, [r0, #60]
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6537              		.loc 1 2367 38 view .LVU2409
 6538 003c 184A     		ldr	r2, .L378
 6539              	.LVL520:
2367:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6540              		.loc 1 2367 38 view .LVU2410
 6541 003e 5A63     		str	r2, [r3, #52]
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6542              		.loc 1 2368 7 is_stmt 1 view .LVU2411
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6543              		.loc 1 2368 10 is_stmt 0 view .LVU2412
 6544 0040 C06B     		ldr	r0, [r0, #60]
 6545              	.LVL521:
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6546              		.loc 1 2368 10 view .LVU2413
 6547 0042 FFF7FEFF 		bl	HAL_DMA_Abort_IT
ARM GAS  /tmp/cc3mRTku.s 			page 212


 6548              	.LVL522:
2368:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6549              		.loc 1 2368 9 discriminator 1 view .LVU2414
 6550 0046 0028     		cmp	r0, #0
 6551 0048 F6D0     		beq	.L369
2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6552              		.loc 1 2370 9 is_stmt 1 view .LVU2415
2370:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6553              		.loc 1 2370 21 is_stmt 0 view .LVU2416
 6554 004a 0020     		movs	r0, #0
 6555 004c E063     		str	r0, [r4, #60]
 6556 004e F3E7     		b	.L369
 6557              	.LVL523:
 6558              	.L375:
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6559              		.loc 1 2376 7 is_stmt 1 view .LVU2417
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6560              		.loc 1 2376 10 is_stmt 0 view .LVU2418
 6561 0050 036C     		ldr	r3, [r0, #64]
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6562              		.loc 1 2376 38 view .LVU2419
 6563 0052 144A     		ldr	r2, .L378+4
 6564              	.LVL524:
2376:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6565              		.loc 1 2376 38 view .LVU2420
 6566 0054 5A63     		str	r2, [r3, #52]
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6567              		.loc 1 2377 7 is_stmt 1 view .LVU2421
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6568              		.loc 1 2377 10 is_stmt 0 view .LVU2422
 6569 0056 006C     		ldr	r0, [r0, #64]
 6570              	.LVL525:
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6571              		.loc 1 2377 10 view .LVU2423
 6572 0058 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6573              	.LVL526:
2377:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       {
 6574              		.loc 1 2377 9 discriminator 1 view .LVU2424
 6575 005c 0028     		cmp	r0, #0
 6576 005e EBD0     		beq	.L369
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6577              		.loc 1 2379 9 is_stmt 1 view .LVU2425
2379:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****       }
 6578              		.loc 1 2379 21 is_stmt 0 view .LVU2426
 6579 0060 0020     		movs	r0, #0
 6580 0062 2064     		str	r0, [r4, #64]
 6581 0064 E8E7     		b	.L369
 6582              	.LVL527:
 6583              	.L367:
2391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6584              		.loc 1 2391 5 is_stmt 1 view .LVU2427
 6585 0066 0368     		ldr	r3, [r0]
 6586 0068 40F23A52 		movw	r2, #1338
 6587              	.LVL528:
2391:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** 
 6588              		.loc 1 2391 5 is_stmt 0 view .LVU2428
 6589 006c 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/cc3mRTku.s 			page 213


2393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 6590              		.loc 1 2393 5 is_stmt 1 view .LVU2429
2393:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 6591              		.loc 1 2393 17 is_stmt 0 view .LVU2430
 6592 006e FFF7FEFF 		bl	HAL_SD_GetCardState
 6593              	.LVL529:
2394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 6594              		.loc 1 2394 5 is_stmt 1 view .LVU2431
2394:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 6595              		.loc 1 2394 16 is_stmt 0 view .LVU2432
 6596 0072 0123     		movs	r3, #1
 6597 0074 84F83430 		strb	r3, [r4, #52]
2395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6598              		.loc 1 2395 5 is_stmt 1 view .LVU2433
2395:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6599              		.loc 1 2395 18 is_stmt 0 view .LVU2434
 6600 0078 0023     		movs	r3, #0
 6601 007a 2363     		str	r3, [r4, #48]
2396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6602              		.loc 1 2396 5 is_stmt 1 view .LVU2435
2396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6603              		.loc 1 2396 45 is_stmt 0 view .LVU2436
 6604 007c 0538     		subs	r0, r0, #5
 6605              	.LVL530:
2396:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6606              		.loc 1 2396 7 view .LVU2437
 6607 007e 0128     		cmp	r0, #1
 6608 0080 03D9     		bls	.L376
 6609              	.LVL531:
 6610              	.L370:
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6611              		.loc 1 2400 5 is_stmt 1 view .LVU2438
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6612              		.loc 1 2400 11 is_stmt 0 view .LVU2439
 6613 0082 A36B     		ldr	r3, [r4, #56]
2400:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     {
 6614              		.loc 1 2400 7 view .LVU2440
 6615 0084 33B1     		cbz	r3, .L377
2402:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6616              		.loc 1 2402 14 view .LVU2441
 6617 0086 0120     		movs	r0, #1
 6618 0088 D6E7     		b	.L369
 6619              	.LVL532:
 6620              	.L376:
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6621              		.loc 1 2398 7 is_stmt 1 view .LVU2442
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6622              		.loc 1 2398 24 is_stmt 0 view .LVU2443
 6623 008a 2068     		ldr	r0, [r4]
 6624              	.LVL533:
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6625              		.loc 1 2398 24 view .LVU2444
 6626 008c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6627              	.LVL534:
2398:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c ****     }
 6628              		.loc 1 2398 22 discriminator 1 view .LVU2445
 6629 0090 A063     		str	r0, [r4, #56]
ARM GAS  /tmp/cc3mRTku.s 			page 214


 6630 0092 F6E7     		b	.L370
 6631              	.L377:
2409:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6632              		.loc 1 2409 7 is_stmt 1 view .LVU2446
 6633 0094 2046     		mov	r0, r4
 6634 0096 FFF7FEFF 		bl	HAL_SD_AbortCallback
 6635              	.LVL535:
2414:Drivers/STM32F1xx_HAL_Driver/Src/stm32f1xx_hal_sd.c **** }
 6636              		.loc 1 2414 10 is_stmt 0 view .LVU2447
 6637 009a 0020     		movs	r0, #0
 6638 009c CCE7     		b	.L369
 6639              	.L379:
 6640 009e 00BF     		.align	2
 6641              	.L378:
 6642 00a0 00000000 		.word	SD_DMATxAbort
 6643 00a4 00000000 		.word	SD_DMARxAbort
 6644              		.cfi_endproc
 6645              	.LFE91:
 6647              		.text
 6648              	.Letext0:
 6649              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 6650              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 6651              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 6652              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 6653              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 6654              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 6655              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_sdmmc.h"
 6656              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_sd.h"
 6657              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  /tmp/cc3mRTku.s 			page 215


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f1xx_hal_sd.c
     /tmp/cc3mRTku.s:19     .text.SD_DMATransmitCplt:00000000 $t
     /tmp/cc3mRTku.s:24     .text.SD_DMATransmitCplt:00000000 SD_DMATransmitCplt
     /tmp/cc3mRTku.s:50     .text.SD_PowerON:00000000 $t
     /tmp/cc3mRTku.s:55     .text.SD_PowerON:00000000 SD_PowerON
     /tmp/cc3mRTku.s:274    .text.SD_PowerON:000000bc $d
     /tmp/cc3mRTku.s:279    .text.SD_PowerOFF:00000000 $t
     /tmp/cc3mRTku.s:284    .text.SD_PowerOFF:00000000 SD_PowerOFF
     /tmp/cc3mRTku.s:310    .text.SD_Read_IT:00000000 $t
     /tmp/cc3mRTku.s:315    .text.SD_Read_IT:00000000 SD_Read_IT
     /tmp/cc3mRTku.s:418    .text.SD_Write_IT:00000000 $t
     /tmp/cc3mRTku.s:423    .text.SD_Write_IT:00000000 SD_Write_IT
     /tmp/cc3mRTku.s:540    .text.SD_SendSDStatus:00000000 $t
     /tmp/cc3mRTku.s:545    .text.SD_SendSDStatus:00000000 SD_SendSDStatus
     /tmp/cc3mRTku.s:821    .text.SD_FindSCR:00000000 $t
     /tmp/cc3mRTku.s:826    .text.SD_FindSCR:00000000 SD_FindSCR
     /tmp/cc3mRTku.s:1095   .text.SD_WideBus_Enable:00000000 $t
     /tmp/cc3mRTku.s:1100   .text.SD_WideBus_Enable:00000000 SD_WideBus_Enable
     /tmp/cc3mRTku.s:1195   .text.SD_WideBus_Disable:00000000 $t
     /tmp/cc3mRTku.s:1200   .text.SD_WideBus_Disable:00000000 SD_WideBus_Disable
     /tmp/cc3mRTku.s:1295   .text.SD_SendStatus:00000000 $t
     /tmp/cc3mRTku.s:1300   .text.SD_SendStatus:00000000 SD_SendStatus
     /tmp/cc3mRTku.s:1365   .text.HAL_SD_MspInit:00000000 $t
     /tmp/cc3mRTku.s:1371   .text.HAL_SD_MspInit:00000000 HAL_SD_MspInit
     /tmp/cc3mRTku.s:1386   .text.HAL_SD_MspDeInit:00000000 $t
     /tmp/cc3mRTku.s:1392   .text.HAL_SD_MspDeInit:00000000 HAL_SD_MspDeInit
     /tmp/cc3mRTku.s:1407   .text.HAL_SD_DeInit:00000000 $t
     /tmp/cc3mRTku.s:1413   .text.HAL_SD_DeInit:00000000 HAL_SD_DeInit
     /tmp/cc3mRTku.s:1467   .text.HAL_SD_ReadBlocks:00000000 $t
     /tmp/cc3mRTku.s:1473   .text.HAL_SD_ReadBlocks:00000000 HAL_SD_ReadBlocks
     /tmp/cc3mRTku.s:2037   .text.HAL_SD_ReadBlocks:0000024c $d
     /tmp/cc3mRTku.s:2042   .text.HAL_SD_WriteBlocks:00000000 $t
     /tmp/cc3mRTku.s:2048   .text.HAL_SD_WriteBlocks:00000000 HAL_SD_WriteBlocks
     /tmp/cc3mRTku.s:2541   .text.HAL_SD_WriteBlocks:00000208 $d
     /tmp/cc3mRTku.s:2546   .text.HAL_SD_ReadBlocks_IT:00000000 $t
     /tmp/cc3mRTku.s:2552   .text.HAL_SD_ReadBlocks_IT:00000000 HAL_SD_ReadBlocks_IT
     /tmp/cc3mRTku.s:2775   .text.HAL_SD_ReadBlocks_IT:000000c8 $d
     /tmp/cc3mRTku.s:2780   .text.HAL_SD_WriteBlocks_IT:00000000 $t
     /tmp/cc3mRTku.s:2786   .text.HAL_SD_WriteBlocks_IT:00000000 HAL_SD_WriteBlocks_IT
     /tmp/cc3mRTku.s:3008   .text.HAL_SD_WriteBlocks_IT:000000c0 $d
     /tmp/cc3mRTku.s:3013   .text.HAL_SD_ReadBlocks_DMA:00000000 $t
     /tmp/cc3mRTku.s:3019   .text.HAL_SD_ReadBlocks_DMA:00000000 HAL_SD_ReadBlocks_DMA
     /tmp/cc3mRTku.s:3303   .text.HAL_SD_ReadBlocks_DMA:00000124 $d
     /tmp/cc3mRTku.s:3994   .text.SD_DMAReceiveCplt:00000000 SD_DMAReceiveCplt
     /tmp/cc3mRTku.s:5635   .text.SD_DMAError:00000000 SD_DMAError
     /tmp/cc3mRTku.s:3311   .text.HAL_SD_WriteBlocks_DMA:00000000 $t
     /tmp/cc3mRTku.s:3317   .text.HAL_SD_WriteBlocks_DMA:00000000 HAL_SD_WriteBlocks_DMA
     /tmp/cc3mRTku.s:3607   .text.HAL_SD_WriteBlocks_DMA:00000120 $d
     /tmp/cc3mRTku.s:3615   .text.HAL_SD_Erase:00000000 $t
     /tmp/cc3mRTku.s:3621   .text.HAL_SD_Erase:00000000 HAL_SD_Erase
     /tmp/cc3mRTku.s:3873   .text.HAL_SD_Erase:000000f4 $d
     /tmp/cc3mRTku.s:3878   .text.HAL_SD_GetState:00000000 $t
     /tmp/cc3mRTku.s:3884   .text.HAL_SD_GetState:00000000 HAL_SD_GetState
     /tmp/cc3mRTku.s:3902   .text.HAL_SD_GetError:00000000 $t
     /tmp/cc3mRTku.s:3908   .text.HAL_SD_GetError:00000000 HAL_SD_GetError
     /tmp/cc3mRTku.s:3926   .text.HAL_SD_TxCpltCallback:00000000 $t
ARM GAS  /tmp/cc3mRTku.s 			page 216


     /tmp/cc3mRTku.s:3932   .text.HAL_SD_TxCpltCallback:00000000 HAL_SD_TxCpltCallback
     /tmp/cc3mRTku.s:3947   .text.HAL_SD_RxCpltCallback:00000000 $t
     /tmp/cc3mRTku.s:3953   .text.HAL_SD_RxCpltCallback:00000000 HAL_SD_RxCpltCallback
     /tmp/cc3mRTku.s:3968   .text.HAL_SD_ErrorCallback:00000000 $t
     /tmp/cc3mRTku.s:3974   .text.HAL_SD_ErrorCallback:00000000 HAL_SD_ErrorCallback
     /tmp/cc3mRTku.s:3989   .text.SD_DMAReceiveCplt:00000000 $t
     /tmp/cc3mRTku.s:4077   .text.HAL_SD_AbortCallback:00000000 $t
     /tmp/cc3mRTku.s:4083   .text.HAL_SD_AbortCallback:00000000 HAL_SD_AbortCallback
     /tmp/cc3mRTku.s:4098   .text.HAL_SD_GetCardCID:00000000 $t
     /tmp/cc3mRTku.s:4104   .text.HAL_SD_GetCardCID:00000000 HAL_SD_GetCardCID
     /tmp/cc3mRTku.s:4189   .text.HAL_SD_GetCardCSD:00000000 $t
     /tmp/cc3mRTku.s:4195   .text.HAL_SD_GetCardCSD:00000000 HAL_SD_GetCardCSD
     /tmp/cc3mRTku.s:4569   .text.HAL_SD_GetCardCSD:000001b4 $d
     /tmp/cc3mRTku.s:4574   .text.SD_InitCard:00000000 $t
     /tmp/cc3mRTku.s:4579   .text.SD_InitCard:00000000 SD_InitCard
     /tmp/cc3mRTku.s:4820   .text.HAL_SD_InitCard:00000000 $t
     /tmp/cc3mRTku.s:4826   .text.HAL_SD_InitCard:00000000 HAL_SD_InitCard
     /tmp/cc3mRTku.s:4996   .text.HAL_SD_InitCard:00000098 $d
     /tmp/cc3mRTku.s:5002   .text.HAL_SD_Init:00000000 $t
     /tmp/cc3mRTku.s:5008   .text.HAL_SD_Init:00000000 HAL_SD_Init
     /tmp/cc3mRTku.s:5098   .text.HAL_SD_GetCardStatus:00000000 $t
     /tmp/cc3mRTku.s:5104   .text.HAL_SD_GetCardStatus:00000000 HAL_SD_GetCardStatus
     /tmp/cc3mRTku.s:5283   .text.HAL_SD_GetCardStatus:000000a8 $d
     /tmp/cc3mRTku.s:5288   .text.HAL_SD_GetCardInfo:00000000 $t
     /tmp/cc3mRTku.s:5294   .text.HAL_SD_GetCardInfo:00000000 HAL_SD_GetCardInfo
     /tmp/cc3mRTku.s:5352   .text.HAL_SD_ConfigWideBusOperation:00000000 $t
     /tmp/cc3mRTku.s:5358   .text.HAL_SD_ConfigWideBusOperation:00000000 HAL_SD_ConfigWideBusOperation
     /tmp/cc3mRTku.s:5561   .text.HAL_SD_ConfigWideBusOperation:000000bc $d
     /tmp/cc3mRTku.s:5566   .text.HAL_SD_GetCardState:00000000 $t
     /tmp/cc3mRTku.s:5572   .text.HAL_SD_GetCardState:00000000 HAL_SD_GetCardState
     /tmp/cc3mRTku.s:5630   .text.SD_DMAError:00000000 $t
     /tmp/cc3mRTku.s:5745   .text.SD_DMAError:0000005c $d
     /tmp/cc3mRTku.s:5750   .text.SD_DMATxAbort:00000000 $t
     /tmp/cc3mRTku.s:5755   .text.SD_DMATxAbort:00000000 SD_DMATxAbort
     /tmp/cc3mRTku.s:5839   .text.SD_DMARxAbort:00000000 $t
     /tmp/cc3mRTku.s:5844   .text.SD_DMARxAbort:00000000 SD_DMARxAbort
     /tmp/cc3mRTku.s:5928   .text.HAL_SD_IRQHandler:00000000 $t
     /tmp/cc3mRTku.s:5934   .text.HAL_SD_IRQHandler:00000000 HAL_SD_IRQHandler
     /tmp/cc3mRTku.s:6313   .text.HAL_SD_IRQHandler:000001c4 $d
     /tmp/cc3mRTku.s:6319   .text.HAL_SD_Abort:00000000 $t
     /tmp/cc3mRTku.s:6325   .text.HAL_SD_Abort:00000000 HAL_SD_Abort
     /tmp/cc3mRTku.s:6471   .text.HAL_SD_Abort_IT:00000000 $t
     /tmp/cc3mRTku.s:6477   .text.HAL_SD_Abort_IT:00000000 HAL_SD_Abort_IT
     /tmp/cc3mRTku.s:6642   .text.HAL_SD_Abort_IT:000000a0 $d

UNDEFINED SYMBOLS
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDIO_GetResponse
SDIO_PowerState_OFF
SDIO_ReadFIFO
SDIO_WriteFIFO
HAL_GetTick
SDMMC_CmdBlockLength
SDIO_ConfigData
ARM GAS  /tmp/cc3mRTku.s 			page 217


SDMMC_CmdStatusRegister
SDMMC_CmdSendSCR
SDMMC_CmdBusWidth
SDMMC_CmdSendStatus
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
HAL_DMA_Start_IT
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDIO_GetPowerState
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
SDIO_Init
SDMMC_CmdSendCID
SDMMC_CmdSetRelAdd
SDIO_PowerState_ON
HAL_Delay
HAL_DMA_Abort_IT
HAL_DMA_Abort
